!function(t,l){"use strict";function e(t,a,e){var o=e.baseHref(),s=t[0];return function(t,e,n){var i,r;r=(n=n||{}).expires,i=l.isDefined(n.path)?n.path:o,l.isUndefined(e)&&(r="Thu, 01 Jan 1970 00:00:00 GMT",e=""),l.isString(r)&&(r=new Date(r)),e=(e=encodeURIComponent(t)+"="+encodeURIComponent(e))+(i?";path="+i:"")+(n.domain?";domain="+n.domain:""),e+=r?";expires="+r.toUTCString():"",e+=n.secure?";secure":"",4096<(n=(e+=n.samesite?";samesite="+n.samesite:"").length+1)&&a.warn("Cookie '"+t+"' possibly not set or overflowed because it was too large ("+n+" > 4096 bytes)!"),s.cookie=e}}l.module("ngCookies",["ng"]).info({angularVersion:"1.8.3"}).provider("$cookies",[function(){var r=this.defaults={};this.$get=["$$cookieReader","$$cookieWriter",function(e,i){return{get:function(t){return e()[t]},getObject:function(t){return(t=this.get(t))?l.fromJson(t):t},getAll:function(){return e()},put:function(t,e,n){i(t,e,n?l.extend({},r,n):r)},putObject:function(t,e,n){this.put(t,l.toJson(e),n)},remove:function(t,e){i(t,void 0,e?l.extend({},r,e):r)}}}]}]),e.$inject=["$document","$log","$browser"],l.module("ngCookies").provider("$$cookieWriter",function(){this.$get=e})}(window,window.angular),function(_,w){"use strict";var x,k,C,S,D,T,M,$,O,E,P=w.$$minErr("$sanitize");w.module("ngSanitize",[]).provider("$sanitize",function(){function t(t,e){return n(t.split(","),e)}function n(t,e){var n,i={};for(n=0;n<t.length;n++)i[e?T(t[n]):t[n]]=!0;return i}function e(t,e){e&&e.length&&k(t,n(e))}function a(t){for(var e={},n=0,i=t.length;n<i;n++){var r=t[n];e[r.name]=r.value}return e}function s(t){return t.replace(/&/g,"&amp;").replace(o,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+((t=t.charCodeAt(1))-56320)+65536)+";"}).replace(u,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function l(t,e){var n=e[t];if(n&&$.call(e,n))throw P("elclob",e.outerHTML||e.outerText);return n}var i=!1,r=!1;this.$get=["$$sanitizeUri",function(n){return i=!0,r&&k(m,p),function(t){var e=[];return O(t,E(e,function(t,e){return!/^unsafe:/.test(n(t,e))})),e.join("")}}],this.enableSvg=function(t){return D(t)?(r=t,this):r},this.addValidElements=function(t){return i||(S(t)&&(t={htmlElements:t}),e(p,t.svgElements),e(c,t.htmlVoidElements),e(m,t.htmlVoidElements),e(m,t.htmlElements)),this},this.addValidAttrs=function(t){return i||k(y,n(t,!0)),this},x=w.bind,k=w.extend,C=w.forEach,S=w.isArray,D=w.isDefined,T=w.$$lowercase,M=w.noop,O=function(t,e){null==t?t="":"string"!=typeof t&&(t=""+t);var n=b(t);if(!n)return"";var i=5;do{if(0===i)throw P("uinput");i--,t=n.innerHTML,n=b(t)}while(t!==n.innerHTML);for(i=n.firstChild;i;){switch(i.nodeType){case 1:e.start(i.nodeName.toLowerCase(),a(i.attributes));break;case 3:e.chars(i.textContent)}var r;if(!(r=i.firstChild)&&(1===i.nodeType&&e.end(i.nodeName.toLowerCase()),!(r=l("nextSibling",i))))for(;null==r&&(i=l("parentNode",i))!==n;)r=l("nextSibling",i),1===i.nodeType&&e.end(i.nodeName.toLowerCase());i=r}for(;i=n.firstChild;)n.removeChild(i)},E=function(t,a){var e=!1,o=x(t,t.push);return{start:function(r,t){r=T(r),!e&&g[r]&&(e=r),e||!0!==m[r]||(o("<"),o(r),C(t,function(t,e){var n=T(e),i="img"===r&&"src"===n||"background"===n;!0!==y[n]||!0===v[n]&&!a(t,i)||(o(" "),o(e),o('="'),o(s(t)),o('"'))}),o(">"))},end:function(t){t=T(t),e||!0!==m[t]||!0===c[t]||(o("</"),o(t),o(">")),t==e&&(e=!1)},chars:function(t){e||o(s(t))}}},$=_.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))};var o=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u=/([^#-~ |!])/g,c=t("area,br,col,hr,img,wbr"),d=t("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),h=t("rp,rt"),f=k({},h,d),p=(d=k({},d,t("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),h=k({},h,t("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),t("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan")),g=t("script,style"),m=k({},c,d,h,f),v=t("background,cite,href,longdesc,src,xlink:href,xml:base"),y=(f=t("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),h=t("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),k({},v,h,f)),b=function(n,e){function t(t){t="<remove></remove>"+t;try{var e=(new n.DOMParser).parseFromString(t,"text/html").body;return e.firstChild.remove(),e}catch(t){}}var i;try{i=!!t("")}catch(t){i=!1}if(i)return t;if(!e||!e.implementation)throw P("noinert");var r=((i=e.implementation.createHTMLDocument("inert")).documentElement||i.getDocumentElement()).querySelector("body");return function(t){return r.innerHTML=t,e.documentMode&&function t(e){for(;e;){if(e.nodeType===_.Node.ELEMENT_NODE)for(var n=e.attributes,i=0,r=n.length;i<r;i++){var a=n[i],o=a.name.toLowerCase();"xmlns:ns1"!==o&&0!==o.lastIndexOf("ns1:",0)||(e.removeAttributeNode(a),i--,r--)}(n=e.firstChild)&&t(n),e=l("nextSibling",e)}}(r),r}}(_,_.document)}).info({angularVersion:"1.8.3"}),w.module("ngSanitize").filter("linky",["$sanitize",function(c){var d=/((s?ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,h=/^mailto:/i,f=w.$$minErr("linky"),p=w.isDefined,g=w.isFunction,m=w.isObject,v=w.isString;return function(t,r,e){function a(t){var e,n;t&&u.push((e=t,E(n=[],M).chars(e),n.join("")))}function n(t,e){var n,i=s(t);for(n in u.push("<a "),i)u.push(n+'="'+i[n]+'" ');!p(r)||"target"in i||u.push('target="',r,'" '),u.push('href="',t.replace(/"/g,"&quot;"),'">'),a(e),u.push("</a>")}if(null==t||""===t)return t;if(!v(t))throw f("notstring",t);for(var i,o,s=g(e)?e:m(e)?function(){return e}:function(){return{}},l=t,u=[];t=l.match(d);)i=t[0],t[2]||t[4]||(i=(t[3]?"http://":"mailto:")+i),o=t.index,a(l.substr(0,o)),n(i,t[0].replace(h,"")),l=l.substring(o+t[0].length);return a(l),c(u.join(""))}}])}(window,window.angular),function(u,t){"use strict";function c(t,e,n){if(!t)throw i("areq",e||"?",n||"required");return t}function _(t,e){return t||e?t?e?(xt(t)&&(t=t.join(" ")),xt(e)&&(e=e.join(" ")),t+" "+e):t:e:""}function rt(t,n,i){var r="";return t=xt(t)?t:t&&Z(t)&&t.length?t.split(/\s+/):[],wt(t,function(t,e){t&&0<t.length&&(r+=0<e?" ":"",r+=i?n+t:t+n)}),r}function U(t){if(t instanceof K)switch(t.length){case 0:return t;case 1:if(1===t[0].nodeType)return t;break;default:return K(d(t))}if(1===t.nodeType)return K(t)}function d(t){if(!t[0])return t;for(var e=0;e<t.length;e++){var n=t[e];if(1===n.nodeType)return n}}function w(l){return function(t,e){var n,i,r,a,o,s;e.addClass&&(n=l,i=t,r=e.addClass,wt(i,function(t){n.addClass(t,r)}),e.addClass=null),e.removeClass&&(a=l,o=t,s=e.removeClass,wt(o,function(t){a.removeClass(t,s)}),e.removeClass=null)}}function at(t){if(!(t=t||{}).$$prepared){var e=t.domOperation||kt;t.domOperation=function(){t.$$domOperationFired=!0,e(),e=kt},t.$$prepared=!0}return t}function ot(t,e){st(t,e),lt(t,e)}function st(t,e){e.from&&(t.css(e.from),e.from=null)}function lt(t,e){e.to&&(t.css(e.to),e.to=null)}function z(t,e,n){var i=e.options||{};n=n.options||{};var r=(i.addClass||"")+" "+(n.addClass||""),a=(i.removeClass||"")+" "+(n.removeClass||"");return t=function(r,t,e){function n(t){Z(t)&&(t=t.split(" "));var e={};return wt(t,function(t){t.length&&(e[t]=!0)}),e}var i={};r=n(r),t=n(t),wt(t,function(t,e){i[e]=1}),e=n(e),wt(e,function(t,e){i[e]=1===i[e]?null:-1});var a={addClass:"",removeClass:""};return wt(i,function(t,e){var n,i;1===t?(n="addClass",i=!r[e]||r[e+"-remove"]):-1===t&&(n="removeClass",i=r[e]||r[e+"-add"]),i&&(a[n].length&&(a[n]+=" "),a[n]+=e)}),a}(t.attr("class"),r,a),n.preparationClasses&&(i.preparationClasses=W(n.preparationClasses,i.preparationClasses),delete n.preparationClasses),r=i.domOperation!==kt?i.domOperation:null,h(i,n),r&&(i.domOperation=r),i.addClass=t.addClass?t.addClass:null,i.removeClass=t.removeClass?t.removeClass:null,e.addClass=i.addClass,e.removeClass=i.removeClass,i}function ut(t){return t instanceof K?t[0]:t}function ct(t,e){var n=e?"paused":"",i=yt+"PlayState";return dt(t,[i,n]),[i,n]}function dt(t,e){t.style[e[0]]=e[1]}function W(t,e){return t?e?t+" "+e:t:e}function ht(t,e,n){var o=Object.create(null),s=t.getComputedStyle(e)||{};return wt(n,function(t,e){var n,i,r=s[t];if(r){var a=r.charAt(0);("-"===a||"+"===a||0<=a)&&(i=0,n=(n=r).split(/\s*,\s*/),wt(n,function(t){"s"===t.charAt(t.length-1)&&(t=t.substring(0,t.length-1)),t=parseFloat(t)||0,i=i?Math.max(t,i):t}),r=i),0===r&&(r=null),o[e]=r}}),o}function ft(t){return 0===t||null!=t}function pt(t,e){var n=mt,i=t+"s";return e?n+="Duration":i+=" linear all",[n,i]}function gt(e,n,t){wt(t,function(t){e[t]=q(e[t])?e[t]:n.style.getPropertyValue(t)})}var mt,vt,yt,bt;void 0===u.ontransitionend&&void 0!==u.onwebkittransitionend?(mt="WebkitTransition",vt="webkitTransitionEnd transitionend"):(mt="transition",vt="transitionend"),void 0===u.onanimationend&&void 0!==u.onwebkitanimationend?(yt="WebkitAnimation",bt="webkitAnimationEnd animationend"):(yt="animation",bt="animationend");var _t,h,wt,xt,q,f,x,G,Z,X,K,kt,Ct=yt+"Delay",St=yt+"Duration",Dt=mt+"Delay",e=mt+"Duration",i=t.$$minErr("ng"),Tt={blockTransitions:function(t,e){var n=e?"-"+e+"s":"";return dt(t,[Dt,n]),[Dt,n]}},r={transitionDuration:e,transitionDelay:Dt,transitionProperty:mt+"Property",animationDuration:St,animationDelay:Ct,animationIterationCount:yt+"IterationCount"},Mt={transitionDuration:e,transitionDelay:Dt,animationDuration:St,animationDelay:Ct};t.module("ngAnimate",[],function(){kt=t.noop,_t=t.copy,h=t.extend,K=t.element,wt=t.forEach,xt=t.isArray,Z=t.isString,G=t.isObject,X=t.isUndefined,q=t.isDefined,x=t.isFunction,f=t.isElement}).info({angularVersion:"1.8.3"}).directive("ngAnimateSwap",["$animate",function(s){return{restrict:"A",transclude:"element",terminal:!0,priority:550,link:function(t,n,e,i,r){var a,o;t.$watchCollection(e.ngAnimateSwap||e.for,function(t){a&&s.leave(a),o&&(o.$destroy(),o=null),(t||0===t)&&r(function(t,e){a=t,o=e,s.enter(t,null,n)})})}}}]).directive("ngAnimateChildren",["$interpolate",function(a){return{link:function(t,e,n){function i(t){e.data("$$ngAnimateChildren","on"===t||"true"===t)}var r=n.ngAnimateChildren;Z(r)&&0===r.length?e.data("$$ngAnimateChildren",!0):(i(a(r)(t)),n.$observe("ngAnimateChildren",i))}}}]).factory("$$rAFScheduler",["$$rAF",function(n){function t(t){r=r.concat(t),i()}function i(){if(r.length){for(var t=r.shift(),e=0;e<t.length;e++)t[e]();a||n(function(){a||i()})}}var r,a;return r=t.queue=[],t.waitUntilQuiet=function(t){a&&a(),a=n(function(){a=null,t(),i()})},t}]).provider("$$animateQueue",["$animateProvider",function(l){function H(t){return{addClass:t.addClass,removeClass:t.removeClass,from:t.from,to:t.to}}function o(t,e){if(t&&e){var n=function(t){if(!t)return null;t=t.split(" ");var e=Object.create(null);return wt(t,function(t){e[t]=!0}),e}(e);return t.split(" ").some(function(t){return n[t]})}}function B(t,e,n){return i[t].some(function(t){return t(e,n)})}function Y(t,e){var n=0<(t.addClass||"").length,i=0<(t.removeClass||"").length;return e?n&&i:n||i}var i=this.rules={skip:[],cancel:[],join:[]};i.join.push(function(t,e){return!t.structural&&Y(t)}),i.skip.push(function(t,e){return!t.structural&&!Y(t)}),i.skip.push(function(t,e){return"leave"===e.event&&t.structural}),i.skip.push(function(t,e){return e.structural&&2===e.state&&!t.structural}),i.cancel.push(function(t,e){return e.structural&&t.structural}),i.cancel.push(function(t,e){return 2===e.state&&t.structural}),i.cancel.push(function(t,e){if(e.structural)return!1;var n=t.addClass,i=t.removeClass,r=e.addClass,a=e.removeClass;return!(X(n)&&X(i)||X(r)&&X(a))&&(o(n,a)||o(i,r))}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$Map","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow","$$isDocumentHidden",function(x,k,C,S,t,D,T,e,M,n,$){function r(t){A.delete(t.target)}function a(t,e,n){var i=d(e);return t.filter(function(t){return!(t.node===i&&(!n||t.callback===n))})}function o(i,r,t){function a(t,o,s,l){n(function(){var e,n,i,r,t,a=(e=d,n=c,r=[],(t=I[i=o])&&wt(t,function(t){N.call(t.node,n)?r.push(t.callback):"leave"===i&&N.call(t.node,e)&&r.push(t.callback)}),r);a.length?x(function(){wt(a,function(t){t(u,s,l)}),"close"!==s||c.parentNode||V.off(c)}):"close"!==s||c.parentNode||V.off(c)}),t.progress(o,s,l)}function o(t){var e=u,n=s;n.preparationClasses&&(e.removeClass(n.preparationClasses),n.preparationClasses=null),n.activeClasses&&(e.removeClass(n.activeClasses),n.activeClasses=null),L(u,s),ot(u,s),s.domOperation(),l.complete(!t)}var e,s=_t(t),u=U(i),c=ut(u),d=c&&c.parentNode,l=(s=at(s),new T),n=(e=!1,function(t){e?t():k.$$postDigest(function(){e=!0,t()})});if(xt(s.addClass)&&(s.addClass=s.addClass.join(" ")),s.addClass&&!Z(s.addClass)&&(s.addClass=null),xt(s.removeClass)&&(s.removeClass=s.removeClass.join(" ")),s.removeClass&&!Z(s.removeClass)&&(s.removeClass=null),s.from&&!G(s.from)&&(s.from=null),s.to&&!G(s.to)&&(s.to=null),!(R&&c&&F(c,r,t)&&j(c,s)))return o(),l;var h,f,p,g,m,v=0<=["enter","move","leave"].indexOf(r),y=$(),b=y||A.get(c),_=!!(t=!b&&P.get(c)||{}).state;if(b||_&&1===t.state||(b=!function(t,e,n){n=S[0].body;var i,r=ut(C),a=t===n||"HTML"===t.nodeName,o=t===r,s=!1,l=A.get(t);for((t=K.data(t,"$ngAnimatePin"))&&(e=ut(t));e&&(o||(o=e===r),1===e.nodeType);){if(t=P.get(e)||{},!s){var u=A.get(e);if(!0===u&&!1!==l){l=!0;break}!1===u&&(l=!1),s=t.structural}if((X(i)||!0===i)&&(t=K.data(e,"$$ngAnimateChildren"),q(t)&&(i=t)),s&&!1===i)break;if(a||(a=e===n),a&&o)break;e=o||!(t=K.data(e,"$ngAnimatePin"))?e.parentNode:ut(t)}return(!s||i)&&!0!==l&&o&&a}(c,d,r)),b)return y&&a(l,r,"start",H(s)),o(),y&&a(l,r,"close",H(s)),l;if(v&&(h=(h=c).querySelectorAll("[data-ng-animate]"),wt(h,function(t){var e=parseInt(t.getAttribute("data-ng-animate"),10),n=P.get(t);if(n)switch(e){case 2:n.runner.end();case 1:P.delete(t)}})),y={structural:v,element:u,event:r,addClass:s.addClass,removeClass:s.removeClass,close:o,options:s,runner:l},_){if(B("skip",y,t))return 2===t.state?(o(),l):(z(u,t,y),t.runner);if(B("cancel",y,t))if(2===t.state)t.runner.end();else{if(!t.structural)return z(u,t,y),t.runner;t.close()}else if(B("join",y,t)){if(2!==t.state)return f=M,p=u,m=s,f="",(g=v?r:null)&&(f=rt(g,"ng-",!0)),m.addClass&&(f=W(f,rt(m.addClass,"-add"))),m.removeClass&&(f=W(f,rt(m.removeClass,"-remove"))),f.length&&(m.preparationClasses=f,p.addClass(f)),r=y.event=t.event,s=z(u,t,y),t.runner;z(u,y,{})}}else z(u,y,{});if((_=y.structural)||(_="animate"===y.event&&0<Object.keys(y.options.to||{}).length||Y(y)),!_)return o(),O(c),l;var w=(t.counter||0)+1;return y.counter=w,E(c,1,y),k.$$postDigest(function(){u=U(i);var t=!(e=P.get(c)),e=e||{},n=0<(u.parent()||[]).length&&("animate"===e.event||e.structural||Y(e));t||e.counter!==w||!n?(t&&(L(u,s),ot(u,s)),(t||v&&e.event!==r)&&(s.domOperation(),l.end()),n||O(c)):(r=!e.structural&&Y(e,!0)?"setClass":e.event,E(c,2),e=D(u,r,e.options),l.setHost(e),a(l,r,"start",H(s)),e.done(function(t){o(!t),(t=P.get(c))&&t.counter===w&&O(c),a(l,r,"close",H(s))}))}),l}function O(t){t.removeAttribute("data-ng-animate"),P.delete(t)}function E(t,e,n){(n=n||{}).state=e,t.setAttribute("data-ng-animate",e),n=(e=P.get(t))?h(e,n):n,P.set(t,n)}var P=new t,A=new t,R=null,i=k.$watch(function(){return 0===e.totalPendingRequests},function(t){t&&(i(),k.$$postDigest(function(){k.$$postDigest(function(){null===R&&(R=!0)})}))}),I=Object.create(null);t=l.customFilter();var s=l.classNameFilter();n=function(){return!0};var F=t||n,j=s?function(t,e){var n=[t.getAttribute("class"),e.addClass,e.removeClass].join(" ");return s.test(n)}:n,L=w(M),N=u.Node.prototype.contains||function(t){return this===t||!!(16&this.compareDocumentPosition(t))},V={on:function(t,e,n){var i=d(e);I[t]=I[t]||[],I[t].push({node:i,callback:n}),K(e).on("$destroy",function(){P.get(i)||V.off(t,e,n)})},off:function(t,e,n){if(1!==arguments.length||Z(t)){var i=I[t];i&&(I[t]=1===arguments.length?null:a(i,e,n))}else for(i in e=t,I)I[i]=a(I[i],e)},pin:function(t,e){c(f(t),"element","not an element"),c(f(e),"parentElement","not an element"),t.data("$ngAnimatePin",e)},push:function(t,e,n,i){return(n=n||{}).domOperation=i,o(t,e,n)},enabled:function(t,e){var n=arguments.length;if(0===n)e=!!R;else if(f(t)){var i=ut(t);1===n?e=!A.get(i):(A.has(i)||K(t).on("$destroy",r),A.set(i,!e))}else e=R=!!t;return e}};return V}]}]).provider("$$animateCache",function(){var a=0,i=Object.create(null);this.$get=[function(){return{cacheKey:function(t,e,n,i){var r=t.parentNode;return t=[r.$$ngAnimateParentKey||(r.$$ngAnimateParentKey=++a),e,t.getAttribute("class")],n&&t.push(n),i&&t.push(i),t.join(" ")},containsCachedAnimationWithoutDuration:function(t){return(t=i[t])&&!t.isValid||!1},flush:function(){i=Object.create(null)},count:function(t){return(t=i[t])?t.total:0},get:function(t){return(t=i[t])&&t.value},put:function(t,e,n){i[t]?(i[t].total++,i[t].value=e):i[t]={total:1,value:e,isValid:n}}}}]}).provider("$$animation",["$animateProvider",function(t){var b=this.drivers=[];this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$Map","$$rAFScheduler","$$animateCache",function(c,d,h,f,p,g,m){var v=[],y=w(c);return function(e,n,l){function u(l){var u=[],a={};wt(l,function(t,n){var e=ut(t.element),i=0<=["enter","move"].indexOf(t.event);if((e=t.structural?function(t){t=t.hasAttribute("ng-animate-ref")?[t]:t.querySelectorAll("[ng-animate-ref]");var n=[];return wt(t,function(t){var e=t.getAttribute("ng-animate-ref");e&&e.length&&n.push(t)}),n}(e):[]).length){var r=i?"to":"from";wt(e,function(t){var e=t.getAttribute("ng-animate-ref");a[e]=a[e]||{},a[e][r]={animationID:n,element:K(t)}})}else u.push(t)});var c={},d={};return wt(a,function(t,e){var n=t.from,i=t.to;if(n&&i){var r=l[n.animationID],a=l[i.animationID],o=n.animationID.toString();if(!d[o]){var s=d[o]={structural:!0,beforeStart:function(){r.beforeStart(),a.beforeStart()},close:function(){r.close(),a.close()},classes:function(t,e){t=t.split(" "),e=e.split(" ");for(var n=[],i=0;i<t.length;i++){var r=t[i];if("ng-"!==r.substring(0,3))for(var a=0;a<e.length;a++)if(r===e[a]){n.push(r);break}}return n.join(" ")}(r.classes,a.classes),from:r,to:a,anchors:[]};s.classes.length?u.push(s):(u.push(r),u.push(a))}d[o].anchors.push({out:n.element,in:i.element})}else i=(n=n?n.animationID:i.animationID).toString(),c[i]||(c[i]=!0,u.push(l[n]))}),u}function i(){var t=e.data("$$animationRunner");!t||"leave"===n&&l.$$domOperationFired||t.end()}function t(t){e.off("$destroy",i),e.removeData("$$animationRunner"),y(e,l),ot(e,l),l.domOperation(),s&&c.removeClass(e,s),a.complete(!t)}l=at(l);var r=0<=["enter","move","leave"].indexOf(n),a=new f({end:function(){t()},cancel:function(){t(!0)}});if(!b.length)return t(),a;var o=_(e.attr("class"),_(l.addClass,l.removeClass)),s=l.tempClasses;return s&&(o+=" "+s,l.tempClasses=null),r&&e.data("$$animatePrepareClasses","ng-"+n+"-prepare"),e.data("$$animationRunner",a),v.push({element:e,classes:o,event:n,structural:r,options:l,beforeStart:function(){s=(s?s+" ":"")+"ng-animate",c.addClass(e,s);var t=e.data("$$animatePrepareClasses");t&&c.removeClass(e,t)},close:t}),e.on("$destroy",i),1<v.length||d.$$postDigest(function(){var e=[];wt(v,function(t){t.element.data("$$animationRunner")?e.push(t):t.close()}),v.length=0;var t=u(e),n=[];wt(t,function(i){var t=i.from?i.from.element:i.element,e=l.addClass,r=m.cacheKey(t[0],i.event,(e?e+" ":"")+"ng-animate",l.removeClass);n.push({element:t,domNode:ut(t),fn:function(){var t,e=i.close;if(m.containsCachedAnimationWithoutDuration(r))e();else{if(i.beforeStart(),(i.anchors?i.from.element||i.to.element:i.element).data("$$animationRunner")){var n=function(t){for(var e=b.length-1;0<=e;e--){var n=h.get(b[e])(t);if(n)return n}}(i);n&&(t=n.start)}t?((t=t()).done(function(t){e(!t)}),function(t,e){function n(t){(t=t.data("$$animationRunner"))&&t.setHost(e)}t.from&&t.to?(n(t.from.element),n(t.to.element)):n(t.element)}(i,t)):e()}}})});t=function(t){function r(t){if(t.processed)return t;t.processed=!0;var e,n=t.domNode,i=n.parentNode;for(o.set(n,t);i;){if(e=o.get(i)){e.processed||(e=r(e));break}i=i.parentNode}return(e||a).children.push(t),t}var e,a={children:[]},o=new p;for(e=0;e<t.length;e++){var n=t[e];o.set(n.domNode,t[e]={domNode:n.domNode,element:n.element,fn:n.fn,children:[]})}for(e=0;e<t.length;e++)r(t[e]);return function(t){var e,n=[],i=[];for(e=0;e<t.children.length;e++)i.push(t.children[e]);t=i.length;var r=0,a=[];for(e=0;e<i.length;e++){var o=i[e];t<=0&&(t=r,r=0,n.push(a),a=[]),a.push(o),o.children.forEach(function(t){r++,i.push(t)}),t--}return a.length&&n.push(a),n}(a)}(n);for(var i=0;i<t.length;i++)for(var r=t[i],a=0;a<r.length;a++){var o=r[a],s=o.element;t[i][a]=o.fn,0===i?s.removeData("$$animatePrepareClasses"):(o=s.data("$$animatePrepareClasses"))&&c.addClass(s,o)}g(t)}),a}}]}]).provider("$animateCss",["$animateProvider",function(t){this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$animateCache","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(G,Z,X,K,Q,n,J,e,tt){function et(t){i.push(t),e.waitUntilQuiet(function(){Q.flush();for(var t=n(),e=0;e<i.length;e++)i[e](t);i.length=0})}function nt(t,e,n,i){return(e=Q.get(n))||"infinite"===(e=ht(G,t,r)).animationIterationCount&&(e.animationIterationCount=1),Q.put(n,e,i||0<e.transitionDuration||0<e.animationDuration),n=(t=e).animationDelay,i=t.transitionDelay,t.maxDelay=n&&i?Math.max(n,i):n||i,t.maxDuration=Math.max(t.animationDuration*t.animationIterationCount,t.transitionDuration),t}var it=w(Z),i=[];return function(o,t){function e(){s()}function n(){s(!0)}function s(t){if(!(f||g&&p)){p=!(f=!0),P&&!c.$$skipPreparationClasses&&Z.removeClass(o,P),q&&Z.removeClass(o,q),ct(h,!1),Tt.blockTransitions(h,!1),wt(C,function(t){h.style[t[0]]=""}),it(o,c),ot(o,c),Object.keys(d).length&&wt(d,function(t,e){t?h.style.setProperty(e,t):h.style.removeProperty(e)}),c.onDone&&c.onDone(),T&&T.length&&o.off(T.join(" "),u);var e=o.data("$$animateCss");e&&(K.cancel(e[0].timer),o.removeData("$$animateCss")),a&&a.complete(!t)}}function l(t){z.blockTransition&&Tt.blockTransitions(h,t),z.blockKeyframeAnimation&&ct(h,!!t)}function i(){return a=new X({end:e,cancel:n}),et(kt),s(),{$$willAnimate:!1,start:function(){return a},end:e}}function u(t){t.stopPropagation();var e=t.originalEvent||t;e.target===h&&(t=e.$manualTimeStamp||Date.now(),e=parseFloat(e.elapsedTime.toFixed(3)),Math.max(t-w,0)>=y&&b<=e&&(g=!0,s()))}function r(){function t(){if(!f){if(l(!1),wt(C,function(t){h.style[t[0]]=t[1]}),it(o,c),Z.addClass(o,q),z.recalculateTimingStyles){if(A=h.getAttribute("class")+" "+P,H=Q.cacheKey(h,M,c.addClass,c.removeClass),Y=nt(h,A,H,!1),U=Y.maxDelay,v=Math.max(U,0),0===(b=Y.maxDuration))return void s();z.hasTransitions=0<Y.transitionDuration,z.hasAnimations=0<Y.animationDuration}if(z.applyAnimationDelay&&(U="boolean"!=typeof c.delay&&ft(c.delay)?parseFloat(c.delay):U,v=Math.max(U,0),Y.animationDelay=U,W=[Ct,U+"s"],C.push(W),h.style[W[0]]=W[1]),y=1e3*v,_=1e3*b,c.easing){var t,e=c.easing;z.hasTransitions&&(t=mt+"TimingFunction",C.push([t,e]),h.style[t]=e),z.hasAnimations&&(t=yt+"TimingFunction",C.push([t,e]),h.style[t]=e)}Y.transitionDuration&&T.push(vt),Y.animationDuration&&T.push(bt),w=Date.now();var n=y+1.5*_;t=w+n;var i=!0;if((e=o.data("$$animateCss")||[]).length){var r=e[0];(i=t>r.expectedEndTime)?K.cancel(r.timer):e.push(s)}i&&(n=K(a,n,!1),e[0]={timer:n,expectedEndTime:t},e.push(s),o.data("$$animateCss",e)),T.length&&o.on(T.join(" "),u),c.to&&(c.cleanupStyles&&gt(d,h,Object.keys(c.to)),lt(o,c))}}function a(){var t=o.data("$$animateCss");if(t){for(var e=1;e<t.length;e++)t[e]();o.removeData("$$animateCss")}}if(!f)if(h.parentNode){var e=function(t){if(g)p&&t&&(p=!1,s());else if(p=!t,Y.animationDuration)if(t=ct(h,p),p)C.push(t);else{var e=C,n=e.indexOf(t);0<=t&&e.splice(n,1)}},n=0<B&&(Y.transitionDuration&&0===R.transitionDuration||Y.animationDuration&&0===R.animationDuration)&&Math.max(R.animationDelay,R.transitionDelay);n?K(t,Math.floor(n*B*1e3),!1):t(),m.resume=function(){e(!0)},m.pause=function(){e(!1)}}else s()}var c=t||{};c.$$prepared||(c=at(_t(c)));var d={},h=ut(o);if(!h||!h.parentNode||!tt.enabled())return i();var f,p,g,a,m,v,y,b,_,w,x,k,C=[],S=o.attr("class"),D=(k={},(x=c)&&(x.to||x.from)&&(k.to=x.to,k.from=x.from),k),T=[];if(0===c.duration||!J.animations&&!J.transitions)return i();var M=c.event&&xt(c.event)?c.event.join(" "):c.event,$=M&&c.structural,O="",E="";$?O=rt(M,"ng-",!0):M&&(O=M),c.addClass&&(E+=rt(c.addClass,"-add")),c.removeClass&&(E.length&&(E+=" "),E+=rt(c.removeClass,"-remove")),c.applyClassesEarly&&E.length&&it(o,c);var P=[O,E].join(" ").trim(),A=S+" "+P;S=D.to&&0<Object.keys(D.to).length;if(!(0<(c.keyframeStyle||"").length||S||P))return i();var R,I,F,j,L,N,V,H=Q.cacheKey(h,M,c.addClass,c.removeClass);if(Q.containsCachedAnimationWithoutDuration(H))return P=null,i();0<c.stagger?(D=parseFloat(c.stagger),R={transitionDelay:D,animationDelay:D,transitionDuration:0,animationDuration:0}):(I=h,F=P,L=Mt,V="stagger-"+(j=H),0<Q.count(j)&&((N=Q.get(V))||(F=rt(F,"-stagger"),Z.addClass(I,F),(N=ht(G,I,L)).animationDuration=Math.max(N.animationDuration,0),N.transitionDuration=Math.max(N.transitionDuration,0),Z.removeClass(I,F),Q.put(V,N,!0))),R=N||{}),c.$$skipPreparationClasses||Z.addClass(o,P),c.transitionStyle&&(D=[mt,c.transitionStyle],dt(h,D),C.push(D)),0<=c.duration&&(D=0<h.style[mt].length,D=pt(c.duration,D),dt(h,D),C.push(D)),c.keyframeStyle&&(D=[yt,c.keyframeStyle],dt(h,D),C.push(D));var B=R?0<=c.staggerIndex?c.staggerIndex:Q.count(H):0;(O=0===B)&&!c.skipBlocking&&Tt.blockTransitions(h,9999);var Y=nt(h,A,H,!$),U=Y.maxDelay;v=Math.max(U,0),b=Y.maxDuration;var z={};if(z.hasTransitions=0<Y.transitionDuration,z.hasAnimations=0<Y.animationDuration,z.hasTransitionAll=z.hasTransitions&&"all"===Y.transitionProperty,z.applyTransitionDuration=S&&(z.hasTransitions&&!z.hasTransitionAll||z.hasAnimations&&!z.hasTransitions),z.applyAnimationDuration=c.duration&&z.hasAnimations,z.applyTransitionDelay=ft(c.delay)&&(z.applyTransitionDuration||z.hasTransitions),z.applyAnimationDelay=ft(c.delay)&&z.hasAnimations,z.recalculateTimingStyles=0<E.length,(z.applyTransitionDuration||z.applyAnimationDuration)&&(b=c.duration?parseFloat(c.duration):b,z.applyTransitionDuration&&(z.hasTransitions=!0,Y.transitionDuration=b,D=0<h.style[mt+"Property"].length,C.push(pt(b,D))),z.applyAnimationDuration&&(z.hasAnimations=!0,Y.animationDuration=b,C.push([St,b+"s"]))),0===b&&!z.recalculateTimingStyles)return i();var W,q=rt(P,"-active");null!=c.delay&&("boolean"!=typeof c.delay&&(W=parseFloat(c.delay),v=Math.max(W,0)),z.applyTransitionDelay&&C.push([Dt,W+"s"]),z.applyAnimationDelay&&C.push([Ct,W+"s"]));return null==c.duration&&0<Y.transitionDuration&&(z.recalculateTimingStyles=z.recalculateTimingStyles||O),y=1e3*v,_=1e3*b,c.skipBlocking||(z.blockTransition=0<Y.transitionDuration,z.blockKeyframeAnimation=0<Y.animationDuration&&0<R.animationDelay&&0===R.animationDuration),c.from&&(c.cleanupStyles&&gt(d,h,Object.keys(c.from)),st(o,c)),z.blockTransition||z.blockKeyframeAnimation?l(b):c.skipBlocking||Tt.blockTransitions(h,!1),{$$willAnimate:!0,end:e,start:function(){if(!f)return a=new X(m={end:e,cancel:n,resume:null,pause:null}),et(r),a}}}}]}]).provider("$$animateCssDriver",["$$animationProvider",function(t){t.drivers.push("$$animateCssDriver"),this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(d,t,h,e,n,i,r){function f(t){return t.replace(/\bng-\S+\b/g,"")}function p(t,e){return Z(t)&&(t=t.split(" ")),Z(e)&&(e=e.split(" ")),t.filter(function(t){return-1===e.indexOf(t)}).join(" ")}function a(t,e,n,i){var r=s(t),a=s(e),o=[];if(wt(i,function(t){(t=function(t,e,n){function i(t){var n={},i=ut(t).getBoundingClientRect();return wt(["width","height","top","left"],function(t){var e=i[t];switch(t){case"top":e+=g.scrollTop;break;case"left":e+=g.scrollLeft}n[t]=Math.floor(e)+"px"}),n}function r(){var t=p(e=f(n.attr("class")||""),u),e=p(u,e);return(t=d(l,{to:i(n),addClass:"ng-anchor-in "+t,removeClass:"ng-anchor-out "+e,delay:!0})).$$willAnimate?t:null}function a(){l.remove(),e.removeClass("ng-animate-shim"),n.removeClass("ng-animate-shim")}var o,s,l=K(ut(e).cloneNode(!0)),u=f(l.attr("class")||"");if(e.addClass("ng-animate-shim"),n.addClass("ng-animate-shim"),l.addClass("ng-anchor"),m.append(l),!(t=(s=d(l,{addClass:"ng-anchor-out",delay:!0,from:i(e)})).$$willAnimate?s:null)&&!(o=r()))return a();var c=t||o;return{start:function(){function t(){n&&n.end()}var e,n=c.start();return n.done(function(){if(n=null,!o&&(o=r()))return(n=o.start()).done(function(){n=null,a(),e.complete()}),n;a(),e.complete()}),e=new h({end:t,cancel:t})}}}(n,t.out,t.in))&&o.push(t)}),r||a||0!==o.length)return{start:function(){function t(){wt(e,function(t){t.end()})}var e=[];r&&e.push(r.start()),a&&e.push(a.start()),wt(o,function(t){e.push(t.start())});var n=new h({end:t,cancel:t});return h.all(e,function(t){n.complete(t)}),n}}}function s(t){var e=t.element,n=t.options||{};return t.structural&&(n.event=t.event,n.structural=!0,n.applyClassesEarly=!0,"leave"===t.event&&(n.onDone=n.domOperation)),n.preparationClasses&&(n.event=W(n.event,n.preparationClasses)),(t=d(e,n)).$$willAnimate?t:null}if(!n.animations&&!n.transitions)return kt;var g=r[0].body;t=ut(e);var m=K(t.parentNode&&11===t.parentNode.nodeType||g.contains(t)?t:g);return function(t){return t.from&&t.to?a(t.from,t.to,t.classes,t.anchors):s(t)}}]}]).provider("$$animateJs",["$animateProvider",function(b){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(m,v,t){var y=w(t);return function(i,t,e,r){function a(){r.domOperation(),y(i,r)}function l(o,s,l,t,e){var n=[];return wt(t,function(t){var a=t[e];a&&n.push(function(){var e,n,i=!1,r=function(t){i||(i=!0,(n||kt)(t),e.complete(!t))};return e=new v({end:function(){r()},cancel:function(){r(!0)}}),n=function(t,e,n,i,r){switch(n){case"animate":e=[e,i.from,i.to,r];break;case"setClass":e=[e,f,p,r];break;case"addClass":e=[e,f,r];break;case"removeClass":e=[e,p,r];break;default:e=[e,r]}if(e.push(i),t=t.apply(t,e))if(x(t.start)&&(t=t.start()),t instanceof v)t.done(r);else if(x(t))return t;return kt}(a,o,s,l,function(t){r(!1===t)}),e})}),n}function n(t,e,n,i,r){var a,o,s=l(t,e,n,i,r);0===s.length&&("beforeSetClass"===r?(a=l(t,"removeClass",n,i,"beforeRemoveClass"),o=l(t,"addClass",n,i,"beforeAddClass")):"setClass"===r&&(a=l(t,"removeClass",n,i,"removeClass"),o=l(t,"addClass",n,i,"addClass")),a&&(s=s.concat(a)),o&&(s=s.concat(o)));if(0!==s.length)return function(t){var n=[];return s.length&&wt(s,function(t){n.push(t())}),n.length?v.all(n,t):t(),function(e){wt(n,function(t){e?t.cancel():t.end()})}}}var o=!1;3===arguments.length&&G(e)&&(r=e,e=null),r=at(r),e||(e=i.attr("class")||"",r.addClass&&(e+=" "+r.addClass),r.removeClass&&(e+=" "+r.removeClass));var s,u,c,d,h,f=r.addClass,p=r.removeClass,g=function(t){t=xt(t)?t:t.split(" ");for(var e=[],n={},i=0;i<t.length;i++){var r=t[i],a=b.$$registeredAnimations[r];a&&!n[r]&&(e.push(m.get(a)),n[r]=!0)}return e}(e);g.length&&("leave"===t?(d="leave",c="afterLeave"):(d="before"+t.charAt(0).toUpperCase()+t.substr(1),c=t),"enter"!==t&&"move"!==t&&(s=n(i,t,r,g,d)),u=n(i,t,r,g,c));if(s||u)return{$$willAnimate:!0,end:function(){return h?h.end():(o=!0,a(),ot(i,r),(h=new v).complete(!0)),h},start:function(){function t(t){o=!0,a(),ot(i,r),h.complete(t)}if(h)return h;h=new v;var e,n=[];return s&&n.push(function(t){e=s(t)}),n.length?n.push(function(t){a(),t(!0)}):a(),u&&n.push(function(t){e=u(t)}),h.setHost({end:function(){o||((e||kt)(void 0),t(void 0))},cancel:function(){o||((e||kt)(!0),t(!0))}}),v.chain(n,t),h}}}}]}]).provider("$$animateJsDriver",["$$animationProvider",function(t){t.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(e,a){function n(t){return e(t.element,t.event,t.classes,t.options)}return function(t){if(!t.from||!t.to)return n(t);var i=n(t.from),r=n(t.to);return i||r?{start:function(){function t(){return function(){wt(e,function(t){t.end()})}}var e=[];i&&e.push(i.start()),r&&e.push(r.start()),a.all(e,function(t){n.complete(t)});var n=new a({end:t(),cancel:t()});return n}}:void 0}}]}])}(window,window.angular),function(){"use strict";angular.module("angular-loading-bar",["cfp.loadingBarInterceptor"]),angular.module("chieffancypants.loadingBar",["cfp.loadingBarInterceptor"]),angular.module("cfp.loadingBarInterceptor",["cfp.loadingBar"]).config(["$httpProvider",function(f){var t=["$q","$cacheFactory","$timeout","$rootScope","$log","cfpLoadingBar",function(e,a,n,i,r,o){var s,l=0,u=0,c=o.latencyThreshold;function d(){n.cancel(s),o.complete(),l=u=0}function h(t){var e,n=a.get("$http"),i=f.defaults;!t.cache&&!i.cache||!1===t.cache||"GET"!==t.method&&"JSONP"!==t.method||(e=angular.isObject(t.cache)?t.cache:angular.isObject(i.cache)?i.cache:n);var r=void 0!==e&&void 0!==e.get(t.url);return void 0!==t.cached&&r!==t.cached?t.cached:t.cached=r}return{request:function(t){return t.ignoreLoadingBar||h(t)||(i.$broadcast("cfpLoadingBar:loading",{url:t.url}),0===l&&(s=n(function(){o.start()},c)),l++,o.set(u/l)),t},response:function(t){return t&&t.config?t.config.ignoreLoadingBar||h(t.config)||(u++,i.$broadcast("cfpLoadingBar:loaded",{url:t.config.url,result:t}),l<=u?d():o.set(u/l)):r.error("Broken interceptor detected: Config object not supplied in response:\n https://github.com/chieffancypants/angular-loading-bar/pull/50"),t},responseError:function(t){return t&&t.config?t.config.ignoreLoadingBar||h(t.config)||(u++,i.$broadcast("cfpLoadingBar:loaded",{url:t.config.url,result:t}),l<=u?d():o.set(u/l)):r.error("Broken interceptor detected: Config object not supplied in rejection:\n https://github.com/chieffancypants/angular-loading-bar/pull/50"),e.reject(t)}}}];f.interceptors.push(t)}]),angular.module("cfp.loadingBar",[]).provider("cfpLoadingBar",function(){this.autoIncrement=!0,this.includeSpinner=!0,this.includeBar=!0,this.latencyThreshold=100,this.startSize=.02,this.parentSelector="body",this.spinnerTemplate='<div id="loading-bar-spinner"><div class="spinner-icon"></div></div>',this.loadingBarTemplate='<div id="loading-bar"><div class="bar"><div class="peg"></div></div></div>',this.$get=["$injector","$document","$timeout","$rootScope",function(r,a,o,s){var l,n,u,c=this.parentSelector,d=angular.element(this.loadingBarTemplate),i=d.find("div").eq(0),h=angular.element(this.spinnerTemplate),f=!1,p=0,g=this.autoIncrement,m=this.includeSpinner,v=this.includeBar,y=this.startSize;function b(t){if(f){var e=100*t+"%";i.css("width",e),p=t,g&&(o.cancel(n),n=o(function(){_()},250))}}function _(){if(!(1<=w())){var t=0,e=w();t=0<=e&&e<.25?(3*Math.random()+3)/100:.25<=e&&e<.65?3*Math.random()/100:.65<=e&&e<.9?2*Math.random()/100:.9<=e&&e<.99?.005:0,b(w()+t)}}function w(){return p}function e(){p=0,f=!1}return{start:function(){if(l||(l=r.get("$animate")),o.cancel(u),!f){var t=a[0],e=t.querySelector?t.querySelector(c):a.find(c)[0];e||(e=t.getElementsByTagName("body")[0]);var n=angular.element(e),i=e.lastChild&&angular.element(e.lastChild);s.$broadcast("cfpLoadingBar:started"),f=!0,v&&l.enter(d,n,i),m&&l.enter(h,n,d),b(y)}},set:b,status:w,inc:_,complete:function(){l||(l=r.get("$animate")),s.$broadcast("cfpLoadingBar:completed"),b(1),o.cancel(u),u=o(function(){var t=l.leave(d,e);t&&t.then&&t.then(e),l.leave(h)},500)},autoIncrement:this.autoIncrement,includeSpinner:this.includeSpinner,latencyThreshold:this.latencyThreshold,parentSelector:this.parentSelector,startSize:this.startSize}}]})}(),function(t,f,a){"use strict";function p(t){var e=t.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/);if(!e||4!==e.length)throw new Error("Invalid state ref '"+t+"'");return{state:e[1],paramExpr:e[3]||null}}function g(t,e,n,i){var r=o[t];r!==a&&r(),r=e.$on(n,i),o[t]=r}function e(r,a,n){return{restrict:"AE",replace:!0,scope:{},template:a.getTemplate({bootstrap2:'<ul class="breadcrumb"><li ng-repeat="step in steps" ng-switch="$last || !!step.abstract" ng-class="{active: $last}"><a ng-switch-when="false" href="{{step.ncyBreadcrumbLink}}">{{step.ncyBreadcrumbLabel}}</a><span ng-switch-when="true">{{step.ncyBreadcrumbLabel}}</span><span class="divider" ng-hide="$last">/</span></li></ul>',bootstrap3:'<ol class="breadcrumb"><li ng-repeat="step in steps" ng-class="{active: $last}" ng-switch="$last || !!step.abstract"><a ng-switch-when="false" href="{{step.ncyBreadcrumbLink}}">{{step.ncyBreadcrumbLabel}}</a><span ng-switch-when="true">{{step.ncyBreadcrumbLabel}}</span></li></ol>'}),templateUrl:a.getTemplateUrl(),link:{post:function(t){var i=[],e=function(){d(i),i=[];var n=a.$getLastViewScope();t.steps=a.getStatesChain(),f.forEach(t.steps,function(t){if(t.ncyBreadcrumb&&t.ncyBreadcrumb.label){var e=r(t.ncyBreadcrumb.label);t.ncyBreadcrumbLabel=e(n),l(i,e,n,t)}else t.ncyBreadcrumbLabel=t.name})};g("BreadcrumbDirective.$viewContentLoaded",n,"$viewContentLoaded",function(t){t.targetScope.ncyBreadcrumbIgnore||e()}),e()}}}}function n(a,o,s){return{restrict:"A",scope:{},template:o.getTemplateLast({default:"{{ncyBreadcrumbLabel}}"}),templateUrl:o.getTemplateLastUrl(),compile:function(t,e){var n=t.attr(e.$attr.ncyBreadcrumbLast);return n&&t.html(n),{post:function(i){var r=[],e=function(){d(r),r=[];var t=o.$getLastViewScope(),e=o.getLastStep();if(e)if(i.ncyBreadcrumbLink=e.ncyBreadcrumbLink,e.ncyBreadcrumb&&e.ncyBreadcrumb.label){var n=a(e.ncyBreadcrumb.label);i.ncyBreadcrumbLabel=n(t),l(r,n,t,i)}else i.ncyBreadcrumbLabel=e.name};g("BreadcrumbLastDirective.$viewContentLoaded",s,"$viewContentLoaded",function(t){t.targetScope.ncyBreadcrumbIgnore||e()}),e()}}}}}function i(u,r,a){return{restrict:"A",scope:{},template:"{{ncyBreadcrumbChain}}",compile:function(t,e){var n=t.attr(e.$attr.ncyBreadcrumbText);n&&t.html(n);var i=t.attr(e.$attr.ncyBreadcrumbTextSeparator)||" / ";return{post:function(e){var s=[],l=function(){d(s),s=[];var a=r.$getLastViewScope(),t=r.getStatesChain(),o=[];f.forEach(t,function(t){if(t.ncyBreadcrumb&&t.ncyBreadcrumb.label){var e=u(t.ncyBreadcrumb.label);o.push(e(a)),n=s,i=e,r=a,f.forEach(c(i),function(t){var e=r.$watch(t,function(t,e){t!==e&&l()});n.push(e)})}else o.push(t.name);var n,i,r}),e.ncyBreadcrumbChain=o.join(i)};g("BreadcrumbTextDirective.$viewContentLoaded",a,"$viewContentLoaded",function(t){t.targetScope.ncyBreadcrumbIgnore||l()}),l()}}}}}var o={},c=function(t){if(t.expressions)return t.expressions;var e=[];return f.forEach(t.parts,function(t){f.isFunction(t)&&e.push(t.exp)}),e},l=function(n,i,r,a){f.forEach(c(i),function(t){var e=r.$watch(t,function(){a.ncyBreadcrumbLabel=i(r)});n.push(e)})},d=function(t){f.forEach(t,function(t){t()})};e.$inject=["$interpolate","$breadcrumb","$rootScope"],n.$inject=["$interpolate","$breadcrumb","$rootScope"],i.$inject=["$interpolate","$breadcrumb","$rootScope"],f.module("ncy-angular-breadcrumb",["ui.router.state"]).provider("$breadcrumb",function(){var h={prefixStateName:null,template:"bootstrap3",templateUrl:null,templateLast:"default",templateLastUrl:null,includeAbstract:!1};this.setOptions=function(t){f.extend(h,t)},this.$get=["$state","$stateParams","$rootScope",function(u,c,t){var d=t;g("$Breadcrumb.$viewContentLoaded",t,"$viewContentLoaded",function(t){var e,n;!t.targetScope.ncyBreadcrumbIgnore&&(e=t.targetScope.$id,n=d.$id,f.equals(e.length,n.length)?n<e:e.length>n.length)&&(d=t.targetScope)});var i=function(t,e){for(var n,i,r=p(e),a=!1,o=!1,s=0,l=t.length;s<l;s+=1)if(t[s].name===r.state)return;(n=u.get(r.state)).ncyBreadcrumb&&(n.ncyBreadcrumb.force&&(a=!0),n.ncyBreadcrumb.skip&&(o=!0)),n.abstract&&!h.includeAbstract&&!a||o||(r.paramExpr&&(i=d.$eval(r.paramExpr)),n.ncyBreadcrumbLink=u.href(r.state,i||c||{}),n.ncyBreadcrumbStateRef=e,t.unshift(n))},r=function(t){var e,n,i=p(t),r=u.get(i.state);if(r.ncyBreadcrumb&&r.ncyBreadcrumb.parent){var a="function"==typeof r.ncyBreadcrumb.parent?r.ncyBreadcrumb.parent(d):r.ncyBreadcrumb.parent;if(a)return a}return"object"==typeof(n=(e=r).parent||(/^(.+)\.[^.]+$/.exec(e.name)||[])[1])?n.name:n};return{getTemplate:function(t){return h.templateUrl?null:t[h.template]?t[h.template]:h.template},getTemplateUrl:function(){return h.templateUrl},getTemplateLast:function(t){return h.templateLastUrl?null:t[h.templateLast]?t[h.templateLast]:h.templateLast},getTemplateLastUrl:function(){return h.templateLastUrl},getStatesChain:function(t){for(var e=[],n=u.$current.self.name;n;n=r(n))if(i(e,n),t&&e.length)return e;return h.prefixStateName&&i(e,h.prefixStateName),e},getLastStep:function(){var t=this.getStatesChain(!0);return t.length?t[0]:a},$getLastViewScope:function(){return d}}}]}).directive("ncyBreadcrumb",e).directive("ncyBreadcrumbLast",n).directive("ncyBreadcrumbText",i)}(window,window.angular),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("angular")):"function"==typeof define&&define.amd?define("angular-ui-router",["angular"],e):"object"==typeof exports?exports["angular-ui-router"]=e(require("angular")):t["angular-ui-router"]=e(t.angular)}(this,function(n){return function(n){function i(t){if(r[t])return r[t].exports;var e=r[t]={exports:{},id:t,loaded:!1};return n[t].call(e.exports,e,e.exports,i),e.loaded=!0,e.exports}var r={};return i.m=n,i.c=r,i.p="",i(0)}([function(t,n,e){"use strict";function i(t){for(var e in t)n.hasOwnProperty(e)||(n[e]=t[e])}i(e(1)),i(e(53)),i(e(55)),i(e(58)),e(60),e(61),e(62),e(63),Object.defineProperty(n,"__esModule",{value:!0}),n.default="ui.router"},function(t,n,e){"use strict";function i(t){for(var e in t)n.hasOwnProperty(e)||(n[e]=t[e])}i(e(2)),i(e(46)),i(e(47)),i(e(48)),i(e(49)),i(e(50)),i(e(51)),i(e(52)),i(e(44));var r=e(25);n.UIRouter=r.UIRouter},function(t,n,e){"use strict";function i(t){for(var e in t)n.hasOwnProperty(e)||(n[e]=t[e])}i(e(3)),i(e(6)),i(e(7)),i(e(5)),i(e(4)),i(e(8)),i(e(9)),i(e(12))},function(t,a,e){"use strict";function r(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return a.forEach(t,function(t){a.forEach(t,function(t,e){n.hasOwnProperty(e)||(n[e]=t)})}),n}function n(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var r={};for(var a in e)t(n,a)&&(r[a]=e[a]);return r}function o(t){return n.apply(null,[a.inArray].concat(g(arguments)))}function i(t,n){var i=d.isArray(t)?[]:{};return a.forEach(t,function(t,e){return i[e]=n(t,e)}),i}function s(t,e){return t.push(e),t}function l(){for(var n=[],t=0;t<arguments.length;t++)n[t-0]=arguments[t];if(0===n.length)return[];var e=n.reduce(function(t,e){return Math.min(e.length,t)},9007199254740991);return Array.apply(null,Array(e)).map(function(t,e){return n.map(function(t){return t[e]})})}function u(e,n){return Object.keys(n).forEach(function(t){return e[t]=n[t]}),e}function c(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!=t&&e!=e)return!0;var n=typeof t;if(n!==typeof e||"object"!==n)return!1;var i,r,a=[t,e];if(h.all(d.isArray)(a))return r=e,(i=t).length===r.length&&l(i,r).reduce(function(t,e){return t&&c(e[0],e[1])},!0);if(h.all(d.isDate)(a))return t.getTime()===e.getTime();if(h.all(d.isRegExp)(a))return t.toString()===e.toString();if(h.all(d.isFunction)(a))return!0;if([d.isFunction,d.isArray,d.isDate,d.isRegExp].map(h.any).reduce(function(t,e){return t||!!e(a)},!1))return!1;var o,s={};for(o in t){if(!c(t[o],e[o]))return!1;s[o]=!0}for(o in e)if(!s[o])return!1;return!0}var d=e(4),h=e(5),f=e(6),p=("undefined"==typeof window?{}:window).angular||{};a.fromJson=p.fromJson||JSON.parse.bind(JSON),a.toJson=p.toJson||JSON.stringify.bind(JSON),a.copy=p.copy||function(t,e){return e&&Object.keys(e).forEach(function(t){return delete e[t]}),e||(e={}),a.extend(e,t)},a.forEach=p.forEach||function(e,n,t){return d.isArray(e)?e.forEach(n,t):void Object.keys(e).forEach(function(t){return n(e[t],t)})},a.extend=p.extend||function(t){return g(arguments,1).filter(a.identity).reduce(u,t)},a.equals=p.equals||c,a.identity=function(t){return t},a.noop=function(){},a.bindFunctions=function(e,n,i,t){return void 0===t&&(t=Object.keys(e)),t.filter(function(t){return"function"==typeof e[t]}).forEach(function(t){return n[t]=e[t].bind(i)})},a.inherit=function(t,e){return a.extend(new(a.extend(function(){},{prototype:t})),e)};var g=function(t,e){return void 0===e&&(e=0),Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(t,e))};a.inArray=function(t,e){return-1!==t.indexOf(e)},a.removeFrom=h.curry(function(t,e){var n=t.indexOf(e);return 0<=n&&t.splice(n,1),t}),a.defaults=function(t){void 0===t&&(t={});for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=r.apply(null,[{}].concat(e));return a.extend({},i,o(t||{},Object.keys(i)))},a.merge=r,a.mergeR=function(t,e){return a.extend(t,e)},a.ancestors=function(t,e){var n=[];for(var i in t.path){if(t.path[i]!==e.path[i])break;n.push(t.path[i])}return n},a.equalForKeys=function(t,e,n){void 0===n&&(n=Object.keys(t));for(var i=0;i<n.length;i++){var r=n[i];if(t[r]!=e[r])return!1}return!0},a.pick=o,a.omit=function(t){return n.apply(null,[function(t,e){return!a.inArray(t,e)}].concat(g(arguments)))},a.pluck=function(t,e){return i(t,h.prop(e))},a.filter=function(t,n){var e=d.isArray(t),i=e?[]:{},r=e?function(t){return i.push(t)}:function(t,e){return i[e]=t};return a.forEach(t,function(t,e){n(t,e)&&r(t,e)}),i},a.find=function(t,n){var i;return a.forEach(t,function(t,e){i||n(t,e)&&(i=t)}),i},a.mapObj=i,a.map=i,a.values=function(e){return Object.keys(e).map(function(t){return e[t]})},a.allTrueR=function(t,e){return t&&e},a.anyTrueR=function(t,e){return t||e},a.unnestR=function(t,e){return t.concat(e)},a.flattenR=function(t,e){return d.isArray(e)?t.concat(e.reduce(a.flattenR,[])):s(t,e)},a.pushR=s,a.uniqR=function(t,e){return a.inArray(t,e)?t:s(t,e)},a.unnest=function(t){return t.reduce(a.unnestR,[])},a.flatten=function(t){return t.reduce(a.flattenR,[])},a.assertPredicate=function(e,n){return void 0===n&&(n="assert failure"),function(t){if(!e(t))throw new Error(d.isFunction(n)?n(t):n);return!0}},a.pairs=function(e){return Object.keys(e).map(function(t){return[t,e[t]]})},a.arrayTuples=l,a.applyPairs=function(t,e){var n,i;if(d.isArray(e)&&(n=e[0],i=e[1]),!d.isString(n))throw new Error("invalid parameters to applyPairs");return t[n]=i,t},a.tail=function(t){return t.length&&t[t.length-1]||void 0},a.silenceUncaughtInPromise=function(t){return t.catch(function(t){return 0})&&t},a.silentRejection=function(t){return a.silenceUncaughtInPromise(f.services.$q.reject(t))}},function(t,i,e){"use strict";var r=e(5),n=Object.prototype.toString,a=function(e){return function(t){return typeof t===e}};i.isUndefined=a("undefined"),i.isDefined=r.not(i.isUndefined),i.isNull=function(t){return null===t},i.isFunction=a("function"),i.isNumber=a("number"),i.isString=a("string"),i.isObject=function(t){return null!==t&&"object"==typeof t},i.isArray=Array.isArray,i.isDate=function(t){return"[object Date]"===n.call(t)},i.isRegExp=function(t){return"[object RegExp]"===n.call(t)},i.isInjectable=function(t){if(i.isArray(t)&&t.length){var e=t.slice(0,-1),n=t.slice(-1);return!(e.filter(r.not(i.isString)).length||n.filter(r.not(i.isFunction)).length)}return i.isFunction(t)},i.isPromise=r.and(i.isObject,r.pipe(r.prop("then"),i.isFunction))},function(t,e){"use strict";function n(n){var t=[].slice.apply(arguments,[1]),i=n.length;return function t(e){return e.length>=i?n.apply(null,e):function(){return t(e.concat([].slice.apply(arguments)))}}(t)}function i(){var n=arguments,i=n.length-1;return function(){for(var t=i,e=n[i].apply(this,arguments);t--;)e=n[t].call(this,e);return e}}function r(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return i.apply(null,[].slice.call(arguments).reverse())}e.curry=n,e.compose=i,e.pipe=r,e.prop=function(e){return function(t){return t&&t[e]}},e.propEq=n(function(t,e,n){return n&&n[t]===e}),e.parse=function(t){return r.apply(null,t.split(".").map(e.prop))},e.not=function(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return!n.apply(null,t)}},e.and=function(n,i){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return n.apply(null,t)&&i.apply(null,t)}},e.or=function(n,i){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return n.apply(null,t)||i.apply(null,t)}},e.all=function(n){return function(t){return t.reduce(function(t,e){return t&&!!n(e)},!0)}},e.any=function(n){return function(t){return t.reduce(function(t,e){return t||!!n(e)},!1)}},e.is=function(e){return function(t){return null!=t&&t.constructor===e||t instanceof e}},e.eq=function(e){return function(t){return e===t}},e.val=function(t){return function(){return t}},e.invoke=function(e,n){return function(t){return t[e].apply(t,n)}},e.pattern=function(n){return function(t){for(var e=0;e<n.length;e++)if(n[e][0](t))return n[e][1](t)}}},function(t,e){"use strict";var n=function(t){return function(){throw new Error(t+"(): No coreservices implementation for UI-Router is loaded. You should include one of: ['angular1.js']")}},i={$q:void 0,$injector:void 0,location:{},locationConfig:{},template:{}};e.services=i,["setUrl","path","search","hash","onChange"].forEach(function(t){return i.location[t]=n(t)}),["port","protocol","host","baseHref","html5Mode","hashPrefix"].forEach(function(t){return i.locationConfig[t]=n(t)})},function(t,e){"use strict";var n=function(){function e(t){this.text=t,this.glob=t.split(".");var e=this.text.split(".").map(function(t){return"**"===t?"(?:|(?:\\.[^.]*)*)":"*"===t?"\\.[^.]*":"\\."+t}).join("");this.regexp=new RegExp("^"+e+"$")}return e.prototype.matches=function(t){return this.regexp.test("."+t)},e.is=function(t){return-1<t.indexOf("*")},e.fromString=function(t){return this.is(t)?new e(t):null},e}();e.Glob=n},function(t,e){"use strict";var n=function(){function t(t,e){void 0===t&&(t=[]),void 0===e&&(e=null),this._items=t,this._limit=e}return t.prototype.enqueue=function(t){var e=this._items;return e.push(t),this._limit&&e.length>this._limit&&e.shift(),t},t.prototype.dequeue=function(){if(this.size())return this._items.splice(0,1)[0]},t.prototype.clear=function(){var t=this._items;return this._items=[],t},t.prototype.size=function(){return this._items.length},t.prototype.remove=function(t){var e=this._items.indexOf(t);return-1<e&&this._items.splice(e,1)[0]},t.prototype.peekTail=function(){return this._items[this._items.length-1]},t.prototype.peekHead=function(){if(this.size())return this._items[0]},t}();e.Queue=n},function(t,e,n){"use strict";function i(t){var e=a(t),n=e.match(/^(function [^ ]+\([^)]*\))/),i=n?n[1]:e,r=t.name||"";return r&&i.match(/function \(/)?"function "+r+i.substr(9):i}function a(t){var e=r.isArray(t)?t.slice(-1)[0]:t;return e&&e.toString()||"undefined"}var r=n(4),o=n(10),s=n(3),l=n(5),u=n(11),c=n(19);e.maxLength=function(t,e){return e.length<=t?e:e.substr(0,t-3)+"..."},e.padString=function(t,e){for(;e.length<t;)e+=" ";return e},e.kebobString=function(t){return t.replace(/^([A-Z])/,function(t){return t.toLowerCase()}).replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})},e.functionToString=i,e.fnToString=a;var d=null,h=function(t){var e=o.Rejection.isTransitionRejectionPromise;return(d=d||l.pattern([[l.not(r.isDefined),l.val("undefined")],[r.isNull,l.val("null")],[r.isPromise,l.val("[Promise]")],[e,function(t){return t._transitionRejection.toString()}],[l.is(o.Rejection),l.invoke("toString")],[l.is(u.Transition),l.invoke("toString")],[l.is(c.Resolvable),l.invoke("toString")],[r.isInjectable,i],[l.val(!0),s.identity]]))(t)};e.stringify=function(t){var n=[];return JSON.stringify(t,function(t,e){return function(t){if(r.isObject(t)){if(-1!==n.indexOf(t))return"[circular ref]";n.push(t)}return h(t)}(e)}).replace(/\\"/g,'"')},e.beforeAfterSubstr=function(n){return function(t){if(!t)return["",""];var e=t.indexOf(n);return-1===e?[t,""]:[t.substr(0,e),t.substr(e+1)]}}},function(t,e,n){"use strict";var i,r=n(3),a=n(9);(i=e.RejectType||(e.RejectType={}))[i.SUPERSEDED=2]="SUPERSEDED",i[i.ABORTED=3]="ABORTED",i[i.INVALID=4]="INVALID",i[i.IGNORED=5]="IGNORED",i[i.ERROR=6]="ERROR";var o=e.RejectType,s=function(){function i(t,e,n){this.type=t,this.message=e,this.detail=n}return i.prototype.toString=function(){var t;return"TransitionRejection(type: "+this.type+", message: "+this.message+", detail: "+((t=this.detail)&&t.toString!==Object.prototype.toString?t.toString():a.stringify(t))+")"},i.prototype.toPromise=function(){return r.extend(r.silentRejection(this),{_transitionRejection:this})},i.isTransitionRejectionPromise=function(t){return t&&"function"==typeof t.then&&t._transitionRejection instanceof i},i.superseded=function(t,e){var n=new i(o.SUPERSEDED,"The transition has been superseded by a different transition",t);return e&&e.redirected&&(n.redirected=!0),n},i.redirected=function(t){return i.superseded(t,{redirected:!0})},i.invalid=function(t){return new i(o.INVALID,"This transition is invalid",t)},i.ignored=function(t){return new i(o.IGNORED,"The transition was ignored",t)},i.aborted=function(t){return new i(o.ABORTED,"The transition has been aborted",t)},i.errored=function(t){return new i(o.ERROR,"The transition errored",t)},i}();e.Rejection=s},function(t,e,n){"use strict";var i=n(9),o=n(12),u=n(6),c=n(3),r=n(4),d=n(5),s=n(13),h=n(15),a=n(16),f=n(21),p=n(20),g=n(14),m=n(22),v=n(19),y=n(10),b=n(17),_=n(25),w=0,x=d.prop("self"),l=function(){function l(t,e,n){var i=this;if(this._deferred=u.services.$q.defer(),this.promise=this._deferred.promise,this.treeChanges=function(){return i._treeChanges},this.isActive=function(){return i===i._options.current()},this.router=n,!(this._targetState=e).valid())throw new Error(e.error());h.HookRegistry.mixin(new h.HookRegistry,this),this._options=c.extend({current:d.val(this)},e.options()),this.$id=w++;var r=p.PathFactory.buildToPath(t,e);this._treeChanges=p.PathFactory.treeChanges(t,r,this._options.reloadState);var a=this._treeChanges.entering.map(function(t){return t.state});p.PathFactory.applyViewConfigs(n.transitionService.$view,this._treeChanges.to,a);var o=[new v.Resolvable(_.UIRouter,function(){return n},[],void 0,n),new v.Resolvable(l,function(){return i},[],void 0,this),new v.Resolvable("$transition$",function(){return i},[],void 0,this),new v.Resolvable("$stateParams",function(){return i.params()},[],void 0,this.params())],s=this._treeChanges.to[0];new b.ResolveContext(this._treeChanges.to).addResolvables(o,s.state)}return l.prototype.onBefore=function(t,e,n){throw""},l.prototype.onStart=function(t,e,n){throw""},l.prototype.onExit=function(t,e,n){throw""},l.prototype.onRetain=function(t,e,n){throw""},l.prototype.onEnter=function(t,e,n){throw""},l.prototype.onFinish=function(t,e,n){throw""},l.prototype.onSuccess=function(t,e,n){throw""},l.prototype.onError=function(t,e,n){throw""},l.prototype.$from=function(){return c.tail(this._treeChanges.from).state},l.prototype.$to=function(){return c.tail(this._treeChanges.to).state},l.prototype.from=function(){return this.$from().self},l.prototype.to=function(){return this.$to().self},l.prototype.targetState=function(){return this._targetState},l.prototype.is=function(t){return t instanceof l?this.is({to:t.$to().name,from:t.$from().name}):!(t.to&&!h.matchState(this.$to(),t.to)||t.from&&!h.matchState(this.$from(),t.from))},l.prototype.params=function(t){return void 0===t&&(t="to"),this._treeChanges[t].map(d.prop("paramValues")).reduce(c.mergeR,{})},l.prototype.injector=function(e){var t=this.treeChanges().to;return e&&(t=p.PathFactory.subPath(t,function(t){return t.state===e||t.state.name===e})),new b.ResolveContext(t).injector()},l.prototype.getResolveTokens=function(){return new b.ResolveContext(this._treeChanges.to).getTokens()},l.prototype.getResolveValue=function(t){var n=new b.ResolveContext(this._treeChanges.to),e=function(t){var e=n.getResolvable(t);if(void 0===e)throw new Error("Dependency Injection token not found: "+i.stringify(t));return e.data};return r.isArray(t)?t.map(e):e(t)},l.prototype.getResolvable=function(t){return new b.ResolveContext(this._treeChanges.to).getResolvable(t)},l.prototype.addResolvable=function(t,e){void 0===e&&(e="");var n="string"==typeof e?e:e.name,i=this._treeChanges.to,r=c.find(i,function(t){return t.state.name===n});new b.ResolveContext(i).addResolvables([t],r.state)},l.prototype.redirectedFrom=function(){return this._options.redirectedFrom||null},l.prototype.options=function(){return this._options},l.prototype.entering=function(){return c.map(this._treeChanges.entering,d.prop("state")).map(x)},l.prototype.exiting=function(){return c.map(this._treeChanges.exiting,d.prop("state")).map(x).reverse()},l.prototype.retained=function(){return c.map(this._treeChanges.retained,d.prop("state")).map(x)},l.prototype.views=function(t,e){void 0===t&&(t="entering");var n=this._treeChanges[t];return(n=e?n.filter(d.propEq("state",e)):n).map(d.prop("views")).filter(c.identity).reduce(c.unnestR,[])},l.prototype.redirect=function(t){var e=c.extend({},this.options(),t.options(),{redirectedFrom:this,source:"redirect"});t=new g.TargetState(t.identifier(),t.$state(),t.params(),e);var n,i=this.router.transitionService.create(this._treeChanges.from,t),r=this.treeChanges().entering,a=i.treeChanges().entering;return f.PathNode.matching(a,r).filter(d.not((n=t.options().reloadState,function(t){return n&&t.state.includes[n.name]}))).forEach(function(t,e){t.resolvables=r[e].resolvables}),i},l.prototype._changedParams=function(){var t=this._treeChanges,e=t.to,n=t.from;if(!this._options.reload&&c.tail(e).state===c.tail(n).state){var i=e.map(function(t){return t.paramSchema}),r=[e,n].map(function(t){return t.map(function(t){return t.paramValues})}),a=r[0],o=r[1];return c.arrayTuples(i,a,o).map(function(t){var e=t[0],n=t[1],i=t[2];return m.Param.changed(e,n,i)}).reduce(c.unnestR,[])}},l.prototype.dynamic=function(){var t=this._changedParams();return!!t&&t.map(function(t){return t.dynamic}).reduce(c.anyTrueR,!1)},l.prototype.ignored=function(){var t=this._changedParams();return!!t&&0===t.length},l.prototype.hookBuilder=function(){return new a.HookBuilder(this.router.transitionService,this,{transition:this,current:this._options.current})},l.prototype.run=function(){var e=this,n=s.TransitionHook.runSynchronousHooks,i=this.hookBuilder();this.router.globals.transitionHistory.enqueue(this);var t=n(i.getOnBeforeHooks());if(y.Rejection.isTransitionRejectionPromise(t)){t.catch(function(){return 0});var r=t._transitionRejection;return this._deferred.reject(r),this.promise}if(!this.valid()){var a=new Error(this.error());return this._deferred.reject(a),this.promise}if(this.ignored())return o.trace.traceTransitionIgnored(this),this._deferred.reject(y.Rejection.ignored()),this.promise;o.trace.traceTransitionStart(this);return i.asyncHooks().reduce(function(t,e){return t.then(function(){return e.invokeHook()})},t).then(function(){o.trace.traceSuccess(e.$to(),e),e.success=!0,e._deferred.resolve(e.to()),n(i.getOnSuccessHooks(),!0)},function(t){o.trace.traceError(t,e),e.success=!1,e._deferred.reject(t),e._error=t,n(i.getOnErrorHooks(),!0)}),this.promise},l.prototype.valid=function(){return!this.error()||void 0!==this.success},l.prototype.error=function(){for(var t=this.$to(),e=0,n=this;null!=(n=n.redirectedFrom());)if(20<++e)return"Too many Transition redirects (20+)";return t.self.abstract?"Cannot transition to abstract state '"+t.name+"'":m.Param.validates(t.parameters(),this.params())?!1===this.success?this._error:void 0:"Param values not valid for state '"+t.name+"'"},l.prototype.toString=function(){var t=this.from(),e=this.to(),n=function(t){return null!==t["#"]&&void 0!==t["#"]?t:c.omit(t,"#")};return"Transition#"+this.$id+"( '"+(r.isObject(t)?t.name:t)+"'"+c.toJson(n(this._treeChanges.from.map(d.prop("paramValues")).reduce(c.mergeR,{})))+" -> "+(this.valid()?"":"(X) ")+"'"+(r.isObject(e)?e.name:e)+"'"+c.toJson(n(this.params()))+" )"},l.diToken=l}();e.Transition=l},function(t,e,n){"use strict";function i(t){return o.isNumber(t)?l[t]:l[l[t]]}var r,a=n(5),o=n(4),s=n(9);(r=e.Category||(e.Category={}))[r.RESOLVE=0]="RESOLVE",r[r.TRANSITION=1]="TRANSITION",r[r.HOOK=2]="HOOK",r[r.UIVIEW=3]="UIVIEW",r[r.VIEWCONFIG=4]="VIEWCONFIG";var l=e.Category,u=function(){function t(){this._enabled={},this.approximateDigests=0}return t.prototype._set=function(e,t){var n=this;t.length||(t=Object.keys(l).map(function(t){return parseInt(t,10)}).filter(function(t){return!isNaN(t)}).map(function(t){return l[t]})),t.map(i).forEach(function(t){return n._enabled[t]=e})},t.prototype.enable=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];this._set(!0,t)},t.prototype.disable=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];this._set(!1,t)},t.prototype.enabled=function(t){return!!this._enabled[i(t)]},t.prototype.traceTransitionStart=function(t){if(this.enabled(l.TRANSITION))t.$id,this.approximateDigests,s.stringify(t)},t.prototype.traceTransitionIgnored=function(t){if(this.enabled(l.TRANSITION))t&&t.$id,this.approximateDigests,s.stringify(t)},t.prototype.traceHookInvocation=function(t,e){if(this.enabled(l.HOOK))a.parse("transition.$id")(e),this.approximateDigests,a.parse("traceData.hookType")(e),a.parse("traceData.context.state.name")(e)||a.parse("traceData.context")(e),s.functionToString(t.eventHook.callback)},t.prototype.traceHookResult=function(t,e){if(this.enabled(l.HOOK))a.parse("transition.$id")(e),this.approximateDigests,s.stringify(t)},t.prototype.traceResolvePath=function(t,e,n){if(this.enabled(l.RESOLVE))n&&n.$id,this.approximateDigests,t&&t.toString()},t.prototype.traceResolvableResolved=function(t,e){if(this.enabled(l.RESOLVE))e&&e.$id,this.approximateDigests,t&&t.toString(),s.stringify(t.data)},t.prototype.traceError=function(t,e){if(this.enabled(l.TRANSITION))e&&e.$id,this.approximateDigests,s.stringify(e)},t.prototype.traceSuccess=function(t,e){if(this.enabled(l.TRANSITION))e&&e.$id,this.approximateDigests,t.name,s.stringify(e)},t.prototype.traceUIViewEvent=function(t,e,n){void 0===n&&(n=""),this.enabled(l.UIVIEW)},t.prototype.traceUIViewConfigUpdated=function(t,e){this.enabled(l.UIVIEW)&&this.traceUIViewEvent("Updating",t," with ViewConfig from context='"+e+"'")},t.prototype.traceUIViewFill=function(t,e){this.enabled(l.UIVIEW)&&this.traceUIViewEvent("Fill",t," with: "+s.maxLength(200,e))},t.prototype.traceViewServiceEvent=function(t,e){this.enabled(l.VIEWCONFIG)},t.prototype.traceViewServiceUIViewEvent=function(t,e){this.enabled(l.VIEWCONFIG)},t}(),c=new(e.Trace=u);e.trace=c},function(t,e,n){"use strict";var a=n(3),o=n(9),s=n(4),l=n(5),i=n(12),u=n(6),c=n(10),r=n(14),d={async:!0,rejectIfSuperseded:!0,current:a.noop,transition:null,traceData:{},bind:null},h=function(){function t(t,e,n,i){var r=this;this.transition=t,this.stateContext=e,this.eventHook=n,this.options=i,this.isSuperseded=function(){return r.options.current()!==r.options.transition},this.options=a.defaults(i,d)}return t.prototype.invokeHook=function(){var t=this.options,e=this.eventHook;if(i.trace.traceHookInvocation(this,t),t.rejectIfSuperseded&&this.isSuperseded())return c.Rejection.superseded(t.current()).toPromise();var n=e._deregistered?void 0:e.callback.call(t.bind,this.transition,this.stateContext);return this.handleHookResult(n)},t.prototype.handleHookResult=function(t){return this.isSuperseded()?c.Rejection.superseded(this.options.current()).toPromise():s.isPromise(t)?t.then(this.handleHookResult.bind(this)):(i.trace.traceHookResult(t,this.options),!1===t?c.Rejection.aborted("Hook aborted transition").toPromise():l.is(r.TargetState)(t)?c.Rejection.redirected(t).toPromise():void 0)},t.prototype.toString=function(){var t=this.options,e=this.eventHook,n=l.parse("traceData.hookType")(t)||"internal",i=l.parse("traceData.context.state.name")(t)||l.parse("traceData.context")(t)||"unknown",r=o.fnToString(e.callback);return n+" context: "+i+", "+o.maxLength(200,r)},t.runSynchronousHooks=function(t,e){void 0===e&&(e=!1);for(var n=[],i=0;i<t.length;i++){var r=t[i];try{n.push(r.invokeHook())}catch(t){if(!e)return c.Rejection.errored(t).toPromise();r.transition.router.stateService.defaultErrorHandler()(t)}}var a=n.filter(c.Rejection.isTransitionRejectionPromise);return a.length?a[0]:n.filter(s.isPromise).reduce(function(t,e){return t.then(l.val(e))},u.services.$q.when())},t}();e.TransitionHook=h},function(t,e,n){"use strict";var i=n(3),r=function(){function t(t,e,n,i){void 0===n&&(n={}),void 0===i&&(i={}),this._identifier=t,this._definition=e,this._options=i,this._params=n||{}}return t.prototype.name=function(){return this._definition&&this._definition.name||this._identifier},t.prototype.identifier=function(){return this._identifier},t.prototype.params=function(){return this._params},t.prototype.$state=function(){return this._definition},t.prototype.state=function(){return this._definition&&this._definition.self},t.prototype.options=function(){return this._options},t.prototype.exists=function(){return!(!this._definition||!this._definition.self)},t.prototype.valid=function(){return!this.error()},t.prototype.error=function(){var t=this.options().relative;if(!this._definition&&t){var e=t.name?t.name:t;return"Could not resolve '"+this.name()+"' from state '"+e+"'"}return this._definition?this._definition.self?void 0:"State '"+this.name()+"' has an invalid definition":"No such state '"+this.name()+"'"},t.prototype.toString=function(){return"'"+this.name()+"'"+i.toJson(this.params())},t}();e.TargetState=r},function(t,e,n){"use strict";function i(t,e){var r=a.isString(e)?[e]:e;return!!(a.isFunction(r)?r:function(t){for(var e=r,n=0;n<e.length;n++){var i=s.Glob.fromString(e[n]);if(i&&i.matches(t.name)||!i&&e[n]===t.name)return!0}return!1})(t)}function r(r,a){return function(t,e,n){void 0===n&&(n={});var i=new l(t,e,n);return r[a].push(i),function(){i._deregistered=!0,o.removeFrom(r[a])(i)}}}var o=n(3),a=n(4),s=n(7);e.matchState=i;var l=function(){function r(t,e,n){void 0===n&&(n={}),this.callback=e,this.matchCriteria=o.extend({to:!0,from:!0,exiting:!0,retained:!0,entering:!0},t),this.priority=n.priority||0,this.bind=n.bind||null,this._deregistered=!1}return r._matchingNodes=function(t,e){if(!0===e)return t;var n=t.filter(function(t){return i(t.state,e)});return n.length?n:null},r.prototype.matches=function(t){var e=this.matchCriteria,n=r._matchingNodes,i={to:n([o.tail(t.to)],e.to),from:n([o.tail(t.from)],e.from),exiting:n(t.exiting,e.exiting),retained:n(t.retained,e.retained),entering:n(t.entering,e.entering)};return["to","from","exiting","retained","entering"].map(function(t){return i[t]}).reduce(o.allTrueR,!0)?i:null},r}();e.EventHook=l;var u=function(){function t(){var e=this;this._transitionEvents={onBefore:[],onStart:[],onEnter:[],onRetain:[],onExit:[],onFinish:[],onSuccess:[],onError:[]},this.getHooks=function(t){return e._transitionEvents[t]},this.onBefore=r(this._transitionEvents,"onBefore"),this.onStart=r(this._transitionEvents,"onStart"),this.onEnter=r(this._transitionEvents,"onEnter"),this.onRetain=r(this._transitionEvents,"onRetain"),this.onExit=r(this._transitionEvents,"onExit"),this.onFinish=r(this._transitionEvents,"onFinish"),this.onSuccess=r(this._transitionEvents,"onSuccess"),this.onError=r(this._transitionEvents,"onError")}return t.mixin=function(e,n){Object.keys(e._transitionEvents).concat(["getHooks"]).forEach(function(t){return n[t]=e[t]})},t}();e.HookRegistry=u},function(t,e,n){"use strict";function r(r){return void 0===r&&(r=!1),function(t,e){var n=r?-1:1,i=(t.node.state.path.length-e.node.state.path.length)*n;return 0!==i?i:e.hook.priority-t.hook.priority}}var l=n(3),i=n(4),u=n(13),c=n(17),a=function(){function t(t,e,n){var i=this;this.$transitions=t,this.transition=e,this.baseHookOptions=n,this.getOnBeforeHooks=function(){return i._buildNodeHooks("onBefore","to",r(),{async:!1})},this.getOnStartHooks=function(){return i._buildNodeHooks("onStart","to",r())},this.getOnExitHooks=function(){return i._buildNodeHooks("onExit","exiting",r(!0),{stateHook:!0})},this.getOnRetainHooks=function(){return i._buildNodeHooks("onRetain","retained",r(!1),{stateHook:!0})},this.getOnEnterHooks=function(){return i._buildNodeHooks("onEnter","entering",r(!1),{stateHook:!0})},this.getOnFinishHooks=function(){return i._buildNodeHooks("onFinish","to",r())},this.getOnSuccessHooks=function(){return i._buildNodeHooks("onSuccess","to",r(),{async:!1,rejectIfSuperseded:!1})},this.getOnErrorHooks=function(){return i._buildNodeHooks("onError","to",r(),{async:!1,rejectIfSuperseded:!1})},this.treeChanges=e.treeChanges(),this.toState=l.tail(this.treeChanges.to).state,this.fromState=l.tail(this.treeChanges.from).state,this.transitionOptions=e.options()}return t.prototype.asyncHooks=function(){return[this.getOnStartHooks(),this.getOnExitHooks(),this.getOnRetainHooks(),this.getOnEnterHooks(),this.getOnFinishHooks()].reduce(l.unnestR,[]).filter(l.identity)},t.prototype._buildNodeHooks=function(a,n,t,o){var s=this,e=this._matchingHooks(a,this.treeChanges);if(!e)return[];return e.map(function(r){var t=r.matches(s.treeChanges)[n],e="exiting"===n?s.treeChanges.from:s.treeChanges.to;return new c.ResolveContext(e),t.map(function(t){var e=l.extend({bind:r.bind,traceData:{hookType:a,context:t}},s.baseHookOptions,o),n=e.stateHook?t.state:null,i=new u.TransitionHook(s.transition,n,r,e);return{hook:r,node:t,transitionHook:i}})}).reduce(l.unnestR,[]).sort(t).map(function(t){return t.transitionHook})},t.prototype._matchingHooks=function(e,n){return[this.transition,this.$transitions].map(function(t){return t.getHooks(e)}).filter(l.assertPredicate(i.isArray,"broken event named: "+e)).reduce(l.unnestR,[]).filter(function(t){return t.matches(n)})},t}();e.HookBuilder=a},function(t,e,n){"use strict";var s=n(3),r=n(5),i=n(12),l=n(6),u=n(18),a=n(19),o=n(20),c=n(9),d=u.resolvePolicies.when,h=[d.EAGER,d.LAZY],f=[d.EAGER];e.NATIVE_INJECTOR_TOKEN="Native Injector";var p=function(){function t(t){this._path=t}return t.prototype.getTokens=function(){return this._path.reduce(function(t,e){return t.concat(e.resolvables.map(function(t){return t.token}))},[]).reduce(s.uniqR,[])},t.prototype.getResolvable=function(e){var t=this._path.map(function(t){return t.resolvables}).reduce(s.unnestR,[]).filter(function(t){return t.token===e});return s.tail(t)},t.prototype.subContext=function(e){return new t(o.PathFactory.subPath(this._path,function(t){return t.state===e}))},t.prototype.addResolvables=function(t,e){var n=s.find(this._path,r.propEq("state",e)),i=t.map(function(t){return t.token});n.resolvables=n.resolvables.filter(function(t){return-1===i.indexOf(t.token)}).concat(t)},t.prototype.resolvePath=function(t,r){var a=this;void 0===t&&(t="LAZY");var o=(s.inArray(h,t)?t:"LAZY")===u.resolvePolicies.when.EAGER?f:h;i.trace.traceResolvePath(this._path,t,r);var e=this._path.reduce(function(t,e){var n=e.resolvables.filter(function(t){return s.inArray(o,t.getPolicy(e.state).when)}),i=a.subContext(e.state);return t.concat(n.map(function(e){return e.get(i,r).then(function(t){return{token:e.token,value:t}})}))},[]);return l.services.$q.all(e)},t.prototype.injector=function(){return this._injector||(this._injector=new g(this))},t.prototype.findNode=function(e){return s.find(this._path,function(t){return s.inArray(t.resolvables,e)})},t.prototype.getDependencies=function(e){var i=this,n=this.findNode(e),r=(o.PathFactory.subPath(this._path,function(t){return t===n})||this._path).reduce(function(t,e){return t.concat(e.resolvables)},[]).filter(function(t){return t!==e});return e.deps.map(function(e){var t=r.filter(function(t){return t.token===e});if(t.length)return s.tail(t);var n=i.injector().getNative(e);if(!n)throw new Error("Could not find Dependency Injection token: "+c.stringify(e));return new a.Resolvable(e,function(){return n},[],n)})},t}();e.ResolveContext=p;var g=function(){function t(t){this.context=t,this.native=this.get(e.NATIVE_INJECTOR_TOKEN)||l.services.$injector}return t.prototype.get=function(t){var e=this.context.getResolvable(t);if(e){if(!e.resolved)throw new Error("Resolvable async .get() not complete:"+c.stringify(e.token));return e.data}return this.native&&this.native.get(t)},t.prototype.getAsync=function(t){var e=this.context.getResolvable(t);return e?e.get(this.context):l.services.$q.when(this.native.get(t))},t.prototype.getNative=function(t){return this.native.get(t)},t}()},function(t,e){"use strict";e.resolvePolicies={when:{LAZY:"LAZY",EAGER:"EAGER"},async:{WAIT:"WAIT",NOWAIT:"NOWAIT",RXWAIT:"RXWAIT"}}},function(t,i,e){"use strict";var s=e(3),l=e(6),u=e(12),n=e(9),c=e(4);i.defaultResolvePolicy={when:"LAZY",async:"WAIT"};var r=function(){function o(t,e,n,i,r){if(this.resolved=!1,this.promise=void 0,t instanceof o)s.extend(this,t);else if(c.isFunction(e)){if(null==t||null==t)throw new Error("new Resolvable(): token argument is required");if(!c.isFunction(e))throw new Error("new Resolvable(): resolveFn argument must be a function");this.token=t,this.policy=i,this.resolveFn=e,this.deps=n||[],this.data=r,this.resolved=void 0!==r,this.promise=this.resolved?l.services.$q.when(this.data):void 0}else if(c.isObject(t)&&t.token&&c.isFunction(t.resolveFn)){var a=t;return new o(a.token,a.resolveFn,a.deps,a.policy,a.data)}}return o.prototype.getPolicy=function(t){var e=this.policy||{},n=t&&t.resolvePolicy||{};return{when:e.when||n.when||i.defaultResolvePolicy.when,async:e.async||n.async||i.defaultResolvePolicy.async}},o.prototype.resolve=function(e,n){var i=this,t=l.services.$q,r=e.findNode(this),a=r&&r.state,o="RXWAIT"===this.getPolicy(a).async?function(t){var e=t.cache(1);return e.take(1).toPromise().then(function(){return e})}:s.identity;return this.promise=t.when().then(function(){return t.all(e.getDependencies(i).map(function(t){return t.get(e,n)}))}).then(function(t){return i.resolveFn.apply(null,t)}).then(o).then(function(t){return i.data=t,i.resolved=!0,u.trace.traceResolvableResolved(i,n),i.data})},o.prototype.get=function(t,e){return this.promise||this.resolve(t,e)},o.prototype.toString=function(){return"Resolvable(token: "+n.stringify(this.token)+", requires: ["+this.deps.map(n.stringify)+"])"},o.prototype.clone=function(){return new o(this)},o.fromData=function(t,e){return new o(t,function(){return e},null,null,e)},o}();i.Resolvable=r},function(t,e,n){"use strict";var c=n(3),d=n(5),i=n(14),h=n(21),r=function(){function o(){}return o.makeTargetState=function(t){var e=c.tail(t).state;return new i.TargetState(e,e,t.map(d.prop("paramValues")).reduce(c.mergeR,{}))},o.buildPath=function(t){var e=t.params();return t.$state().path.map(function(t){return new h.PathNode(t).applyRawParams(e)})},o.buildToPath=function(t,e){var n=o.buildPath(e);return e.options().inherit?o.inheritParams(t,n,Object.keys(e.params())):n},o.applyViewConfigs=function(r,a,e){a.filter(function(t){return c.inArray(e,t.state)}).forEach(function(e){var t=c.values(e.state.views||{}),n=o.subPath(a,function(t){return t===e}),i=t.map(function(t){return r.createViewConfig(n,t)});e.views=i.reduce(c.unnestR,[])})},o.inheritParams=function(l,t,u){return void 0===u&&(u=[]),t.map(function(t){var e=c.extend({},t&&t.paramValues),n=c.pick(e,u);e=c.omit(e,u);var i,r,a,o=(i=l,r=t.state,a=c.find(i,d.propEq("state",r)),c.extend({},a&&a.paramValues)||{}),s=c.extend(e,o,n);return new h.PathNode(t.state).applyRawParams(s)})},o.treeChanges=function(t,i,e){for(var n=0,r=Math.min(t.length,i.length),a=function(t,e){return t.equals(e,t.state.parameters({inherit:!1}).filter(d.not(d.prop("dynamic"))).map(d.prop("id")))};n<r&&t[n].state!==e&&a(t[n],i[n]);)n++;var o,s,l,u;s=(o=t).slice(0,n),l=o.slice(n);var c=s.map(function(t,e){var n=h.PathNode.clone(t);return n.paramValues=i[e].paramValues,n});return u=i.slice(n),{from:o,to:c.concat(u),retained:s,exiting:l,entering:u}},o.subPath=function(t,e){var n=c.find(t,e),i=t.indexOf(n);return-1===i?void 0:t.slice(0,i+1)},o.paramValues=function(t){return t.reduce(function(t,e){return c.extend(t,e.paramValues)},{})},o}();e.PathFactory=r},function(t,e,n){"use strict";var r=n(3),a=n(5),s=n(22),i=function(){function i(t){if(t instanceof i){var e=t;this.state=e.state,this.paramSchema=e.paramSchema.slice(),this.paramValues=r.extend({},e.paramValues),this.resolvables=e.resolvables.slice(),this.views=e.views&&e.views.slice()}else{var n=t;this.state=n,this.paramSchema=n.parameters({inherit:!1}),this.paramValues={},this.resolvables=n.resolvables.map(function(t){return t.clone()})}}return i.prototype.applyRawParams=function(i){return this.paramValues=this.paramSchema.reduce(function(t,e){return r.applyPairs(t,[(n=e).id,n.value(i[n.id])]);var n},{}),this},i.prototype.parameter=function(t){return r.find(this.paramSchema,a.propEq("id",t))},i.prototype.equals=function(e,t){var n=this;void 0===t&&(t=this.paramSchema.map(function(t){return t.id}));return this.state===e.state&&t.map(function(t){return n.parameter(t).type.equals(n.paramValues[t],e.paramValues[t])}).reduce(r.allTrueR,!0)},i.clone=function(t){return new i(t)},i.matching=function(t,e,n){void 0===n&&(n=!0);for(var i=[],r=0;r<t.length&&r<e.length;r++){var a=t[r],o=e[r];if(a.state!==o.state)break;if(s.Param.changed(a.paramSchema,a.paramValues,o.paramValues).filter(function(t){return!(n&&t.dynamic)}).length)break;i.push(a)}return i},i}();e.PathNode=i},function(t,e,n){"use strict";var i,_=n(3),w=n(5),x=n(4),a=n(6),k=n(23),C=n(24),r=Object.prototype.hasOwnProperty,S=function(t){return 0===["value","type","squash","array","dynamic"].filter(r.bind(t||{})).length};(i=e.DefType||(e.DefType={}))[i.PATH=0]="PATH",i[i.SEARCH=1]="SEARCH",i[i.CONFIG=2]="CONFIG";var D=e.DefType,o=function(){function r(t,e,n,i,r){var a;a=S(a=n)&&{value:a}||a,e=function(t,e,n,i,r){if(t.type&&e&&"string"!==e.name)throw new Error("Param '"+i+"' has two type configurations.");return t.type&&e&&"string"===e.name&&r.type(t.type)?r.type(t.type):e||(t.type?t.type instanceof C.ParamType?t.type:r.type(t.type):n===D.CONFIG?r.type("any"):r.type("string"))}(n=_.extend(a,{$$fn:x.isInjectable(a.value)?a.value:function(){return a.value}}),e,i,t,r);var o,s,l=(o={array:i===D.SEARCH&&"auto"},s=t.match(/\[\]$/)?{array:!0}:{},_.extend(o,s,n).array);e=l?e.$asArray(l,i===D.SEARCH):e;var u,c,d,h,f,p,g,m=void 0!==n.value,v=x.isDefined(n.dynamic)?!!n.dynamic:!!e.dynamic,y=function(t,e){var n=t.squash;if(!e||!1===n)return!1;if(!x.isDefined(n)||null==n)return k.matcherConfig.defaultSquashPolicy();if(!0===n||x.isString(n))return n;throw new Error("Invalid squash policy: '"+n+"'. Valid policies: false, true, or arbitrary string")}(n,m),b=(u=n,c=l,h=y,g=[{from:"",to:(d=m)||c?void 0:""},{from:null,to:d||c?void 0:""}],f=x.isArray(u.replace)?u.replace:[],x.isString(h)&&f.push({from:h,to:void 0}),p=_.map(f,w.prop("from")),_.filter(g,function(t){return-1===p.indexOf(t.from)}).concat(f));_.extend(this,{id:t,type:e,location:i,squash:y,replace:b,isOptional:m,dynamic:v,config:n,array:l})}return r.prototype.isDefaultValue=function(t){return this.isOptional&&this.type.equals(this.value(),t)},r.prototype.value=function(t){var e,n,i=this;return e=t,t=(n=_.map(_.filter(i.replace,w.propEq("from",e)),w.prop("to"))).length?n[0]:e,x.isDefined(t)?this.type.$normalize(t):function(){if(!a.services.$injector)throw new Error("Injectable functions cannot be called at configuration time");var t=a.services.$injector.invoke(i.config.$$fn);if(null!=t&&!i.type.is(t))throw new Error("Default value ("+t+") for parameter '"+i.id+"' is not an instance of ParamType ("+i.type.name+")");return t}()},r.prototype.isSearch=function(){return this.location===D.SEARCH},r.prototype.validates=function(t){if((!x.isDefined(t)||null===t)&&this.isOptional)return!0;var e=this.type.$normalize(t);if(!this.type.is(e))return!1;var n=this.type.encode(e);return!(x.isString(n)&&!this.type.pattern.exec(n))},r.prototype.toString=function(){return"{Param:"+this.id+" "+this.type+" squash: '"+this.squash+"' optional: "+this.isOptional+"}"},r.fromConfig=function(t,e,n,i){return new r(t,e,n,D.CONFIG,i)},r.fromPath=function(t,e,n,i){return new r(t,e,n,D.PATH,i)},r.fromSearch=function(t,e,n,i){return new r(t,e,n,D.SEARCH,i)},r.values=function(t,e){return void 0===e&&(e={}),t.map(function(t){return[t.id,t.value(e[t.id])]}).reduce(_.applyPairs,{})},r.changed=function(t,e,n){return void 0===e&&(e={}),void 0===n&&(n={}),t.filter(function(t){return!t.type.equals(e[t.id],n[t.id])})},r.equals=function(t,e,n){return void 0===e&&(e={}),void 0===n&&(n={}),0===r.changed(t,e,n).length},r.validates=function(t,e){return void 0===e&&(e={}),t.map(function(t){return t.validates(e[t.id])}).reduce(_.allTrueR,!0)},r}();e.Param=o},function(t,e,n){"use strict";var i=n(4),r=function(){function t(){this._isCaseInsensitive=!1,this._isStrictMode=!0,this._defaultSquashPolicy=!1}return t.prototype.caseInsensitive=function(t){return this._isCaseInsensitive=i.isDefined(t)?t:this._isCaseInsensitive},t.prototype.strictMode=function(t){return this._isStrictMode=i.isDefined(t)?t:this._isStrictMode},t.prototype.defaultSquashPolicy=function(t){if(i.isDefined(t)&&!0!==t&&!1!==t&&!i.isString(t))throw new Error("Invalid squash policy: "+t+". Valid policies: false, true, arbitrary-string");return this._defaultSquashPolicy=i.isDefined(t)?t:this._defaultSquashPolicy},t}();e.MatcherConfig=r,e.matcherConfig=new r},function(t,e,n){"use strict";function i(i,a){function o(t){return c.isArray(t)?t:c.isDefined(t)?[t]:[]}function r(i,r){return function(t){if(c.isArray(t)&&0===t.length)return t;var e=o(t),n=u.map(e,i);return!0===r?0===u.filter(n,function(t){return!t}).length:function(t){switch(t.length){case 0:return;case 1:return"auto"===a?t[0]:t;default:return t}}(n)}}function s(a){return function(t,e){var n=o(t),i=o(e);if(n.length!==i.length)return!1;for(var r=0;r<n.length;r++)if(!a(n[r],i[r]))return!1;return!0}}var l=this;["encode","decode","equals","$normalize"].forEach(function(t){var e=i[t].bind(i),n="equals"===t?s:r;l[t]=n(e)}),u.extend(this,{dynamic:i.dynamic,name:i.name,pattern:i.pattern,is:r(i.is.bind(i),!0),$arrayMode:a})}var u=n(3),c=n(4),r=function(){function t(t){this.pattern=/.*/,u.extend(this,t)}return t.prototype.is=function(t,e){return!0},t.prototype.encode=function(t,e){return t},t.prototype.decode=function(t,e){return t},t.prototype.equals=function(t,e){return t==e},t.prototype.$subPattern=function(){var t=this.pattern.toString();return t.substr(1,t.length-2)},t.prototype.toString=function(){return"{ParamType:"+this.name+"}"},t.prototype.$normalize=function(t){return this.is(t)?t:this.decode(t)},t.prototype.$asArray=function(t,e){if(!t)return this;if("auto"===t&&!e)throw new Error("'auto' array mode is for query parameters only");return new i(this,t)},t}();e.ParamType=r},function(t,e,n){"use strict";var i=n(26),r=n(29),a=n(29),o=n(30),s=n(37),l=n(38),u=n(43),c=n(44),d=function(){this.viewService=new s.ViewService,this.transitionService=new o.TransitionService(this),this.globals=new c.Globals(this.transitionService),this.urlMatcherFactory=new i.UrlMatcherFactory,this.urlRouterProvider=new r.UrlRouterProvider(this.urlMatcherFactory,this.globals.params),this.urlRouter=new a.UrlRouter(this.urlRouterProvider),this.stateRegistry=new l.StateRegistry(this.urlMatcherFactory,this.urlRouterProvider),this.stateService=new u.StateService(this),this.viewService.rootContext(this.stateRegistry.root()),this.globals.$current=this.stateRegistry.root(),this.globals.current=this.globals.$current.self};e.UIRouter=d},function(t,e,n){"use strict";var r=n(3),a=n(4),o=n(27),i=n(23),s=n(22),l=n(28),u=function(){function t(){this.paramTypes=new l.ParamTypes,r.extend(this,{UrlMatcher:o.UrlMatcher,Param:s.Param})}return t.prototype.caseInsensitive=function(t){return i.matcherConfig.caseInsensitive(t)},t.prototype.strictMode=function(t){return i.matcherConfig.strictMode(t)},t.prototype.defaultSquashPolicy=function(t){return i.matcherConfig.defaultSquashPolicy(t)},t.prototype.compile=function(t,e){return new o.UrlMatcher(t,this.paramTypes,r.extend({strict:i.matcherConfig.strictMode(),caseInsensitive:i.matcherConfig.caseInsensitive()},e))},t.prototype.isMatcher=function(n){if(!a.isObject(n))return!1;var i=!0;return r.forEach(o.UrlMatcher.prototype,function(t,e){a.isFunction(t)&&(i=i&&a.isDefined(n[e])&&a.isFunction(n[e]))}),i},t.prototype.type=function(t,e,n){var i=this.paramTypes.type(t,e,n);return a.isDefined(e)?this:i},t.prototype.$get=function(){return this.paramTypes.enqueue=!1,this.paramTypes._flushTypeQueue(),this},t}();e.UrlMatcherFactory=u},function(t,e,n){"use strict";function m(t,e){var n=["",""],i=t.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!e)return i;switch(e.squash){case!1:n=["(",")"+(e.isOptional?"?":"")];break;case!0:i=i.replace(/\/$/,""),n=["(?:/(",")|/)?"];break;default:n=["("+e.squash+"|",")?"]}return i+n[0]+e.type.pattern.source+n[1]}var w=n(3),x=n(5),s=n(4),v=n(22),k=n(4),i=n(22),l=n(3),r=n(3),a=function(){function g(r,a,t){var o=this;this.config=t,this._cache={path:[],pattern:null},this._children=[],this._params=[],this._segments=[],this._compiled=[],this.pattern=r,this.config=w.defaults(this.config,{params:{},strict:!0,caseInsensitive:!1,paramMap:w.identity});for(var e,n,i,s=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,l=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,u=0,c=[],d=function(t){if(!g.nameValidator.test(t))throw new Error("Invalid parameter name '"+t+"' in pattern '"+r+"'");if(w.find(o._params,x.propEq("id",t)))throw new Error("Duplicate parameter name '"+t+"' in pattern '"+r+"'")},h=function(t,e){var n=t[2]||t[3],i=e?t[4]:t[4]||("*"===t[1]?".*":null);return{id:n,regexp:i,cfg:o.config.params[n],segment:r.substring(u,t.index),type:i?a.type(i||"string")||w.inherit(a.type("string"),{pattern:new RegExp(i,o.config.caseInsensitive?"i":void 0)}):null}};(e=s.exec(r))&&!(0<=(n=h(e,!1)).segment.indexOf("?"));)d(n.id),this._params.push(v.Param.fromPath(n.id,n.type,this.config.paramMap(n.cfg,!1),a)),this._segments.push(n.segment),c.push([n.segment,w.tail(this._params)]),u=s.lastIndex;var f=(i=r.substring(u)).indexOf("?");if(0<=f){var p=i.substring(f);if(i=i.substring(0,f),0<p.length)for(u=0;e=l.exec(p);)d((n=h(e,!0)).id),this._params.push(v.Param.fromSearch(n.id,n.type,this.config.paramMap(n.cfg,!0),a)),u=s.lastIndex}this._segments.push(i),w.extend(this,{_compiled:c.map(function(t){return m.apply(null,t)}).concat(m(i)),prefix:this._segments[0]}),Object.freeze(this)}return g.prototype.append=function(n){return this._children.push(n),w.forEach(n._cache,function(t,e){return n._cache[e]=s.isArray(t)?[]:null}),n._cache.path=this._cache.path.concat(this),n},g.prototype.isRoot=function(){return 0===this._cache.path.length},g.prototype.toString=function(){return this.pattern},g.prototype.exec=function(t,i,e,n){var r=this;void 0===i&&(i={}),void 0===n&&(n={});var a,o,s,l=(a=this._cache,o="pattern",s=function(){return new RegExp(["^",w.unnest(r._cache.path.concat(r).map(x.prop("_compiled"))).join(""),!1===r.config.strict?"/?":"","$"].join(""),r.config.caseInsensitive?"i":void 0)},a[o]=a[o]||s()).exec(t);if(!l)return null;var u,c,d,h=this.parameters(),f=h.filter(function(t){return!t.isSearch()}),p=h.filter(function(t){return t.isSearch()}),g=this._cache.path.concat(this).map(function(t){return t._segments.length-1}).reduce(function(t,e){return t+e}),m={};if(g!==l.length-1)throw new Error("Unbalanced capture group in route '"+this.pattern+"'");for(var v=0;v<g;v++){for(var y=f[v],b=l[v+1],_=0;_<y.replace.length;_++)y.replace[_].from===b&&(b=y.replace[_].to);b&&!0===y.array&&(void 0,c=(u=function(t){return t.split("").reverse().join("")})(b).split(/-(?!\\)/),d=w.map(c,u),b=w.map(d,function(t){return t.replace(/\\-/g,"-")}).reverse()),k.isDefined(b)&&(b=y.type.decode(b)),m[y.id]=y.value(b)}return p.forEach(function(t){for(var e=i[t.id],n=0;n<t.replace.length;n++)t.replace[n].from===e&&(e=t.replace[n].to);k.isDefined(e)&&(e=t.type.decode(e)),m[t.id]=t.value(e)}),e&&(m["#"]=e),m},g.prototype.parameters=function(t){return void 0===t&&(t={}),!1===t.inherit?this._params:w.unnest(this._cache.path.concat(this).map(x.prop("_params")))},g.prototype.parameter=function(t,e){void 0===e&&(e={});var n=w.tail(this._cache.path);return w.find(this._params,x.propEq("id",t))||!1!==e.inherit&&n&&n.parameter(t)||null},g.prototype.validates=function(t){var a=this;return w.pairs(t||{}).map(function(t){var e,n,i=t[0],r=t[1];return e=a.parameter(i),n=r,!e||e.validates(n)}).reduce(w.allTrueR,!0)},g.prototype.format=function(i){function o(t){var e=t.value(i[t.id]),n=t.isDefaultValue(e);return{param:t,value:e,isDefaultValue:n,squash:!!n&&t.squash,encoded:t.type.encode(e)}}if(void 0===i&&(i={}),!this.validates(i))return null;var t=this._cache.path.slice().concat(this),e=t.map(g.pathSegmentsAndParams).reduce(l.unnestR,[]),n=t.map(g.queryParams).reduce(l.unnestR,[]),r=e.reduce(function(t,e){if(s.isString(e))return t+e;var n=o(e),i=n.squash,r=n.encoded,a=n.param;return!0===i?t.match(/\/$/)?t.slice(0,-1):t:s.isString(i)?t+i:!1!==i?t:null==r?t:s.isArray(r)?t+w.map(r,g.encodeDashes).join("-"):a.type.raw?t+r:t+encodeURIComponent(r)},""),a=n.map(function(e){var t=o(e),n=t.squash,i=t.encoded,r=t.isDefaultValue;if(!(null==i||r&&!1!==n)&&(s.isArray(i)||(i=[i]),0!==i.length))return e.type.raw||(i=w.map(i,encodeURIComponent)),i.map(function(t){return e.id+"="+t})}).filter(w.identity).reduce(l.unnestR,[]).join("&");return r+(a?"?"+a:"")+(i["#"]?"#"+i["#"]:"")},g.encodeDashes=function(t){return encodeURIComponent(t).replace(/-/g,function(t){return"%5C%"+t.charCodeAt(0).toString(16).toUpperCase()})},g.pathSegmentsAndParams=function(t){var e=t._segments,n=t._params.filter(function(t){return t.location===i.DefType.PATH});return r.arrayTuples(e,n.concat(void 0)).reduce(l.unnestR,[]).filter(function(t){return""!==t&&k.isDefined(t)})},g.queryParams=function(t){return t._params.filter(function(t){return t.location===i.DefType.SEARCH})},g.nameValidator=/^\w+([-.]+\w+)*(?:\[\])?$/,g}();e.UrlMatcher=a},function(t,e,n){"use strict";function i(t){return null!=t?t.toString().replace(/(~|\/)/g,function(t){return{"~":"~~","/":"~2F"}[t]}):t}function r(t){return null!=t?t.toString().replace(/(~~|~2F)/g,function(t){return{"~~":"~","~2F":"/"}[t]}):t}var a=n(3),o=n(4),s=n(5),l=n(6),u=n(24),c=function(){function t(){this.enqueue=!0,this.typeQueue=[],this.defaultTypes={hash:{encode:i,decode:r,is:s.is(String),pattern:/.*/,equals:function(t,e){return t==e}},string:{encode:i,decode:r,is:s.is(String),pattern:/[^\/]*/},int:{encode:i,decode:function(t){return parseInt(t,10)},is:function(t){return o.isDefined(t)&&this.decode(t.toString())===t},pattern:/-?\d+/},bool:{encode:function(t){return t?1:0},decode:function(t){return 0!==parseInt(t,10)},is:s.is(Boolean),pattern:/0|1/},date:{encode:function(t){return this.is(t)?[t.getFullYear(),("0"+(t.getMonth()+1)).slice(-2),("0"+t.getDate()).slice(-2)].join("-"):void 0},decode:function(t){if(this.is(t))return t;var e=this.capture.exec(t);return e?new Date(e[1],e[2]-1,e[3]):void 0},is:function(t){return t instanceof Date&&!isNaN(t.valueOf())},equals:function(n,i){return["getFullYear","getMonth","getDate"].reduce(function(t,e){return t&&n[e]()===i[e]()},!0)},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:a.toJson,decode:a.fromJson,is:s.is(Object),equals:a.equals,pattern:/[^\/]*/},any:{encode:a.identity,decode:a.identity,equals:a.equals,pattern:/.*/}};this.types=a.inherit(a.map(this.defaultTypes,function(t,e){return new u.ParamType(a.extend({name:e},t))}),{})}return t.prototype.type=function(t,e,n){if(!o.isDefined(e))return this.types[t];if(this.types.hasOwnProperty(t))throw new Error("A type named '"+t+"' has already been defined.");return this.types[t]=new u.ParamType(a.extend({name:t},e)),n&&(this.typeQueue.push({name:t,def:n}),this.enqueue||this._flushTypeQueue()),this},t.prototype._flushTypeQueue=function(){for(;this.typeQueue.length;){var t=this.typeQueue.shift();if(t.pattern)throw new Error("You cannot override a type's .pattern at runtime.");a.extend(this.types[t.name],l.services.$injector.invoke(t.def))}},t}();e.ParamTypes=c},function(t,e,n){"use strict";function d(t,e,n,i){if(!i)return!1;var r=t.invoke(n,n,{$match:i,$stateParams:e});return!f.isDefined(r)||r}function i(t,e,n){function i(t){var e=t(p.services.$injector,g);return!!e&&(f.isString(e)&&g.setUrl(e,!0),!0)}if(!n||!n.defaultPrevented){for(var r=t.length,a=0;a<r;a++)if(i(t[a]))return;e&&i(e)}}var h=n(3),f=n(4),p=n(6),g=p.services.location,r=function(){function t(t,e){this.rules=[],this.interceptDeferred=!1,this.$urlMatcherFactory=t,this.$stateParams=e}return t.prototype.rule=function(t){if(!f.isFunction(t))throw new Error("'rule' must be a function");return this.rules.push(t),this},t.prototype.removeRule=function(t){return this.rules.length!==h.removeFrom(this.rules,t).length},t.prototype.otherwise=function(t){if(!f.isFunction(t)&&!f.isString(t))throw new Error("'rule' must be a string or function");return this.otherwiseFn=f.isString(t)?function(){return t}:t,this},t.prototype.when=function(t,e,n){void 0===n&&(n=function(t){});var r,i=this.$urlMatcherFactory,a=this.$stateParams,o=f.isString(e);if(f.isString(t)&&(t=i.compile(t)),!o&&!f.isFunction(e)&&!f.isArray(e))throw new Error("invalid 'handler' in when()");var s={matcher:function(t,e){return o&&(r=i.compile(e),e=["$match",r.format.bind(r)]),h.extend(function(){return d(p.services.$injector,a,e,t.exec(g.path(),g.search(),g.hash()))},{prefix:f.isString(t.prefix)?t.prefix:""})},regex:function(t,e){if(t.global||t.sticky)throw new Error("when() RegExp must not be global or sticky");return o&&(r=e,e=["$match",function(t){return n=t,r.replace(/\$(\$|\d{1,2})/,function(t,e){return n["$"===e?0:Number(e)]});var n}]),h.extend(function(){return d(p.services.$injector,a,e,t.exec(g.path()))},{prefix:(n=t,i=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(n.source),null!=i?i[1].replace(/\\(.)/g,"$1"):"")});var n,i}},l={matcher:i.isMatcher(t),regex:t instanceof RegExp};for(var u in l)if(l[u]){var c=s[u](t,e);return n(c),this.rule(c)}throw new Error("invalid 'what' in when()")},t.prototype.deferIntercept=function(t){void 0===t&&(t=!0),this.interceptDeferred=t},t}();e.UrlRouterProvider=r;var a=function(){function e(t){this.urlRouterProvider=t,h.bindFunctions(e.prototype,this,this)}return e.prototype.sync=function(){i(this.urlRouterProvider.rules,this.urlRouterProvider.otherwiseFn)},e.prototype.listen=function(){var e=this;return this.listener=this.listener||g.onChange(function(t){return i(e.urlRouterProvider.rules,e.urlRouterProvider.otherwiseFn,t)})},e.prototype.update=function(t){return t?void(this.location=g.path()):void(g.path()!==this.location&&g.setUrl(this.location,!0))},e.prototype.push=function(t,e,n){var i=n&&!!n.replace;g.setUrl(t.format(e||{}),i)},e.prototype.href=function(t,e,n){if(!t.validates(e))return null;var i=t.format(e);n=n||{absolute:!1};var r,a,o,s,l=p.services.locationConfig,u=l.html5Mode();if(u||null===i||(i="#"+l.hashPrefix()+i),r=i,a=u,o=n.absolute,i="/"===(s=p.services.locationConfig.baseHref())?r:a?s.slice(0,-1)+r:o?s.slice(1)+r:r,!n.absolute||!i)return i;var c=!u&&i?"/":"",d=l.port();return d=80===d||443===d?"":":"+d,[l.protocol(),"://",l.host(),d,c,i].join("")},e}();e.UrlRouter=a},function(t,e,n){"use strict";var i=n(11),r=n(15),a=n(31),o=n(32),s=n(33),l=n(34),u=n(35),c=n(36);e.defaultTransOpts={location:!0,relative:null,inherit:!1,notify:!0,reload:!1,custom:{},current:function(){return null},source:"unknown"};var d=function(){function t(t){this._router=t,this.$view=t.viewService,r.HookRegistry.mixin(new r.HookRegistry,this),this._deregisterHookFns={},this.registerTransitionHooks()}return t.prototype.registerTransitionHooks=function(){var t=this._deregisterHookFns;t.redirectTo=l.registerRedirectToHook(this),t.onExit=u.registerOnExitHook(this),t.onRetain=u.registerOnRetainHook(this),t.onEnter=u.registerOnEnterHook(this),t.eagerResolve=a.registerEagerResolvePath(this),t.lazyResolve=a.registerLazyResolveState(this),t.loadViews=o.registerLoadEnteringViews(this),t.activateViews=o.registerActivateViews(this),t.updateUrl=s.registerUpdateUrl(this),t.lazyLoad=c.registerLazyLoadHook(this)},t.prototype.onBefore=function(t,e,n){throw""},t.prototype.onStart=function(t,e,n){throw""},t.prototype.onExit=function(t,e,n){throw""},t.prototype.onRetain=function(t,e,n){throw""},t.prototype.onEnter=function(t,e,n){throw""},t.prototype.onFinish=function(t,e,n){throw""},t.prototype.onSuccess=function(t,e,n){throw""},t.prototype.onError=function(t,e,n){throw""},t.prototype.create=function(t,e){return new i.Transition(t,e,this._router)},t}();e.TransitionService=d},function(t,e,n){"use strict";var i=n(3),r=n(17),a=n(5),o=function(t){return new r.ResolveContext(t.treeChanges().to).resolvePath("EAGER",t).then(i.noop)};e.registerEagerResolvePath=function(t){return t.onStart({},o,{priority:1e3})};var s=function(t,e){return new r.ResolveContext(t.treeChanges().to).subContext(e).resolvePath("LAZY",t).then(i.noop)};e.registerLazyResolveState=function(t){return t.onEnter({entering:a.val(!0)},s,{priority:1e3})}},function(t,e,n){"use strict";var i=n(3),r=n(6),a=function(t){var e=t.views("entering");if(e.length)return r.services.$q.all(e.map(function(t){return t.load()})).then(i.noop)};e.registerLoadEnteringViews=function(t){return t.onStart({},a)};var o=function(t){var e=t.views("entering"),n=t.views("exiting");if(e.length||n.length){var i=t.router.viewService;n.forEach(function(t){return i.deactivateViewConfig(t)}),e.forEach(function(t){return i.activateViewConfig(t)}),i.sync()}};e.registerActivateViews=function(t){return t.onSuccess({},o)}},function(t,e){"use strict";var n=function(t){var e=t.options(),n=t.router.stateService,i=t.router.urlRouter;if("url"!==e.source&&e.location&&n.$current.navigable){var r={replace:"replace"===e.location};i.push(n.$current.navigable.url,n.params,r)}i.update(!0)};e.registerUpdateUrl=function(t){return t.onSuccess({},n,{priority:9999})}},function(t,e,n){"use strict";var i=n(4),r=n(6),a=n(14),o=function(n){function t(t){var e=n.router.stateService;return t instanceof a.TargetState?t:i.isString(t)?e.target(t,n.params(),n.options()):t.state||t.params?e.target(t.state||n.to(),t.params||n.params(),n.options()):void 0}var e=n.to().redirectTo;if(e)return i.isFunction(e)?r.services.$q.when(e(n)).then(t):t(e)};e.registerRedirectToHook=function(t){return t.onStart({to:function(t){return!!t.redirectTo}},o)}},function(t,e){"use strict";function n(n){return function(t,e){return(0,e[n])(t,e)}}var i=n("onExit");e.registerOnExitHook=function(t){return t.onExit({exiting:function(t){return!!t.onExit}},i)};var r=n("onRetain");e.registerOnRetainHook=function(t){return t.onRetain({retained:function(t){return!!t.onRetain}},r)};var a=n("onEnter");e.registerOnEnterHook=function(t){return t.onEnter({entering:function(t){return!!t.onEnter}},a)}},function(t,e,n){"use strict";var d=n(6),i=function(u){var t=u.to(),c=u.router.stateRegistry,e=t.lazyLoad,n=e._promise;if(!n){var i=function(){return delete e._promise};(n=e._promise=e(u).then(function(t){c.deregister(u.$to()),t&&Array.isArray(t.states)&&t.states.forEach(function(t){return c.register(t)})})).then(i,i)}return n.then(function(){if("url"===u.options().source){var t=d.services.location,e=t.path(),n=t.search(),i=t.hash(),r=c.get().map(function(t){return t.$$state()}).map(function(t){return[t,t.url&&t.url.exec(e,n,i)]}).filter(function(t){return t[0],!!t[1]});if(r.length){var a=r[0],o=a[0],s=a[1];return u.router.stateService.target(o,s,u.options())}u.router.urlRouter.sync()}var l=u.targetState();return u.router.stateService.target(l.identifier(),l.params(),l.options())})};e.registerLazyLoadHook=function(t){return t.onBefore({to:function(t){return!!t.lazyLoad}},i)}},function(t,e,n){"use strict";var u=n(3),a=n(5),o=n(4),i=n(12),r=function(){function t(){var r=this;this.uiViews=[],this.viewConfigs=[],this._viewConfigFactories={},this.sync=function(){function n(t){for(var e=t.viewDecl.$context,n=0;++n&&e.parent;)e=e.parent;return n}var l=r.uiViews.map(function(t){return[t.fqn,t]}).reduce(u.applyPairs,{}),i=a.curry(function(t,e,n,i){return e*(t(n)-t(i))});r.uiViews.sort(i(function(t){return t.fqn.split(".").length},1)).map(function(t){var s,e=r.viewConfigs.filter((s=t,function(t){if(s.$type!==t.viewDecl.$type)return!1;var e=t.viewDecl,n=e.$uiViewName.split("."),i=s.fqn.split(".");if(!u.equals(n,i.slice(0-n.length)))return!1;var r=1-n.length||void 0,a=i.slice(0,r).join("."),o=l[a].creationContext;return e.$uiViewContextAnchor===(o&&o.name)}));return 1<e.length&&e.sort(i(n,-1)),[t,e[0]]}).forEach(function(t){var e=t[0],n=t[1];-1!==r.uiViews.indexOf(e)&&e.configUpdated(n)})}}return t.prototype.rootContext=function(t){return this._rootContext=t||this._rootContext},t.prototype.viewConfigFactory=function(t,e){this._viewConfigFactories[t]=e},t.prototype.createViewConfig=function(t,e){var n=this._viewConfigFactories[e.$type];if(!n)throw new Error("ViewService: No view config factory registered for type "+e.$type);var i=n(t,e);return o.isArray(i)?i:[i]},t.prototype.deactivateViewConfig=function(t){i.trace.traceViewServiceEvent("<- Removing",t),u.removeFrom(this.viewConfigs,t)},t.prototype.activateViewConfig=function(t){i.trace.traceViewServiceEvent("-> Registering",t),this.viewConfigs.push(t)},t.prototype.registerUIView=function(e){i.trace.traceViewServiceUIViewEvent("-> Registering",e);var t=this.uiViews;return t.filter(function(t){return t.fqn===e.fqn}).length&&i.trace.traceViewServiceUIViewEvent("!!!! duplicate uiView named:",e),t.push(e),this.sync(),function(){return-1===t.indexOf(e)?void i.trace.traceViewServiceUIViewEvent("Tried removing non-registered uiView",e):(i.trace.traceViewServiceUIViewEvent("<- Deregistering",e),void u.removeFrom(t)(e))}},t.prototype.available=function(){return this.uiViews.map(a.prop("fqn"))},t.prototype.active=function(){return this.uiViews.filter(a.prop("$config")).map(a.prop("name"))},t.normalizeUIViewTarget=function(t,e){void 0===e&&(e="");var n=e.split("@"),i=n[0]||"$default",r=o.isString(n[1])?n[1]:"^",a=/^(\^(?:\.\^)*)\.(.*$)/.exec(i);a&&(r=a[1],i=a[2]),"!"===i.charAt(0)&&(i=i.substr(1),r="");/^(\^(?:\.\^)*)$/.exec(r)&&(r=r.split(".").reduce(function(t,e){return t.parent},t).name);return{uiViewName:i,uiViewContextAnchor:r}},t}();e.ViewService=r},function(t,e,n){"use strict";var i=n(39),r=n(40),a=n(41),o=n(3),s=function(){function t(t,e){this.urlRouterProvider=e,this.states={},this.listeners=[],this.matcher=new i.StateMatcher(this.states),this.builder=new r.StateBuilder(this.matcher,t),this.stateQueue=new a.StateQueueManager(this.states,this.builder,e,this.listeners);(this._root=this.stateQueue.register({name:"",url:"^",views:null,params:{"#":{value:null,type:"hash",dynamic:!0}},abstract:!0})).navigable=null}return t.prototype.onStatesChanged=function(t){return this.listeners.push(t),function(){o.removeFrom(this.listeners)(t)}.bind(this)},t.prototype.root=function(){return this._root},t.prototype.register=function(t){return this.stateQueue.register(t)},t.prototype._deregisterTree=function(t){var e=this,n=this.get().map(function(t){return t.$$state()}),i=function(e){var t=n.filter(function(t){return-1!==e.indexOf(t.parent)});return 0===t.length?t:t.concat(i(t))},r=i([t]),a=[t].concat(r).reverse();return a.forEach(function(t){e.urlRouterProvider.removeRule(t._urlRule),delete e.states[t.name]}),a},t.prototype.deregister=function(t){var e=this.get(t);if(!e)throw new Error("Can't deregister state; not found: "+t);var n=this._deregisterTree(e.$$state());return this.listeners.forEach(function(t){return t("deregistered",n.map(function(t){return t.self}))}),n},t.prototype.get=function(t,e){var n=this;if(0===arguments.length)return Object.keys(this.states).map(function(t){return n.states[t].self});var i=this.matcher.find(t,e);return i&&i.self||null},t.prototype.decorator=function(t,e){return this.builder.builder(t,e)},t}();e.StateRegistry=s},function(t,e,n){"use strict";var o=n(4),s=n(7),l=n(3),i=function(){function t(t){this._states=t}return t.prototype.isRelative=function(t){return 0===(t=t||"").indexOf(".")||0===t.indexOf("^")},t.prototype.find=function(t,e){if(t||""===t){var n=o.isString(t),i=n?t:t.name;this.isRelative(i)&&(i=this.resolvePath(i,e));var r=this._states[i];if(r&&(n||!(n||r!==t&&r.self!==t)))return r;if(n){var a=l.values(this._states).filter(function(t){return new s.Glob(t.name).matches(i)});return a.length,a[0]}}},t.prototype.resolvePath=function(t,e){if(!e)throw new Error("No reference point given for path '"+t+"'");for(var n=this.find(e),i=t.split("."),r=0,a=i.length,o=n;r<a;r++)if(""!==i[r]||0!==r){if("^"!==i[r])break;if(!o.parent)throw new Error("Path '"+t+"' not valid for state '"+n.name+"'");o=o.parent}else o=n;var s=i.slice(r).join(".");return o.name+(o.name&&s?".":"")+s},t}();e.StateMatcher=i},function(t,e,n){"use strict";function a(t){return t.lazyLoad&&(t.name=t.self.name+".**"),t.name}function o(t){return t.self.$$state=function(){return t},t.self}function s(t){return t.parent&&t.parent.data&&(t.data=t.self.data=d.inherit(t.parent.data,t.data)),t.data}function l(t){return t.parent?t.parent.path.concat(t):[t]}function u(t){var e=t.parent?d.extend({},t.parent.includes):{};return e[t.name]=!0,e}function c(t){var e,n,i=function(t){return t.provide||t.token},r=p.pattern([[p.prop("resolveFn"),function(t){return new g.Resolvable(i(t),t.resolveFn,t.deps,t.policy)}],[p.prop("useFactory"),function(t){return new g.Resolvable(i(t),t.useFactory,t.deps||t.dependencies,t.policy)}],[p.prop("useClass"),function(t){return new g.Resolvable(i(t),function(){return new t.useClass},[],t.policy)}],[p.prop("useValue"),function(t){return new g.Resolvable(i(t),function(){return t.useValue},[],t.policy,t.useValue)}],[p.prop("useExisting"),function(t){return new g.Resolvable(i(t),d.identity,[t.useExisting],t.policy)}]]),a=p.pattern([[p.pipe(p.prop("val"),h.isString),function(t){return new g.Resolvable(t.token,d.identity,[t.val],t.policy)}],[p.pipe(p.prop("val"),h.isArray),function(t){return new g.Resolvable(t.token,d.tail(t.val),t.val.slice(0,-1),t.policy)}],[p.pipe(p.prop("val"),h.isFunction),function(t){return new g.Resolvable(t.token,t.val,(e=t.val).$inject||m.services.$injector.annotate(e,m.services.$injector.strictDi),t.policy);var e}]]),o=p.pattern([[p.is(g.Resolvable),function(t){return t}],[function(t){return!(!t.token||!t.resolveFn)},r],[function(t){return!(!t.provide&&!t.token||!(t.useValue||t.useFactory||t.useExisting||t.useClass))},r],[function(t){return!!(t&&t.val&&(h.isString(t.val)||h.isArray(t.val)||h.isFunction(t.val)))},a],[p.val(!0),function(t){throw new Error("Invalid resolve value: "+f.stringify(t))}]]),s=t.resolve;return(h.isArray(s)?s:(e=s,n=t.resolvePolicy||{},Object.keys(e||{}).map(function(t){return{token:t,val:e[t],deps:void 0,policy:n[t]}}))).map(o)}var d=n(3),h=n(4),f=n(9),p=n(5),r=n(22),g=n(19),m=n(6),v=function(a,o){return function(t){var n=t;n&&n.url&&n.lazyLoad&&(n.url+="{remainder:any}");var e=function(t){if(!h.isString(t))return!1;var e="^"===t.charAt(0);return{val:e?t.substring(1):t,root:e}}(n.url),i=t.parent,r=e?a.compile(e.val,{params:t.params||{},paramMap:function(t,e){return!1===n.reloadOnSearch&&e&&(t=d.extend(t||{},{dynamic:!0})),t}}):n.url;if(!r)return null;if(!a.isMatcher(r))throw new Error("Invalid url '"+r+"' in state '"+t+"'");return e&&e.root?r:(i&&i.navigable||o()).url.append(r)}},y=function(e){return function(t){return!e(t)&&t.url?t:t.parent?t.parent.navigable:null}},b=function(i){return function(t){var e=t.url&&t.url.parameters({inherit:!1})||[],n=d.values(d.mapObj(d.omit(t.params||{},e.map(p.prop("id"))),function(t,e){return r.Param.fromConfig(e,null,t,i)}));return e.concat(n).map(function(t){return[t.id,t]}).reduce(d.applyPairs,{})}};e.resolvablesBuilder=c;var i=function(){function t(e,t){this.matcher=e;var n=this,i=function(){return e.find("")},r=function(t){return""===t.name};this.builders={name:[a],self:[o],parent:[function(t){return r(t)?null:e.find(n.parentName(t))||i()}],data:[s],url:[v(t,i)],navigable:[y(r)],params:[b(t.paramTypes)],views:[],path:[l],includes:[u],resolvables:[c]}}return t.prototype.builder=function(t,e){var n=this.builders,i=n[t]||[];return h.isString(t)&&!h.isDefined(e)?1<i.length?i:i[0]:h.isString(t)&&h.isFunction(e)?(n[t]=i,n[t].push(e),function(){return n[t].splice(n[t].indexOf(e,1))&&null}):void 0},t.prototype.build=function(t){var e=this.matcher,n=this.builders,i=this.parentName(t);if(i&&!e.find(i))return null;for(var r in n)if(n.hasOwnProperty(r)){var a=n[r].reduce(function(e,n){return function(t){return n(t,e)}},d.noop);t[r]=a(t)}return t},t.prototype.parentName=function(t){var e=t.name||"",n=e.split(".");if(1<n.length){if(t.parent)throw new Error("States that specify the 'parent:' property should not have a '.' in their name ("+e+")");return"**"===n.pop()&&n.pop(),n.join(".")}return t.parent?h.isString(t.parent)?t.parent:t.parent.name:""},t.prototype.name=function(t){var e=t.name;if(-1!==e.indexOf(".")||!t.parent)return e;var n=h.isString(t.parent)?t.parent:t.parent.name;return n?n+"."+e:e},t}();e.StateBuilder=i},function(t,e,n){"use strict";var a=n(3),o=n(4),s=n(42),i=function(){function t(t,e,n,i){this.states=t,this.builder=e,this.$urlRouterProvider=n,this.listeners=i,this.queue=[]}return t.prototype.register=function(t){var e=this.states,n=this.queue,i=this.$state,r=a.inherit(new s.State,a.extend({},t,{self:t,resolve:t.resolve||[],toString:function(){return t.name}}));if(!o.isString(r.name))throw new Error("State must have a valid name");if(e.hasOwnProperty(r.name)||-1!==a.pluck(n,"name").indexOf(r.name))throw new Error("State '"+r.name+"' is already defined");return n.push(r),this.$state&&this.flush(i),r},t.prototype.flush=function(t){for(var e=this.queue,n=this.states,i=this.builder,r=[],a=[],o={};0<e.length;){var s=e.shift(),l=i.build(s),u=a.indexOf(s);if(l){if(n.hasOwnProperty(s.name))throw new Error("State '"+name+"' is already defined");n[s.name]=s,this.attachRoute(t,s),0<=u&&a.splice(u,1),r.push(s)}else{var c=o[s.name];if(o[s.name]=e.length,0<=u&&c===e.length)return e.push(s),n;u<0&&a.push(s),e.push(s)}}return r.length&&this.listeners.forEach(function(t){return t("registered",r.map(function(t){return t.self}))}),n},t.prototype.autoFlush=function(t){this.$state=t,this.flush(t)},t.prototype.attachRoute=function(n,i){var t=this.$urlRouterProvider;!i.abstract&&i.url&&t.when(i.url,["$match","$stateParams",function(t,e){n.$current.navigable===i&&a.equalForKeys(t,e)||n.transitionTo(i,t,{inherit:!0,source:"url"})}],function(t){return i._urlRule=t})},t}();e.StateQueueManager=i},function(t,e,n){"use strict";var i=n(3),r=n(5),a=function(){function t(t){i.extend(this,t)}return t.prototype.is=function(t){return this===t||this.self===t||this.fqn()===t},t.prototype.fqn=function(){if(!(this.parent&&this.parent instanceof this.constructor))return this.name;var t=this.parent.fqn();return t?t+"."+this.name:this.name},t.prototype.root=function(){return this.parent&&this.parent.root()||this},t.prototype.parameters=function(t){return((t=i.defaults(t,{inherit:!0})).inherit&&this.parent&&this.parent.parameters()||[]).concat(i.values(this.params))},t.prototype.parameter=function(t,e){return void 0===e&&(e={}),this.url&&this.url.parameter(t,e)||i.find(i.values(this.params),r.propEq("id",t))||e.inherit&&this.parent&&this.parent.parameter(t)},t.prototype.toString=function(){return this.fqn()},t}();e.State=a},function(t,e,n){"use strict";var f=n(3),o=n(4),c=n(8),p=n(6),d=n(20),g=n(21),m=n(30),v=n(10),y=n(14),s=n(22),l=n(7),u=n(3),r=n(3),h=n(17),i=function(){function i(t){this.router=t,this.invalidCallbacks=[],this._defaultErrorHandler=function(t){t instanceof Error&&t.stack||t instanceof v.Rejection&&t.detail&&t.detail.stack};var e=["current","$current","params","transition"],n=Object.keys(i.prototype).filter(function(t){return-1===e.indexOf(t)});r.bindFunctions(i.prototype,this,this,n)}return Object.defineProperty(i.prototype,"transition",{get:function(){return this.router.globals.transition},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"params",{get:function(){return this.router.globals.params},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"current",{get:function(){return this.router.globals.current},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"$current",{get:function(){return this.router.globals.$current},enumerable:!0,configurable:!0}),i.prototype._handleInvalidTargetState=function(t,n){var i=this,r=d.PathFactory.makeTargetState(t),e=this.router.globals,a=function(){return e.transitionHistory.peekTail()},o=a(),s=new c.Queue(this.invalidCallbacks.slice()),l=new h.ResolveContext(t).injector(),u=function(t){if(t instanceof y.TargetState){var e=t;return(e=i.target(e.identifier(),e.params(),e.options())).valid()?a()!==o?v.Rejection.superseded().toPromise():i.transitionTo(e.identifier(),e.params(),e.options()):v.Rejection.invalid(e.error()).toPromise()}};return function e(){var t=s.dequeue();return void 0===t?v.Rejection.invalid(n.error()).toPromise():p.services.$q.when(t(n,r,l)).then(u).then(function(t){return t||e()})}()},i.prototype.onInvalid=function(t){return this.invalidCallbacks.push(t),function(){f.removeFrom(this.invalidCallbacks)(t)}.bind(this)},i.prototype.reload=function(t){return this.transitionTo(this.current,this.params,{reload:!o.isDefined(t)||t,inherit:!1,notify:!1})},i.prototype.go=function(t,e,n){var i={relative:this.$current,inherit:!0},r=f.defaults(n,i,m.defaultTransOpts);return this.transitionTo(t,e,r)},i.prototype.target=function(t,e,n){if(void 0===n&&(n={}),o.isObject(n.reload)&&!n.reload.name)throw new Error("Invalid reload state object");var i=this.router.stateRegistry;if(n.reloadState=!0===n.reload?i.root():i.matcher.find(n.reload,n.relative),n.reload&&!n.reloadState)throw new Error("No such reload state '"+(o.isString(n.reload)?n.reload:n.reload.name)+"'");var r=i.matcher.find(t,n.relative);return new y.TargetState(t,r,e,n)},i.prototype.transitionTo=function(t,e,n){var r=this;void 0===e&&(e={}),void 0===n&&(n={});var a=this.router,o=a.globals,i=o.transitionHistory;n=f.defaults(n,m.defaultTransOpts),n=f.extend(n,{current:i.peekTail.bind(i)});var s=this.target(t,e,n),l=o.successfulTransitions.peekTail(),u=l?l.treeChanges().to:[new g.PathNode(r.router.stateRegistry.root())];if(!s.exists())return this._handleInvalidTargetState(u,s);if(!s.valid())return f.silentRejection(s.error());var c=function(i){return function(t){if(t instanceof v.Rejection){if(t.type===v.RejectType.IGNORED)return a.urlRouter.update(),p.services.$q.when(o.current);var e=t.detail;if(t.type===v.RejectType.SUPERSEDED&&t.redirected&&e instanceof y.TargetState){var n=i.redirect(e);return n.run().catch(c(n))}t.type===v.RejectType.ABORTED&&a.urlRouter.update()}return r.defaultErrorHandler()(t),p.services.$q.reject(t)}},d=this.router.transitionService.create(u,s),h=d.run().catch(c(d));return f.silenceUncaughtInPromise(h),f.extend(h,{transition:d})},i.prototype.is=function(t,e,n){n=f.defaults(n,{relative:this.$current});var i=this.router.stateRegistry.matcher.find(t,n.relative);if(o.isDefined(i))return this.$current===i&&(!o.isDefined(e)||null===e||s.Param.equals(i.parameters(),this.params,e))},i.prototype.includes=function(t,e,n){n=f.defaults(n,{relative:this.$current});var i=o.isString(t)&&l.Glob.fromString(t);if(i){if(!i.matches(this.$current.name))return!1;t=this.$current.name}var r=this.router.stateRegistry.matcher.find(t,n.relative),a=this.$current.includes;if(o.isDefined(r))return!!o.isDefined(a[r.name])&&(!e||u.equalForKeys(s.Param.values(r.parameters(),e),this.params,Object.keys(e)))},i.prototype.href=function(t,e,n){var i={lossy:!0,inherit:!0,absolute:!1,relative:this.$current};n=f.defaults(n,i),e=e||{};var r=this.router.stateRegistry.matcher.find(t,n.relative);if(!o.isDefined(r))return null;n.inherit&&(e=this.params.$inherit(e,this.$current,r));var a=r&&n.lossy?r.navigable:r;return a&&void 0!==a.url&&null!==a.url?this.router.urlRouter.href(a.url,s.Param.values(r.parameters(),e),{absolute:n.absolute}):null},i.prototype.defaultErrorHandler=function(t){return this._defaultErrorHandler=t||this._defaultErrorHandler},i.prototype.get=function(t,e){var n=this.router.stateRegistry;return 0===arguments.length?n.get():n.get(t,e||this.$current)},i}();e.StateService=i},function(t,e,n){"use strict";var i=n(45),r=n(8),a=n(3),o=function(t){var n=this;this.params=new i.StateParams,this.transitionHistory=new r.Queue([],1),this.successfulTransitions=new r.Queue([],1),t.onBefore({},function(t){n.transition=t,n.transitionHistory.enqueue(t),t.onSuccess({},function(){n.successfulTransitions.enqueue(t),n.$current=t.$to(),n.current=n.$current.self,a.copy(t.params(),n.params)},{priority:1e4});var e=function(){n.transition===t&&(n.transition=null)};t.promise.then(e,e)})};e.Globals=o},function(t,e,n){"use strict";var u=n(3),i=function(){function t(t){void 0===t&&(t={}),u.extend(this,t)}return t.prototype.$inherit=function(t,e,n){var i,r=u.ancestors(e,n),a={},o=[];for(var s in r)if(r[s]&&r[s].params&&(i=Object.keys(r[s].params)).length)for(var l in i)0<=o.indexOf(i[l])||(o.push(i[l]),a[i[l]]=this[i[l]]);return u.extend({},a,t)},t}();e.StateParams=i},function(t,n,e){"use strict";function i(t){for(var e in t)n.hasOwnProperty(e)||(n[e]=t[e])}i(e(22)),i(e(28)),i(e(45)),i(e(24))},function(t,n,e){"use strict";function i(t){for(var e in t)n.hasOwnProperty(e)||(n[e]=t[e])}i(e(21)),i(e(20))},function(t,n,e){"use strict";function i(t){for(var e in t)n.hasOwnProperty(e)||(n[e]=t[e])}i(e(18)),i(e(19)),i(e(17))},function(t,n,e){"use strict";function i(t){for(var e in t)n.hasOwnProperty(e)||(n[e]=t[e])}i(e(40)),i(e(42)),i(e(39)),i(e(41)),i(e(38)),i(e(43)),i(e(14))},function(t,n,e){"use strict";function i(t){for(var e in t)n.hasOwnProperty(e)||(n[e]=t[e])}i(e(16)),i(e(15)),i(e(10)),i(e(11)),i(e(13)),i(e(30))},function(t,n,e){"use strict";function i(t){for(var e in t)n.hasOwnProperty(e)||(n[e]=t[e])}i(e(27)),i(e(23)),i(e(26)),i(e(29))},function(t,n,e){"use strict";!function(t){for(var e in t)n.hasOwnProperty(e)||(n[e]=t[e])}(e(37))},function(t,e,n){"use strict";function i(o){function t(n,t,e,i,r,a){return i.$on("$locationChangeSuccess",function(e){return s.forEach(function(t){return t(e)})}),u.services.locationConfig.html5Mode=function(){var t=o.html5Mode();return(t=h.isObject(t)?t.enabled:t)&&e.history},u.services.location.setUrl=function(t,e){void 0===e&&(e=!1),n.url(t),e&&n.replace()},u.services.template.get=function(t){return r.get(t,{cache:a,headers:{Accept:"text/html"}}).then(d.prop("data"))},c.bindFunctions(n,u.services.location,n,["replace","url","path","search","hash"]),c.bindFunctions(n,u.services.locationConfig,n,["port","protocol","host"]),c.bindFunctions(t,u.services.locationConfig,t,["baseHref"]),y}(y=new l.UIRouter).stateProvider=new g.StateProvider(y.stateRegistry,y.stateService),y.stateRegistry.decorator("views",f.ng1ViewsBuilder),y.stateRegistry.decorator("onExit",m.getStateHookBuilder("onExit")),y.stateRegistry.decorator("onRetain",m.getStateHookBuilder("onRetain")),y.stateRegistry.decorator("onEnter",m.getStateHookBuilder("onEnter")),y.viewService.viewConfigFactory("ng1",f.ng1ViewConfigFactory),c.bindFunctions(o,u.services.locationConfig,o,["hashPrefix"]);var s=[];u.services.location.onChange=function(t){return s.push(t),function(){return c.removeFrom(s)(t)}},(this.$get=t).$inject=["$location","$browser","$sniffer","$rootScope","$http","$templateCache"]}function r(t,e){u.services.$injector=t,u.services.$q=e}function a(t){t.$watch(function(){s.trace.approximateDigests++})}var l=n(25),u=n(6),c=n(3),d=n(5),h=n(4),o=n(54),s=n(12),f=n(55),p=n(56),g=n(58),m=n(59),v=n(57);v.module("ui.router.angular1",[]),v.module("ui.router.util",["ng","ui.router.init"]),v.module("ui.router.router",["ui.router.util"]),v.module("ui.router.state",["ui.router.router","ui.router.util","ui.router.angular1"]),v.module("ui.router",["ui.router.init","ui.router.state","ui.router.angular1"]),v.module("ui.router.compat",["ui.router"]),e.annotateController=function(t){var e=u.services.$injector,n=e.get("$controller"),i=e.instantiate;try{var r;return e.instantiate=function(t){e.instantiate=i,r=e.annotate(t)},n(t,{$scope:{}}),r}finally{e.instantiate=i}};var y=null;i.$inject=["$locationProvider"],v.module("ui.router.init",[]).provider("$uiRouter",i),r.$inject=["$injector","$q"],v.module("ui.router.init").run(r),v.module("ui.router.init").run(["$uiRouter",function(t){}]),v.module("ui.router.util").provider("$urlMatcherFactory",["$uiRouterProvider",function(){return y.urlMatcherFactory}]),v.module("ui.router.util").run(["$urlMatcherFactory",function(t){}]),v.module("ui.router.router").provider("$urlRouter",["$uiRouterProvider",function(){return y.urlRouterProvider.$get=function(){return y.urlRouter.update(!0),this.interceptDeferred||y.urlRouter.listen(),y.urlRouter},y.urlRouterProvider}]),v.module("ui.router.router").run(["$urlRouter",function(t){}]),v.module("ui.router.state").provider("$state",["$uiRouterProvider",function(){return y.stateProvider.$get=function(){return y.stateRegistry.stateQueue.autoFlush(y.stateService),y.stateService},y.stateProvider}]),v.module("ui.router.state").run(["$state",function(t){}]),v.module("ui.router.state").factory("$stateParams",["$uiRouter",function(t){return t.globals.params}]),v.module("ui.router.state").provider("$transitions",["$uiRouterProvider",function(){return y.transitionService.$get=function(){return y.transitionService},y.transitionService}]),v.module("ui.router.util").factory("$templateFactory",["$uiRouter",function(){return new p.TemplateFactory}]),v.module("ui.router").factory("$view",function(){return y.viewService}),v.module("ui.router").factory("$resolve",o.resolveFactory),v.module("ui.router").service("$trace",function(){return s.trace}),a.$inject=["$rootScope"],e.watchDigests=a,v.module("ui.router").run(a),e.getLocals=function(e){return e.getTokens().filter(h.isString).map(function(t){return[t,e.getResolvable(t).data]}).reduce(c.applyPairs,{})}},function(t,e,n){"use strict";var s=n(42),l=n(21),u=n(17),c=n(3),d=n(40),i={resolve:function(t,i,e){void 0===i&&(i={});var r=new l.PathNode(new s.State({params:{},resolvables:[]})),a=new l.PathNode(new s.State({params:{},resolvables:[]})),o=new u.ResolveContext([r,a]);o.addResolvables(d.resolvablesBuilder({resolve:t}),a.state);var n=function(t){var e=function(t){return d.resolvablesBuilder({resolve:c.mapObj(t,function(t){return function(){return t}})})};o.addResolvables(e(t),r.state),o.addResolvables(e(i),a.state);var n=function(t,e){return t[e.token]=e.value,t};return o.resolvePath().then(function(t){return t.reduce(n,{})})};return e?e.then(n):n({})}};e.resolveFactory=function(){return i}},function(t,e,n){"use strict";var s=n(3),l=n(9),u=n(37),c=n(4),a=n(6),o=n(12),d=n(56),h=n(17),r=n(19),f=n(57);e.ng1ViewConfigFactory=function(t,e){return[new g(t,e)]},e.ng1ViewsBuilder=function(n){var i=["component","bindings"],r=["templateProvider","templateUrl","template","notify","async"].concat(["controller","controllerProvider","controllerAs","resolveAs"]),t=i.concat(r),o={},e=n.views||{$default:s.pick(n,t)};return s.forEach(e,function(a,t){if(t=t||"$default",c.isString(a)&&(a={component:a}),Object.keys(a).length){if(a.component){if(r.map(function(t){return c.isDefined(a[t])}).reduce(s.anyTrueR,!1))throw new Error("Cannot combine: "+i.join("|")+" with: "+r.join("|")+" in stateview: 'name@"+n.name+"'");a.templateProvider=["$injector",function(t){var r=3<=f.version.minor?"::":"",e=function(t,e){var n=t.get(e+"Directive");if(!n||!n.length)throw new Error("Unable to find component named '"+e+"'");return n.map(p).reduce(s.unnestR,[])}(t,a.component).map(function(t){var e,n=l.kebobString(t.name),i=(e=t.name,a.bindings&&a.bindings[e]||e);return"@"===t.type?n+"='{{"+r+"$resolve."+i+"}}'":n+"='"+r+"$resolve."+i+"'"}).join(" "),n=l.kebobString(a.component);return"<"+n+" "+e+"></"+n+">"}]}a.resolveAs=a.resolveAs||"$resolve",a.$type="ng1",a.$context=n,a.$name=t;var e=u.ViewService.normalizeUIViewTarget(a.$context,a.$name);a.$uiViewName=e.uiViewName,a.$uiViewContextAnchor=e.uiViewContextAnchor,o[t]=a}}),o};var p=function(t){return e=c.isObject(t.bindToController)?t.bindToController:t.scope,Object.keys(e||{}).map(function(t){return[t,/^([=<@])[?]?(.*)/.exec(e[t])]}).filter(function(t){return c.isDefined(t)&&c.isDefined(t[1])}).map(function(t){return{name:t[1][2]||t[0],type:t[1][1]}});var e},i=0,g=function(){function t(t,e){this.path=t,this.viewDecl=e,this.$id=i++,this.loaded=!1}return t.prototype.load=function(){var e=this,t=a.services.$q;if(!this.hasTemplate())throw new Error("No template configuration specified for '"+this.viewDecl.$uiViewName+"@"+this.viewDecl.$uiViewContextAnchor+"'");var n=new h.ResolveContext(this.path),i=this.path.reduce(function(t,e){return s.extend(t,e.paramValues)},{}),r={template:t.when(this.getTemplate(i,new d.TemplateFactory,n)),controller:t.when(this.getController(n))};return t.all(r).then(function(t){return o.trace.traceViewServiceEvent("Loaded",e),e.controller=t.controller,e.template=t.template,e})},t.prototype.hasTemplate=function(){return!!(this.viewDecl.template||this.viewDecl.templateUrl||this.viewDecl.templateProvider)},t.prototype.getTemplate=function(t,e,n){return e.fromConfig(this.viewDecl,t,n)},t.prototype.getController=function(t){var e=this.viewDecl.controllerProvider;if(!c.isInjectable(e))return this.viewDecl.controller;var n=a.services.$injector.annotate(e),i=c.isArray(e)?s.tail(e):e;return new r.Resolvable("",i,n).get(t)},t}();e.Ng1ViewConfig=g},function(t,e,n){"use strict";var a=n(4),o=n(6),s=n(3),l=n(19),i=function(){function t(){}return t.prototype.fromConfig=function(t,e,n){return a.isDefined(t.template)?this.fromString(t.template,e):a.isDefined(t.templateUrl)?this.fromUrl(t.templateUrl,e):a.isDefined(t.templateProvider)?this.fromProvider(t.templateProvider,e,n):null},t.prototype.fromString=function(t,e){return a.isFunction(t)?t(e):t},t.prototype.fromUrl=function(t,e){return a.isFunction(t)&&(t=t(e)),null==t?null:o.services.template.get(t)},t.prototype.fromProvider=function(t,e,n){var i=o.services.$injector.annotate(t),r=a.isArray(t)?s.tail(t):t;return new l.Resolvable("",r,i).get(n)},t}();e.TemplateFactory=i},function(t,e){t.exports=n},function(t,e,n){"use strict";var i=n(4),r=n(3),a=function(){function n(t,e){this.stateRegistry=t,this.stateService=e,r.bindFunctions(n.prototype,this,this)}return n.prototype.decorator=function(t,e){return this.stateRegistry.decorator(t,e)||this},n.prototype.state=function(t,e){return i.isObject(t)?e=t:e.name=t,this.stateRegistry.register(e),this},n.prototype.onInvalid=function(t){return this.stateService.onInvalid(t)},n}();e.StateProvider=a},function(t,e,n){"use strict";var r=n(6),a=n(53),o=n(17),s=n(3);e.getStateHookBuilder=function(n){return function(t,e){var i=t[n];return i?function(t,e){var n=new o.ResolveContext(t.treeChanges().to);return r.services.$injector.invoke(i,this,s.extend({$state$:e},a.getLocals(n)))}:void 0}}},function(t,e,n){"use strict";function v(t,e){var n,i=t.match(/^\s*({[^}]*})\s*$/);if(i&&(t=e+"("+i[1]+")"),!(n=t.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/))||4!==n.length)throw new Error("Invalid state ref '"+t+"'");return{state:n[1],paramExpr:n[3]||null}}function y(t){var e=t.parent().inheritedData("$uiView"),n=i.parse("$cfg.path")(e);return n?b.tail(n).state.name:void 0}function p(t){var e="[object SVGAnimatedString]"===Object.prototype.toString.call(t.prop("href")),n="FORM"===t[0].nodeName;return{attr:n?"action":e?"xlink:href":"href",isAnchor:"A"===t.prop("tagName").toUpperCase(),clickable:!n}}function g(a,o,s,l,u){return function(t){var e=t.which||t.button,n=u();if(!(1<e||t.ctrlKey||t.metaKey||t.shiftKey||a.attr("target"))){var i=s(function(){o.go(n.state,n.params,n.options)});t.preventDefault();var r=l.isAnchor&&!n.href?1:0;t.preventDefault=function(){r--<=0&&s.cancel(i)}}}}var m=n(57),b=n(3),_=n(4),i=n(5),r=["$state","$timeout",function(h,f){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(t,e,n,i){var r,a,o=v(n.uiSref,h.current.name),s={state:o.state,href:null,params:null,options:null},l=p(e),u=i[1]||i[0],c=null;s.options=b.extend((a=h,{relative:y(e)||a.$current,inherit:!0,source:"sref"}),n.uiSrefOpts?t.$eval(n.uiSrefOpts):{});var d=function(t){t&&(s.params=m.copy(t)),s.href=h.href(o.state,s.params,s.options),c&&c(),u&&(c=u.$$addStateInfo(o.state,s.params)),null!==s.href&&n.$set(l.attr,s.href)};o.paramExpr&&(t.$watch(o.paramExpr,function(t){t!==s.params&&d(t)},!0),s.params=m.copy(t.$eval(o.paramExpr))),d(),l.clickable&&(r=g(e,h,f,l,function(){return s}),e.on("click",r),t.$on("$destroy",function(){e.off("click",r)}))}}}],a=["$state","$timeout",function(d,h){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(t,e,n,i){function r(t){u.state=t[0],u.params=t[1],u.options=t[2],u.href=d.href(u.state,u.params,u.options),c&&c(),s&&(c=s.$$addStateInfo(u.state,u.params)),u.href&&n.$set(o.attr,u.href)}var a,o=p(e),s=i[1]||i[0],l="["+[n.uiState,n.uiStateParams||null,n.uiStateOpts||null].map(function(t){return t||"null"}).join(", ")+"]",u={state:null,params:null,options:null,href:null},c=null;t.$watch(l,r,!0),r(t.$eval(l)),o.clickable&&(a=g(e,d,h,o,function(){return u}),e.on("click",a),t.$on("$destroy",function(){e.off("click",a)}))}}}],o=["$state","$stateParams","$interpolate","$transitions","$uiRouter",function(f,t,p,g,m){return{restrict:"A",controller:["$scope","$element","$attrs","$timeout",function(o,s,t,n){function e(t){t.promise.then(r)}function i(t,e,n){var i=f.get(t,y(s)),r=function(t,e){if(!_.isString(t))throw new Error("state should be a string");return _.isObject(e)?t+b.toJson(e):(e=o.$eval(e),_.isObject(e)?t+b.toJson(e):t)}(t,e),a={state:i||{name:t},params:e,hash:r};return d.push(a),h[r]=n,function(){var t=d.indexOf(a);-1!==t&&d.splice(t,1)}}function r(){for(var t=0;t<d.length;t++)i=d[t].state,r=d[t].params,f.includes(i.name,r)?a(s,h[d[t].hash]):l(s,h[d[t].hash]),e=d[t].state,n=d[t].params,f.is(e.name,n)?a(s,u):l(s,u);var e,n,i,r}function a(t,e){n(function(){t.addClass(e)})}function l(t,e){t.removeClass(e)}var u,c,d=[],h={};u=p(t.uiSrefActiveEq||"",!1)(o);try{c=o.$eval(t.uiSrefActive)}catch(t){}c=c||p(t.uiSrefActive||"",!1)(o),_.isObject(c)&&b.forEach(c,function(t,e){if(_.isString(t)){var n=v(t,f.current.name);i(n.state,o.$eval(n.paramExpr),e)}}),this.$$addStateInfo=function(t,e){if(!(_.isObject(c)&&0<d.length)){var n=i(t,e,c);return r(),n}},o.$on("$stateChangeSuccess",r),o.$on("$destroy",g.onStart({},e)),m.globals.transition&&e(m.globals.transition),r()}]}}];m.module("ui.router.state").directive("uiSref",r).directive("uiSrefActive",o).directive("uiSrefActiveEq",o).directive("uiState",a)},function(t,e,n){"use strict";function i(i){var t=function(t,e,n){return i.is(t,e,n)};return t.$stateful=!0,t}function r(i){var t=function(t,e,n){return i.includes(t,e,n)};return t.$stateful=!0,t}var a=n(57);i.$inject=["$state"],e.$IsStateFilter=i,r.$inject=["$state"],e.$IncludedByStateFilter=r,a.module("ui.router.state").filter("isState",i).filter("includedByState",r)},function(t,e,n){"use strict";function i(g,m,v,t,e){var y=D.parse("viewDecl.controllerAs"),b=D.parse("viewDecl.resolveAs");return{restrict:"ECA",priority:-400,compile:function(t){var p=t.html();return function(e,n){var t=n.data("$uiView");if(t){var i=t.$cfg||{viewDecl:{}};n.html(i.template||p),C.trace.traceUIViewFill(t.$uiView,n.html());var r=g(n.contents()),a=i.controller,o=y(i),s=b(i),l=i.path&&new x.ResolveContext(i.path),u=l&&M.getLocals(l);if(e[s]=u,a){var c=m(a,w.extend({},u,{$scope:e,$element:n}));o&&(e[o]=c,e[o][s]=u),n.data("$ngControllerController",c),n.children().data("$ngControllerController",c),_(v,c,e,i)}if(k.isString(i.viewDecl.component))var d=i.viewDecl.component,h=T.kebobString(d),f=e.$watch(function(){var t=[].slice.call(n[0].children).filter(function(t){return t&&t.tagName&&t.tagName.toLowerCase()===h});return t&&$.element(t).data("$"+d+"Controller")},function(t){t&&(_(v,t,e,i),f())});r(e)}}}}}function _(t,s,e,n){!k.isFunction(s.$onInit)||n.viewDecl.component&&a||s.$onInit();var l=w.tail(n.path).state.self,i={bind:s};if(k.isFunction(s.uiOnParamsChanged)){var u=new x.ResolveContext(n.path).getResolvable("$transition$").data;e.$on("$destroy",t.onSuccess({},function(t){if(t!==u&&-1===t.exiting().indexOf(l)){var n=t.params("to"),i=t.params("from"),e=t.treeChanges().to.map(function(t){return t.paramSchema}).reduce(w.unnestR,[]),r=t.treeChanges().from.map(function(t){return t.paramSchema}).reduce(w.unnestR,[]),a=e.filter(function(t){var e=r.indexOf(t);return-1===e||!r[e].type.equals(n[t.id],i[t.id])});if(a.length){var o=a.map(function(t){return t.id});s.uiOnParamsChanged(w.filter(n,function(t,e){return-1!==o.indexOf(e)}),t)}}},i))}if(k.isFunction(s.uiCanExit)){var r={exiting:l.name};e.$on("$destroy",t.onBefore(r,s.uiCanExit,i))}}var w=n(3),k=n(4),C=n(12),S=n(55),D=n(5),x=n(17),T=n(9),M=n(53),$=n(57),r=["$view","$animate","$uiViewScroll","$interpolate","$q",function(a,o,y,b,_){var w={$cfg:{viewDecl:{$context:a.rootContext()}},$uiView:{}},x={count:0,restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(t,e,v){return function(s,l,t){function e(t){var e=s.$new(),n=_.defer(),i=_.defer(),r={$cfg:t,$uiView:m},a={$animEnter:n.promise,$animLeave:i.promise,$$animLeave:i},o=v(e,function(t){t.data("$uiViewAnim",a),t.data("$uiView",r),p.enter(t,l,function(){n.resolve(),d&&d.$emit("$viewContentAnimationEnded"),(k.isDefined(f)&&!f||s.$eval(f))&&y(t)}),function(){if(u&&(C.trace.traceUIViewEvent("Removing (previous) el",u.data("$uiView")),u.remove(),u=null),d&&(C.trace.traceUIViewEvent("Destroying scope",m),d.$destroy(),d=null),c){var t=c.data("$uiViewAnim");C.trace.traceUIViewEvent("Animate out",t),p.leave(c,function(){t.$$animLeave.resolve(),u=null}),u=c,c=null}}()});c=o,(d=e).$emit("$viewContentLoaded",t||g),d.$eval(h)}var u,c,d,n,h=t.onload||"",f=t.autoscroll,p={enter:function(t,e,n){2<$.version.minor?o.enter(t,null,e).then(n):o.enter(t,null,e,n)},leave:function(t,e){2<$.version.minor?o.leave(t).then(e):o.leave(t,e)}},g=void 0,i=l.inheritedData("$uiView")||w,r=b(t.uiView||t.name||"")(s)||"$default",m={$type:"ng1",id:x.count++,name:r,fqn:i.$uiView.fqn?i.$uiView.fqn+"."+r:r,config:null,configUpdated:function(t){(!t||t instanceof S.Ng1ViewConfig)&&(g===t||(C.trace.traceUIViewConfigUpdated(m,t&&t.viewDecl&&t.viewDecl.$context),e(g=t)))},get creationContext(){return D.parse("$cfg.viewDecl.$context")(i)}};C.trace.traceUIViewEvent("Linking",m),l.data("$uiView",{$uiView:m}),e(),n=a.registerUIView(m),s.$on("$destroy",function(){C.trace.traceUIViewEvent("Destroying/Unregistering",m),n()})}}};return x}];i.$inject=["$compile","$controller","$transitions","$view","$timeout"];var a="function"==typeof $.module("ui.router").component;$.module("ui.router.state").directive("uiView",r),$.module("ui.router.state").directive("uiView",i)},function(t,e,n){"use strict";n(57).module("ui.router.state").provider("$uiViewScroll",function(){var n=!1;this.useAnchorScroll=function(){n=!0},this.$get=["$anchorScroll","$timeout",function(t,e){return n?t:function(t){return e(function(){t[0].scrollIntoView()},0,!1)}}]})}])}),function(t,e){var D=e.isDefined,T=e.isUndefined,M=e.isNumber,$=e.isObject,O=e.isArray,E=e.isString,P=e.extend,A=e.toJson;e.module("LocalStorageModule",[]).provider("localStorageService",function(){this.prefix="ls",this.storageType="localStorage",this.cookie={expiry:30,path:"/",secure:!1},this.defaultToCookie=!0,this.notify={setItem:!0,removeItem:!1},this.setPrefix=function(t){return this.prefix=t,this},this.setStorageType=function(t){return this.storageType=t,this},this.setDefaultToCookie=function(t){return this.defaultToCookie=!!t,this},this.setStorageCookie=function(t,e,n){return this.cookie.expiry=t,this.cookie.path=e,this.cookie.secure=n,this},this.setStorageCookieDomain=function(t){return this.cookie.domain=t,this},this.setNotify=function(t,e){return this.notify={setItem:t,removeItem:e},this},this.$get=["$rootScope","$window","$document","$parse","$timeout",function(l,r,u,o,n){function t(t){if(t||(t=r.event),i.setItem&&E(t.key)&&g(t.key)){var e=p(t.key);n(function(){l.$broadcast("LocalStorageModule.notification.changed",{key:e,newvalue:t.newValue,storageType:c.storageType})})}}var s,c=this,d=c.prefix,h=c.cookie,i=c.notify,a=c.storageType;u?u[0]&&(u=u[0]):u=document,"."!==d.substr(-1)&&(d=d?d+".":"");var f=function(t){return d+t},p=function(t){return t.replace(new RegExp("^"+d,"g"),"")},g=function(t){return 0===t.indexOf(d)},e=function(){try{var t=a in r&&null!==r[a],e=f("__"+Math.round(1e7*Math.random()));return t&&((s=r[a]).setItem(e,""),s.removeItem(e)),t}catch(t){return c.defaultToCookie&&(a="cookie"),l.$broadcast("LocalStorageModule.notification.error",t.message),!1}},m=e(),v=function(e,n,t){if(S(t),n=T(n)?null:A(n),!m&&c.defaultToCookie||"cookie"===c.storageType)return m||l.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),i.setItem&&l.$broadcast("LocalStorageModule.notification.setitem",{key:e,newvalue:n,storageType:"cookie"}),w(e,n);try{s&&s.setItem(f(e),n),i.setItem&&l.$broadcast("LocalStorageModule.notification.setitem",{key:e,newvalue:n,storageType:c.storageType})}catch(t){return l.$broadcast("LocalStorageModule.notification.error",t.message),w(e,n)}return!0},y=function(t,e){if(S(e),!m&&c.defaultToCookie||"cookie"===c.storageType)return m||l.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),x(t);var n=s?s.getItem(f(t)):null;if(!n||"null"===n)return null;try{return JSON.parse(n)}catch(t){return n}},b=function(){var t,e,n=0;for(1<=arguments.length&&("localStorage"===arguments[arguments.length-1]||"sessionStorage"===arguments[arguments.length-1])&&(n=1,S(arguments[arguments.length-1])),t=0;t<arguments.length-n;t++)if(e=arguments[t],!m&&c.defaultToCookie||"cookie"===c.storageType)m||l.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),i.removeItem&&l.$broadcast("LocalStorageModule.notification.removeitem",{key:e,storageType:"cookie"}),k(e);else try{s.removeItem(f(e)),i.removeItem&&l.$broadcast("LocalStorageModule.notification.removeitem",{key:e,storageType:c.storageType})}catch(t){l.$broadcast("LocalStorageModule.notification.error",t.message),k(e)}},_=function(){try{return r.navigator.cookieEnabled||"cookie"in u&&(0<u.cookie.length||-1<(u.cookie="test").indexOf.call(u.cookie,"test"))}catch(t){return l.$broadcast("LocalStorageModule.notification.error",t.message),!1}}(),w=function(t,e,n,i){if(T(e))return!1;if((O(e)||$(e))&&(e=A(e)),!_)return l.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;try{var r="",a=new Date,o="";if(null===e?(a.setTime(a.getTime()+-864e5),r="; expires="+a.toGMTString(),e=""):M(n)&&0!==n?(a.setTime(a.getTime()+24*n*60*60*1e3),r="; expires="+a.toGMTString()):0!==h.expiry&&(a.setTime(a.getTime()+24*h.expiry*60*60*1e3),r="; expires="+a.toGMTString()),t){var s="; path="+h.path;h.domain&&(o="; domain="+h.domain),"boolean"==typeof i?!0===i&&(o+="; secure"):!0===h.secure&&(o+="; secure"),u.cookie=f(t)+"="+encodeURIComponent(e)+r+s+o}}catch(t){return l.$broadcast("LocalStorageModule.notification.error",t.message),!1}return!0},x=function(t){if(!_)return l.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;for(var e=u.cookie&&u.cookie.split(";")||[],n=0;n<e.length;n++){for(var i=e[n];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(f(t)+"=")){var r=decodeURIComponent(i.substring(d.length+t.length+1,i.length));try{var a=JSON.parse(r);return"number"==typeof a?r:a}catch(t){return r}}}return null},k=function(t){w(t,null)},C=function(){for(var t=null,e=d.length,n=u.cookie.split(";"),i=0;i<n.length;i++){for(t=n[i];" "===t.charAt(0);)t=t.substring(1,t.length);var r=t.substring(e,t.indexOf("="));k(r)}},S=function(t){return t&&a!==t&&(a=t,m=e()),m};m&&(r.addEventListener?(r.addEventListener("storage",t,!1),l.$on("$destroy",function(){r.removeEventListener("storage",t)})):r.attachEvent&&(r.attachEvent("onstorage",t),l.$on("$destroy",function(){r.detachEvent("onstorage",t)})));return{isSupported:m,getStorageType:function(){return a},setStorageType:S,set:v,add:v,get:y,keys:function(t){if(S(t),!m)return l.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),[];var e=d.length,n=[];for(var i in s)if(i.substr(0,e)===d)try{n.push(i.substr(e))}catch(t){return l.$broadcast("LocalStorageModule.notification.error",t.Description),[]}return n},remove:b,clearAll:function(t,e){S(e);var n=d?new RegExp("^"+d):new RegExp,i=t?new RegExp(t):new RegExp;if(!m&&c.defaultToCookie||"cookie"===c.storageType)return m||l.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),C();if(!m&&!c.defaultToCookie)return!1;var r=d.length;for(var a in s)if(n.test(a)&&i.test(a.substr(r)))try{b(a.substr(r))}catch(t){return l.$broadcast("LocalStorageModule.notification.error",t.message),C()}return!0},bind:function(t,e,n,i,r){var a=y(i=i||e,r);return null===a&&D(n)?a=n:$(a)&&$(n)&&(a=P(a,n)),o(e).assign(t,a),t.$watch(e,function(t){v(i,t,r)},$(t[e]))},deriveKey:f,underiveKey:p,length:function(t){S(t);for(var e=0,n=r[a],i=0;i<n.length;i++)0===n.key(i).indexOf(d)&&e++;return e},defaultToCookie:this.defaultToCookie,cookie:{isSupported:_,set:w,add:w,get:x,remove:k,clearAll:C}}}]})}(window,window.angular),function(l,n,r,s){function u(t,e){this.settings=null,this.options=l.extend({},u.Defaults,e),this.$element=l(t),this._handlers={},this._plugins={},this._supress={},this._current=null,this._speed=null,this._coordinates=[],this._breakpoint=null,this._width=null,this._items=[],this._clones=[],this._mergers=[],this._widths=[],this._invalidated={},this._pipe=[],this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null},this._states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}},l.each(["onResize","onThrottledResize"],l.proxy(function(t,e){this._handlers[e]=l.proxy(this[e],this)},this)),l.each(u.Plugins,l.proxy(function(t,e){this._plugins[t.charAt(0).toLowerCase()+t.slice(1)]=new e(this)},this)),l.each(u.Workers,l.proxy(function(t,e){this._pipe.push({filter:e.filter,run:l.proxy(e.run,this)})},this)),this.setup(),this.initialize()}u.Defaults={items:3,loop:!1,center:!1,rewind:!1,checkVisibility:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:n,fallbackEasing:"swing",slideTransition:"",info:!1,nestedItemSelector:!1,itemElement:"div",stageElement:"div",refreshClass:"owl-refresh",loadedClass:"owl-loaded",loadingClass:"owl-loading",rtlClass:"owl-rtl",responsiveClass:"owl-responsive",dragClass:"owl-drag",itemClass:"owl-item",stageClass:"owl-stage",stageOuterClass:"owl-stage-outer",grabClass:"owl-grab"},u.Width={Default:"default",Inner:"inner",Outer:"outer"},u.Type={Event:"event",State:"state"},u.Plugins={},u.Workers=[{filter:["width","settings"],run:function(){this._width=this.$element.width()}},{filter:["width","items","settings"],run:function(t){t.current=this._items&&this._items[this.relative(this._current)]}},{filter:["items","settings"],run:function(){this.$stage.children(".cloned").remove()}},{filter:["width","items","settings"],run:function(t){var e=this.settings.margin||"",n=!this.settings.autoWidth,i=this.settings.rtl,r={width:"auto","margin-left":i?e:"","margin-right":i?"":e};!n&&this.$stage.children().css(r),t.css=r}},{filter:["width","items","settings"],run:function(t){var e=(this.width()/this.settings.items).toFixed(3)-this.settings.margin,n=null,i=this._items.length,r=!this.settings.autoWidth,a=[];for(t.items={merge:!1,width:e};i--;)n=this._mergers[i],n=this.settings.mergeFit&&Math.min(n,this.settings.items)||n,t.items.merge=1<n||t.items.merge,a[i]=r?e*n:this._items[i].width();this._widths=a}},{filter:["items","settings"],run:function(){var t=[],e=this._items,n=this.settings,i=Math.max(2*n.items,4),r=2*Math.ceil(e.length/2),a=n.loop&&e.length?n.rewind?i:Math.max(i,r):0,o="",s="";for(a/=2;0<a;)t.push(this.normalize(t.length/2,!0)),o+=e[t[t.length-1]][0].outerHTML,t.push(this.normalize(e.length-1-(t.length-1)/2,!0)),s=e[t[t.length-1]][0].outerHTML+s,a-=1;this._clones=t,l(o).addClass("cloned").appendTo(this.$stage),l(s).addClass("cloned").prependTo(this.$stage)}},{filter:["width","items","settings"],run:function(){for(var t=this.settings.rtl?1:-1,e=this._clones.length+this._items.length,n=-1,i=0,r=0,a=[];++n<e;)i=a[n-1]||0,r=this._widths[this.relative(n)]+this.settings.margin,a.push(i+r*t);this._coordinates=a}},{filter:["width","items","settings"],run:function(){var t=this.settings.stagePadding,e=this._coordinates,n={width:Math.ceil(Math.abs(e[e.length-1]))+2*t,"padding-left":t||"","padding-right":t||""};this.$stage.css(n)}},{filter:["width","items","settings"],run:function(t){var e=this._coordinates.length,n=!this.settings.autoWidth,i=this.$stage.children();if(n&&t.items.merge)for(;e--;)t.css.width=this._widths[this.relative(e)],i.eq(e).css(t.css);else n&&(t.css.width=t.items.width,i.css(t.css))}},{filter:["items"],run:function(){this._coordinates.length<1&&this.$stage.removeAttr("style")}},{filter:["width","items","settings"],run:function(t){t.current=t.current?this.$stage.children().index(t.current):0,t.current=Math.max(this.minimum(),Math.min(this.maximum(),t.current)),this.reset(t.current)}},{filter:["position"],run:function(){this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:function(){var t,e,n,i,r=this.settings.rtl?1:-1,a=2*this.settings.stagePadding,o=this.coordinates(this.current())+a,s=o+this.width()*r,l=[];for(n=0,i=this._coordinates.length;n<i;n++)t=this._coordinates[n-1]||0,e=Math.abs(this._coordinates[n])+a*r,(this.op(t,"<=",o)&&this.op(t,">",s)||this.op(e,"<",o)&&this.op(e,">",s))&&l.push(n);this.$stage.children(".active").removeClass("active"),this.$stage.children(":eq("+l.join("), :eq(")+")").addClass("active"),this.$stage.children(".center").removeClass("center"),this.settings.center&&this.$stage.children().eq(this.current()).addClass("center")}}],u.prototype.initializeStage=function(){this.$stage=this.$element.find("."+this.settings.stageClass),this.$stage.length||(this.$element.addClass(this.options.loadingClass),this.$stage=l("<"+this.settings.stageElement+">",{class:this.settings.stageClass}).wrap(l("<div/>",{class:this.settings.stageOuterClass})),this.$element.append(this.$stage.parent()))},u.prototype.initializeItems=function(){var t=this.$element.find(".owl-item");if(t.length)return this._items=t.get().map(function(t){return l(t)}),this._mergers=this._items.map(function(){return 1}),void this.refresh();this.replace(this.$element.children().not(this.$stage.parent())),this.isVisible()?this.refresh():this.invalidate("width"),this.$element.removeClass(this.options.loadingClass).addClass(this.options.loadedClass)},u.prototype.initialize=function(){var t,e,n;(this.enter("initializing"),this.trigger("initialize"),this.$element.toggleClass(this.settings.rtlClass,this.settings.rtl),this.settings.autoWidth&&!this.is("pre-loading"))&&(t=this.$element.find("img"),e=this.settings.nestedItemSelector?"."+this.settings.nestedItemSelector:s,n=this.$element.children(e).width(),t.length&&n<=0&&this.preloadAutoWidthImages(t));this.initializeStage(),this.initializeItems(),this.registerEventHandlers(),this.leave("initializing"),this.trigger("initialized")},u.prototype.isVisible=function(){return!this.settings.checkVisibility||this.$element.is(":visible")},u.prototype.setup=function(){var e=this.viewport(),t=this.options.responsive,n=-1,i=null;t?(l.each(t,function(t){t<=e&&n<t&&(n=Number(t))}),"function"==typeof(i=l.extend({},this.options,t[n])).stagePadding&&(i.stagePadding=i.stagePadding()),delete i.responsive,i.responsiveClass&&this.$element.attr("class",this.$element.attr("class").replace(new RegExp("("+this.options.responsiveClass+"-)\\S+\\s","g"),"$1"+n))):i=l.extend({},this.options),this.trigger("change",{property:{name:"settings",value:i}}),this._breakpoint=n,this.settings=i,this.invalidate("settings"),this.trigger("changed",{property:{name:"settings",value:this.settings}})},u.prototype.optionsLogic=function(){this.settings.autoWidth&&(this.settings.stagePadding=!1,this.settings.merge=!1)},u.prototype.prepare=function(t){var e=this.trigger("prepare",{content:t});return e.data||(e.data=l("<"+this.settings.itemElement+"/>").addClass(this.options.itemClass).append(t)),this.trigger("prepared",{content:e.data}),e.data},u.prototype.update=function(){for(var t=0,e=this._pipe.length,n=l.proxy(function(t){return this[t]},this._invalidated),i={};t<e;)(this._invalidated.all||0<l.grep(this._pipe[t].filter,n).length)&&this._pipe[t].run(i),t++;this._invalidated={},!this.is("valid")&&this.enter("valid")},u.prototype.width=function(t){switch(t=t||u.Width.Default){case u.Width.Inner:case u.Width.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin}},u.prototype.refresh=function(){this.enter("refreshing"),this.trigger("refresh"),this.setup(),this.optionsLogic(),this.$element.addClass(this.options.refreshClass),this.update(),this.$element.removeClass(this.options.refreshClass),this.leave("refreshing"),this.trigger("refreshed")},u.prototype.onThrottledResize=function(){n.clearTimeout(this.resizeTimer),this.resizeTimer=n.setTimeout(this._handlers.onResize,this.settings.responsiveRefreshRate)},u.prototype.onResize=function(){return!!this._items.length&&this._width!==this.$element.width()&&!!this.isVisible()&&(this.enter("resizing"),this.trigger("resize").isDefaultPrevented()?(this.leave("resizing"),!1):(this.invalidate("width"),this.refresh(),this.leave("resizing"),void this.trigger("resized")))},u.prototype.registerEventHandlers=function(){l.support.transition&&this.$stage.on(l.support.transition.end+".owl.core",l.proxy(this.onTransitionEnd,this)),!1!==this.settings.responsive&&this.on(n,"resize",this._handlers.onThrottledResize),this.settings.mouseDrag&&(this.$element.addClass(this.options.dragClass),this.$stage.on("mousedown.owl.core",l.proxy(this.onDragStart,this)),this.$stage.on("dragstart.owl.core selectstart.owl.core",function(){return!1})),this.settings.touchDrag&&(this.$stage.on("touchstart.owl.core",l.proxy(this.onDragStart,this)),this.$stage.on("touchcancel.owl.core",l.proxy(this.onDragEnd,this)))},u.prototype.onDragStart=function(t){var e=null;3!==t.which&&(l.support.transform?e={x:(e=this.$stage.css("transform").replace(/.*\(|\)| /g,"").split(","))[16===e.length?12:4],y:e[16===e.length?13:5]}:(e=this.$stage.position(),e={x:this.settings.rtl?e.left+this.$stage.width()-this.width()+this.settings.margin:e.left,y:e.top}),this.is("animating")&&(l.support.transform?this.animate(e.x):this.$stage.stop(),this.invalidate("position")),this.$element.toggleClass(this.options.grabClass,"mousedown"===t.type),this.speed(0),this._drag.time=(new Date).getTime(),this._drag.target=l(t.target),this._drag.stage.start=e,this._drag.stage.current=e,this._drag.pointer=this.pointer(t),l(r).on("mouseup.owl.core touchend.owl.core",l.proxy(this.onDragEnd,this)),l(r).one("mousemove.owl.core touchmove.owl.core",l.proxy(function(t){var e=this.difference(this._drag.pointer,this.pointer(t));l(r).on("mousemove.owl.core touchmove.owl.core",l.proxy(this.onDragMove,this)),Math.abs(e.x)<Math.abs(e.y)&&this.is("valid")||(t.preventDefault(),this.enter("dragging"),this.trigger("drag"))},this)))},u.prototype.onDragMove=function(t){var e=null,n=null,i=null,r=this.difference(this._drag.pointer,this.pointer(t)),a=this.difference(this._drag.stage.start,r);this.is("dragging")&&(t.preventDefault(),this.settings.loop?(e=this.coordinates(this.minimum()),n=this.coordinates(this.maximum()+1)-e,a.x=((a.x-e)%n+n)%n+e):(e=this.settings.rtl?this.coordinates(this.maximum()):this.coordinates(this.minimum()),n=this.settings.rtl?this.coordinates(this.minimum()):this.coordinates(this.maximum()),i=this.settings.pullDrag?-1*r.x/5:0,a.x=Math.max(Math.min(a.x,e+i),n+i)),this._drag.stage.current=a,this.animate(a.x))},u.prototype.onDragEnd=function(t){var e=this.difference(this._drag.pointer,this.pointer(t)),n=this._drag.stage.current,i=0<e.x^this.settings.rtl?"left":"right";l(r).off(".owl.core"),this.$element.removeClass(this.options.grabClass),(0!==e.x&&this.is("dragging")||!this.is("valid"))&&(this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed),this.current(this.closest(n.x,0!==e.x?i:this._drag.direction)),this.invalidate("position"),this.update(),this._drag.direction=i,(3<Math.abs(e.x)||300<(new Date).getTime()-this._drag.time)&&this._drag.target.one("click.owl.core",function(){return!1})),this.is("dragging")&&(this.leave("dragging"),this.trigger("dragged"))},u.prototype.closest=function(n,i){var r=-1,a=this.width(),o=this.coordinates();return this.settings.freeDrag||l.each(o,l.proxy(function(t,e){return"left"===i&&e-30<n&&n<e+30?r=t:"right"===i&&e-a-30<n&&n<e-a+30?r=t+1:this.op(n,"<",e)&&this.op(n,">",o[t+1]!==s?o[t+1]:e-a)&&(r="left"===i?t+1:t),-1===r},this)),this.settings.loop||(this.op(n,">",o[this.minimum()])?r=n=this.minimum():this.op(n,"<",o[this.maximum()])&&(r=n=this.maximum())),r},u.prototype.animate=function(t){var e=0<this.speed();this.is("animating")&&this.onTransitionEnd(),e&&(this.enter("animating"),this.trigger("translate")),l.support.transform3d&&l.support.transition?this.$stage.css({transform:"translate3d("+t+"px,0px,0px)",transition:this.speed()/1e3+"s"+(this.settings.slideTransition?" "+this.settings.slideTransition:"")}):e?this.$stage.animate({left:t+"px"},this.speed(),this.settings.fallbackEasing,l.proxy(this.onTransitionEnd,this)):this.$stage.css({left:t+"px"})},u.prototype.is=function(t){return this._states.current[t]&&0<this._states.current[t]},u.prototype.current=function(t){if(t===s)return this._current;if(0===this._items.length)return s;if(t=this.normalize(t),this._current!==t){var e=this.trigger("change",{property:{name:"position",value:t}});e.data!==s&&(t=this.normalize(e.data)),this._current=t,this.invalidate("position"),this.trigger("changed",{property:{name:"position",value:this._current}})}return this._current},u.prototype.invalidate=function(t){return"string"===l.type(t)&&(this._invalidated[t]=!0,this.is("valid")&&this.leave("valid")),l.map(this._invalidated,function(t,e){return e})},u.prototype.reset=function(t){(t=this.normalize(t))!==s&&(this._speed=0,this._current=t,this.suppress(["translate","translated"]),this.animate(this.coordinates(t)),this.release(["translate","translated"]))},u.prototype.normalize=function(t,e){var n=this._items.length,i=e?0:this._clones.length;return!this.isNumeric(t)||n<1?t=s:(t<0||n+i<=t)&&(t=((t-i/2)%n+n)%n+i/2),t},u.prototype.relative=function(t){return t-=this._clones.length/2,this.normalize(t,!0)},u.prototype.maximum=function(t){var e,n,i,r=this.settings,a=this._coordinates.length;if(r.loop)a=this._clones.length/2+this._items.length-1;else if(r.autoWidth||r.merge){if(e=this._items.length)for(n=this._items[--e].width(),i=this.$element.width();e--&&!((n+=this._items[e].width()+this.settings.margin)>i););a=e+1}else a=r.center?this._items.length-1:this._items.length-r.items;return t&&(a-=this._clones.length/2),Math.max(a,0)},u.prototype.minimum=function(t){return t?0:this._clones.length/2},u.prototype.items=function(t){return t===s?this._items.slice():(t=this.normalize(t,!0),this._items[t])},u.prototype.mergers=function(t){return t===s?this._mergers.slice():(t=this.normalize(t,!0),this._mergers[t])},u.prototype.clones=function(n){var e=this._clones.length/2,i=e+this._items.length,r=function(t){return t%2==0?i+t/2:e-(t+1)/2};return n===s?l.map(this._clones,function(t,e){return r(e)}):l.map(this._clones,function(t,e){return t===n?r(e):null})},u.prototype.speed=function(t){return t!==s&&(this._speed=t),this._speed},u.prototype.coordinates=function(t){var e,n=1,i=t-1;return t===s?l.map(this._coordinates,l.proxy(function(t,e){return this.coordinates(e)},this)):(this.settings.center?(this.settings.rtl&&(n=-1,i=t+1),e=this._coordinates[t],e+=(this.width()-e+(this._coordinates[i]||0))/2*n):e=this._coordinates[i]||0,e=Math.ceil(e))},u.prototype.duration=function(t,e,n){return 0===n?0:Math.min(Math.max(Math.abs(e-t),1),6)*Math.abs(n||this.settings.smartSpeed)},u.prototype.to=function(t,e){var n=this.current(),i=null,r=t-this.relative(n),a=(0<r)-(r<0),o=this._items.length,s=this.minimum(),l=this.maximum();this.settings.loop?(!this.settings.rewind&&Math.abs(r)>o/2&&(r+=-1*a*o),(i=(((t=n+r)-s)%o+o)%o+s)!==t&&i-r<=l&&0<i-r&&(n=i-r,t=i,this.reset(n))):this.settings.rewind?t=(t%(l+=1)+l)%l:t=Math.max(s,Math.min(l,t)),this.speed(this.duration(n,t,e)),this.current(t),this.isVisible()&&this.update()},u.prototype.next=function(t){t=t||!1,this.to(this.relative(this.current())+1,t)},u.prototype.prev=function(t){t=t||!1,this.to(this.relative(this.current())-1,t)},u.prototype.onTransitionEnd=function(t){if(t!==s&&(t.stopPropagation(),(t.target||t.srcElement||t.originalTarget)!==this.$stage.get(0)))return!1;this.leave("animating"),this.trigger("translated")},u.prototype.viewport=function(){var t;return this.options.responsiveBaseElement!==n?t=l(this.options.responsiveBaseElement).width():n.innerWidth?t=n.innerWidth:r.documentElement&&r.documentElement.clientWidth&&(t=r.documentElement.clientWidth),t},u.prototype.replace=function(t){this.$stage.empty(),this._items=[],t&&(t=t instanceof jQuery?t:l(t)),this.settings.nestedItemSelector&&(t=t.find("."+this.settings.nestedItemSelector)),t.filter(function(){return 1===this.nodeType}).each(l.proxy(function(t,e){e=this.prepare(e),this.$stage.append(e),this._items.push(e),this._mergers.push(1*e.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)},this)),this.reset(this.isNumeric(this.settings.startPosition)?this.settings.startPosition:0),this.invalidate("items")},u.prototype.add=function(t,e){var n=this.relative(this._current);e=e===s?this._items.length:this.normalize(e,!0),t=t instanceof jQuery?t:l(t),this.trigger("add",{content:t,position:e}),t=this.prepare(t),0===this._items.length||e===this._items.length?(0===this._items.length&&this.$stage.append(t),0!==this._items.length&&this._items[e-1].after(t),this._items.push(t),this._mergers.push(1*t.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)):(this._items[e].before(t),this._items.splice(e,0,t),this._mergers.splice(e,0,1*t.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)),this._items[n]&&this.reset(this._items[n].index()),this.invalidate("items"),this.trigger("added",{content:t,position:e})},u.prototype.remove=function(t){(t=this.normalize(t,!0))!==s&&(this.trigger("remove",{content:this._items[t],position:t}),this._items[t].remove(),this._items.splice(t,1),this._mergers.splice(t,1),this.invalidate("items"),this.trigger("removed",{content:null,position:t}))},u.prototype.preloadAutoWidthImages=function(t){t.each(l.proxy(function(t,e){this.enter("pre-loading"),e=l(e),l(new Image).one("load",l.proxy(function(t){e.attr("src",t.target.src),e.css("opacity",1),this.leave("pre-loading"),!this.is("pre-loading")&&!this.is("initializing")&&this.refresh()},this)).attr("src",e.attr("src")||e.attr("data-src")||e.attr("data-src-retina"))},this))},u.prototype.destroy=function(){for(var t in this.$element.off(".owl.core"),this.$stage.off(".owl.core"),l(r).off(".owl.core"),!1!==this.settings.responsive&&(n.clearTimeout(this.resizeTimer),this.off(n,"resize",this._handlers.onThrottledResize)),this._plugins)this._plugins[t].destroy();this.$stage.children(".cloned").remove(),this.$stage.unwrap(),this.$stage.children().contents().unwrap(),this.$stage.children().unwrap(),this.$stage.remove(),this.$element.removeClass(this.options.refreshClass).removeClass(this.options.loadingClass).removeClass(this.options.loadedClass).removeClass(this.options.rtlClass).removeClass(this.options.dragClass).removeClass(this.options.grabClass).attr("class",this.$element.attr("class").replace(new RegExp(this.options.responsiveClass+"-\\S+\\s","g"),"")).removeData("owl.carousel")},u.prototype.op=function(t,e,n){var i=this.settings.rtl;switch(e){case"<":return i?n<t:t<n;case">":return i?t<n:n<t;case">=":return i?t<=n:n<=t;case"<=":return i?n<=t:t<=n}},u.prototype.on=function(t,e,n,i){t.addEventListener?t.addEventListener(e,n,i):t.attachEvent&&t.attachEvent("on"+e,n)},u.prototype.off=function(t,e,n,i){t.removeEventListener?t.removeEventListener(e,n,i):t.detachEvent&&t.detachEvent("on"+e,n)},u.prototype.trigger=function(t,e,n,i,r){var a={item:{count:this._items.length,index:this.current()}},o=l.camelCase(l.grep(["on",t,n],function(t){return t}).join("-").toLowerCase()),s=l.Event([t,"owl",n||"carousel"].join(".").toLowerCase(),l.extend({relatedTarget:this},a,e));return this._supress[t]||(l.each(this._plugins,function(t,e){e.onTrigger&&e.onTrigger(s)}),this.register({type:u.Type.Event,name:t}),this.$element.trigger(s),this.settings&&"function"==typeof this.settings[o]&&this.settings[o].call(this,s)),s},u.prototype.enter=function(t){l.each([t].concat(this._states.tags[t]||[]),l.proxy(function(t,e){this._states.current[e]===s&&(this._states.current[e]=0),this._states.current[e]++},this))},u.prototype.leave=function(t){l.each([t].concat(this._states.tags[t]||[]),l.proxy(function(t,e){this._states.current[e]--},this))},u.prototype.register=function(n){if(n.type===u.Type.Event){if(l.event.special[n.name]||(l.event.special[n.name]={}),!l.event.special[n.name].owl){var e=l.event.special[n.name]._default;l.event.special[n.name]._default=function(t){return!e||!e.apply||t.namespace&&-1!==t.namespace.indexOf("owl")?t.namespace&&-1<t.namespace.indexOf("owl"):e.apply(this,arguments)},l.event.special[n.name].owl=!0}}else n.type===u.Type.State&&(this._states.tags[n.name]?this._states.tags[n.name]=this._states.tags[n.name].concat(n.tags):this._states.tags[n.name]=n.tags,this._states.tags[n.name]=l.grep(this._states.tags[n.name],l.proxy(function(t,e){return l.inArray(t,this._states.tags[n.name])===e},this)))},u.prototype.suppress=function(t){l.each(t,l.proxy(function(t,e){this._supress[e]=!0},this))},u.prototype.release=function(t){l.each(t,l.proxy(function(t,e){delete this._supress[e]},this))},u.prototype.pointer=function(t){var e={x:null,y:null};return(t=(t=t.originalEvent||t||n.event).touches&&t.touches.length?t.touches[0]:t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t).pageX?(e.x=t.pageX,e.y=t.pageY):(e.x=t.clientX,e.y=t.clientY),e},u.prototype.isNumeric=function(t){return!isNaN(parseFloat(t))},u.prototype.difference=function(t,e){return{x:t.x-e.x,y:t.y-e.y}},l.fn.owlCarousel=function(e){var i=Array.prototype.slice.call(arguments,1);return this.each(function(){var t=l(this),n=t.data("owl.carousel");n||(n=new u(this,"object"==typeof e&&e),t.data("owl.carousel",n),l.each(["next","prev","to","destroy","refresh","replace","add","remove"],function(t,e){n.register({type:u.Type.Event,name:e}),n.$element.on(e+".owl.carousel.core",l.proxy(function(t){t.namespace&&t.relatedTarget!==this&&(this.suppress([e]),n[e].apply(this,[].slice.call(arguments,1)),this.release([e]))},n))})),"string"==typeof e&&"_"!==e.charAt(0)&&n[e].apply(n,i)})},l.fn.owlCarousel.Constructor=u}(window.Zepto||window.jQuery,window,document),function(e,n,t,i){var r=function(t){this._core=t,this._interval=null,this._visible=null,this._handlers={"initialized.owl.carousel":e.proxy(function(t){t.namespace&&this._core.settings.autoRefresh&&this.watch()},this)},this._core.options=e.extend({},r.Defaults,this._core.options),this._core.$element.on(this._handlers)};r.Defaults={autoRefresh:!0,autoRefreshInterval:500},r.prototype.watch=function(){this._interval||(this._visible=this._core.isVisible(),this._interval=n.setInterval(e.proxy(this.refresh,this),this._core.settings.autoRefreshInterval))},r.prototype.refresh=function(){this._core.isVisible()!==this._visible&&(this._visible=!this._visible,this._core.$element.toggleClass("owl-hidden",!this._visible),this._visible&&this._core.invalidate("width")&&this._core.refresh())},r.prototype.destroy=function(){var t,e;for(t in n.clearInterval(this._interval),this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},e.fn.owlCarousel.Constructor.Plugins.AutoRefresh=r}(window.Zepto||window.jQuery,window,document),function(s,a,t,e){var n=function(t){this._core=t,this._loaded=[],this._handlers={"initialized.owl.carousel change.owl.carousel resized.owl.carousel":s.proxy(function(t){if(t.namespace&&this._core.settings&&this._core.settings.lazyLoad&&(t.property&&"position"==t.property.name||"initialized"==t.type)){var e=this._core.settings,n=e.center&&Math.ceil(e.items/2)||e.items,i=e.center&&-1*n||0,r=(t.property&&void 0!==t.property.value?t.property.value:this._core.current())+i,a=this._core.clones().length,o=s.proxy(function(t,e){this.load(e)},this);for(0<e.lazyLoadEager&&(n+=e.lazyLoadEager,e.loop&&(r-=e.lazyLoadEager,n++));i++<n;)this.load(a/2+this._core.relative(r)),a&&s.each(this._core.clones(this._core.relative(r)),o),r++}},this)},this._core.options=s.extend({},n.Defaults,this._core.options),this._core.$element.on(this._handlers)};n.Defaults={lazyLoad:!1,lazyLoadEager:0},n.prototype.load=function(t){var e=this._core.$stage.children().eq(t),n=e&&e.find(".owl-lazy");!n||-1<s.inArray(e.get(0),this._loaded)||(n.each(s.proxy(function(t,e){var n,i=s(e),r=1<a.devicePixelRatio&&i.attr("data-src-retina")||i.attr("data-src")||i.attr("data-srcset");this._core.trigger("load",{element:i,url:r},"lazy"),i.is("img")?i.one("load.owl.lazy",s.proxy(function(){i.css("opacity",1),this._core.trigger("loaded",{element:i,url:r},"lazy")},this)).attr("src",r):i.is("source")?i.one("load.owl.lazy",s.proxy(function(){this._core.trigger("loaded",{element:i,url:r},"lazy")},this)).attr("srcset",r):((n=new Image).onload=s.proxy(function(){i.css({"background-image":'url("'+r+'")',opacity:"1"}),this._core.trigger("loaded",{element:i,url:r},"lazy")},this),n.src=r)},this)),this._loaded.push(e.get(0)))},n.prototype.destroy=function(){var t,e;for(t in this.handlers)this._core.$element.off(t,this.handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},s.fn.owlCarousel.Constructor.Plugins.Lazy=n}(window.Zepto||window.jQuery,window,document),function(o,n,t,e){var i=function(t){this._core=t,this._previousHeight=null,this._handlers={"initialized.owl.carousel refreshed.owl.carousel":o.proxy(function(t){t.namespace&&this._core.settings.autoHeight&&this.update()},this),"changed.owl.carousel":o.proxy(function(t){t.namespace&&this._core.settings.autoHeight&&"position"===t.property.name&&this.update()},this),"loaded.owl.lazy":o.proxy(function(t){t.namespace&&this._core.settings.autoHeight&&t.element.closest("."+this._core.settings.itemClass).index()===this._core.current()&&this.update()},this)},this._core.options=o.extend({},i.Defaults,this._core.options),this._core.$element.on(this._handlers),this._intervalId=null;var e=this;o(n).on("load",function(){e._core.settings.autoHeight&&e.update()}),o(n).resize(function(){e._core.settings.autoHeight&&(null!=e._intervalId&&clearTimeout(e._intervalId),e._intervalId=setTimeout(function(){e.update()},250))})};i.Defaults={autoHeight:!1,autoHeightClass:"owl-height"},i.prototype.update=function(){var t=this._core._current,e=t+this._core.settings.items,n=this._core.settings.lazyLoad,i=this._core.$stage.children().toArray().slice(t,e),r=[],a=0;o.each(i,function(t,e){r.push(o(e).height())}),(a=Math.max.apply(null,r))<=1&&n&&this._previousHeight&&(a=this._previousHeight),this._previousHeight=a,this._core.$stage.parent().height(a).addClass(this._core.settings.autoHeightClass)},i.prototype.destroy=function(){var t,e;for(t in this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},o.fn.owlCarousel.Constructor.Plugins.AutoHeight=i}(window.Zepto||window.jQuery,window,document),function(c,t,e,n){var i=function(t){this._core=t,this._videos={},this._playing=null,this._handlers={"initialized.owl.carousel":c.proxy(function(t){t.namespace&&this._core.register({type:"state",name:"playing",tags:["interacting"]})},this),"resize.owl.carousel":c.proxy(function(t){t.namespace&&this._core.settings.video&&this.isInFullScreen()&&t.preventDefault()},this),"refreshed.owl.carousel":c.proxy(function(t){t.namespace&&this._core.is("resizing")&&this._core.$stage.find(".cloned .owl-video-frame").remove()},this),"changed.owl.carousel":c.proxy(function(t){t.namespace&&"position"===t.property.name&&this._playing&&this.stop()},this),"prepared.owl.carousel":c.proxy(function(t){if(t.namespace){var e=c(t.content).find(".owl-video");e.length&&(e.css("display","none"),this.fetch(e,c(t.content)))}},this)},this._core.options=c.extend({},i.Defaults,this._core.options),this._core.$element.on(this._handlers),this._core.$element.on("click.owl.video",".owl-video-play-icon",c.proxy(function(t){this.play(t)},this))};i.Defaults={video:!1,videoHeight:!1,videoWidth:!1},i.prototype.fetch=function(t,e){var n=t.attr("data-vimeo-id")?"vimeo":t.attr("data-vzaar-id")?"vzaar":"youtube",i=t.attr("data-vimeo-id")||t.attr("data-youtube-id")||t.attr("data-vzaar-id"),r=t.attr("data-width")||this._core.settings.videoWidth,a=t.attr("data-height")||this._core.settings.videoHeight,o=t.attr("href");if(!o)throw new Error("Missing video URL.");if(-1<(i=o.match(/(http:|https:|)\/\/(player.|www.|app.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com|be\-nocookie\.com)|vzaar\.com)\/(video\/|videos\/|embed\/|channels\/.+\/|groups\/.+\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/))[3].indexOf("youtu"))n="youtube";else if(-1<i[3].indexOf("vimeo"))n="vimeo";else{if(!(-1<i[3].indexOf("vzaar")))throw new Error("Video URL not supported.");n="vzaar"}i=i[6],this._videos[o]={type:n,id:i,width:r,height:a},e.attr("data-video",o),this.thumbnail(t,this._videos[o])},i.prototype.thumbnail=function(e,t){var n,i,r=t.width&&t.height?"width:"+t.width+"px;height:"+t.height+"px;":"",a=e.find("img"),o="src",s="",l=this._core.settings,u=function(t){'<div class="owl-video-play-icon"></div>',n=l.lazyLoad?c("<div/>",{class:"owl-video-tn "+s,srcType:t}):c("<div/>",{class:"owl-video-tn",style:"opacity:1;background-image:url("+t+")"}),e.after(n),e.after('<div class="owl-video-play-icon"></div>')};if(e.wrap(c("<div/>",{class:"owl-video-wrapper",style:r})),this._core.settings.lazyLoad&&(o="data-src",s="owl-lazy"),a.length)return u(a.attr(o)),a.remove(),!1;"youtube"===t.type?(i="//img.youtube.com/vi/"+t.id+"/hqdefault.jpg",u(i)):"vimeo"===t.type?c.ajax({type:"GET",url:"//vimeo.com/api/v2/video/"+t.id+".json",jsonp:"callback",dataType:"jsonp",success:function(t){i=t[0].thumbnail_large,u(i)}}):"vzaar"===t.type&&c.ajax({type:"GET",url:"//vzaar.com/api/videos/"+t.id+".json",jsonp:"callback",dataType:"jsonp",success:function(t){i=t.framegrab_url,u(i)}})},i.prototype.stop=function(){this._core.trigger("stop",null,"video"),this._playing.find(".owl-video-frame").remove(),this._playing.removeClass("owl-video-playing"),this._playing=null,this._core.leave("playing"),this._core.trigger("stopped",null,"video")},i.prototype.play=function(t){var e,n=c(t.target).closest("."+this._core.settings.itemClass),i=this._videos[n.attr("data-video")],r=i.width||"100%",a=i.height||this._core.$stage.height();this._playing||(this._core.enter("playing"),this._core.trigger("play",null,"video"),n=this._core.items(this._core.relative(n.index())),this._core.reset(n.index()),(e=c('<iframe frameborder="0" allowfullscreen mozallowfullscreen webkitAllowFullScreen ></iframe>')).attr("height",a),e.attr("width",r),"youtube"===i.type?e.attr("src","//www.youtube.com/embed/"+i.id+"?autoplay=1&rel=0&v="+i.id):"vimeo"===i.type?e.attr("src","//player.vimeo.com/video/"+i.id+"?autoplay=1"):"vzaar"===i.type&&e.attr("src","//view.vzaar.com/"+i.id+"/player?autoplay=true"),c(e).wrap('<div class="owl-video-frame" />').insertAfter(n.find(".owl-video")),this._playing=n.addClass("owl-video-playing"))},i.prototype.isInFullScreen=function(){var t=e.fullscreenElement||e.mozFullScreenElement||e.webkitFullscreenElement;return t&&c(t).parent().hasClass("owl-video-frame")},i.prototype.destroy=function(){var t,e;for(t in this._core.$element.off("click.owl.video"),this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},c.fn.owlCarousel.Constructor.Plugins.Video=i}(window.Zepto||window.jQuery,window,document),function(o,t,e,n){var i=function(t){this.core=t,this.core.options=o.extend({},i.Defaults,this.core.options),this.swapping=!0,this.previous=void 0,this.next=void 0,this.handlers={"change.owl.carousel":o.proxy(function(t){t.namespace&&"position"==t.property.name&&(this.previous=this.core.current(),this.next=t.property.value)},this),"drag.owl.carousel dragged.owl.carousel translated.owl.carousel":o.proxy(function(t){t.namespace&&(this.swapping="translated"==t.type)},this),"translate.owl.carousel":o.proxy(function(t){t.namespace&&this.swapping&&(this.core.options.animateOut||this.core.options.animateIn)&&this.swap()},this)},this.core.$element.on(this.handlers)};i.Defaults={animateOut:!1,animateIn:!1},i.prototype.swap=function(){if(1===this.core.settings.items&&o.support.animation&&o.support.transition){this.core.speed(0);var t,e=o.proxy(this.clear,this),n=this.core.$stage.children().eq(this.previous),i=this.core.$stage.children().eq(this.next),r=this.core.settings.animateIn,a=this.core.settings.animateOut;this.core.current()!==this.previous&&(a&&(t=this.core.coordinates(this.previous)-this.core.coordinates(this.next),n.one(o.support.animation.end,e).css({left:t+"px"}).addClass("animated owl-animated-out").addClass(a)),r&&i.one(o.support.animation.end,e).addClass("animated owl-animated-in").addClass(r))}},i.prototype.clear=function(t){o(t.target).css({left:""}).removeClass("animated owl-animated-out owl-animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut),this.core.onTransitionEnd()},i.prototype.destroy=function(){var t,e;for(t in this.handlers)this.core.$element.off(t,this.handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},o.fn.owlCarousel.Constructor.Plugins.Animate=i}(window.Zepto||window.jQuery,window,document),function(i,r,e,t){var n=function(t){this._core=t,this._call=null,this._time=0,this._timeout=0,this._paused=!0,this._handlers={"changed.owl.carousel":i.proxy(function(t){t.namespace&&"settings"===t.property.name?this._core.settings.autoplay?this.play():this.stop():t.namespace&&"position"===t.property.name&&this._paused&&(this._time=0)},this),"initialized.owl.carousel":i.proxy(function(t){t.namespace&&this._core.settings.autoplay&&this.play()},this),"play.owl.autoplay":i.proxy(function(t,e,n){t.namespace&&this.play(e,n)},this),"stop.owl.autoplay":i.proxy(function(t){t.namespace&&this.stop()},this),"mouseover.owl.autoplay":i.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"mouseleave.owl.autoplay":i.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.play()},this),"touchstart.owl.core":i.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"touchend.owl.core":i.proxy(function(){this._core.settings.autoplayHoverPause&&this.play()},this)},this._core.$element.on(this._handlers),this._core.options=i.extend({},n.Defaults,this._core.options)};n.Defaults={autoplay:!1,autoplayTimeout:5e3,autoplayHoverPause:!1,autoplaySpeed:!1},n.prototype._next=function(t){this._call=r.setTimeout(i.proxy(this._next,this,t),this._timeout*(Math.round(this.read()/this._timeout)+1)-this.read()),this._core.is("interacting")||e.hidden||this._core.next(t||this._core.settings.autoplaySpeed)},n.prototype.read=function(){return(new Date).getTime()-this._time},n.prototype.play=function(t,e){var n;this._core.is("rotating")||this._core.enter("rotating"),t=t||this._core.settings.autoplayTimeout,n=Math.min(this._time%(this._timeout||t),t),this._paused?(this._time=this.read(),this._paused=!1):r.clearTimeout(this._call),this._time+=this.read()%t-n,this._timeout=t,this._call=r.setTimeout(i.proxy(this._next,this,e),t-n)},n.prototype.stop=function(){this._core.is("rotating")&&(this._time=0,this._paused=!0,r.clearTimeout(this._call),this._core.leave("rotating"))},n.prototype.pause=function(){this._core.is("rotating")&&!this._paused&&(this._time=this.read(),this._paused=!0,r.clearTimeout(this._call))},n.prototype.destroy=function(){var t,e;for(t in this.stop(),this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},i.fn.owlCarousel.Constructor.Plugins.autoplay=n}(window.Zepto||window.jQuery,window,document),function(a,t,e,n){"use strict";var i=function(t){this._core=t,this._initialized=!1,this._pages=[],this._controls={},this._templates=[],this.$element=this._core.$element,this._overrides={next:this._core.next,prev:this._core.prev,to:this._core.to},this._handlers={"prepared.owl.carousel":a.proxy(function(t){t.namespace&&this._core.settings.dotsData&&this._templates.push('<div class="'+this._core.settings.dotClass+'">'+a(t.content).find("[data-dot]").addBack("[data-dot]").attr("data-dot")+"</div>")},this),"added.owl.carousel":a.proxy(function(t){t.namespace&&this._core.settings.dotsData&&this._templates.splice(t.position,0,this._templates.pop())},this),"remove.owl.carousel":a.proxy(function(t){t.namespace&&this._core.settings.dotsData&&this._templates.splice(t.position,1)},this),"changed.owl.carousel":a.proxy(function(t){t.namespace&&"position"==t.property.name&&this.draw()},this),"initialized.owl.carousel":a.proxy(function(t){t.namespace&&!this._initialized&&(this._core.trigger("initialize",null,"navigation"),this.initialize(),this.update(),this.draw(),this._initialized=!0,this._core.trigger("initialized",null,"navigation"))},this),"refreshed.owl.carousel":a.proxy(function(t){t.namespace&&this._initialized&&(this._core.trigger("refresh",null,"navigation"),this.update(),this.draw(),this._core.trigger("refreshed",null,"navigation"))},this)},this._core.options=a.extend({},i.Defaults,this._core.options),this.$element.on(this._handlers)};i.Defaults={nav:!1,navText:['<span aria-label="Previous">&#x2039;</span>','<span aria-label="Next">&#x203a;</span>'],navSpeed:!1,navElement:'button type="button" role="presentation"',navContainer:!1,navContainerClass:"owl-nav",navClass:["owl-prev","owl-next"],slideBy:1,dotClass:"owl-dot",dotsClass:"owl-dots",dots:!0,dotsEach:!1,dotsData:!1,dotsSpeed:!1,dotsContainer:!1},i.prototype.initialize=function(){var t,n=this._core.settings;for(t in this._controls.$relative=(n.navContainer?a(n.navContainer):a("<div>").addClass(n.navContainerClass).appendTo(this.$element)).addClass("disabled"),this._controls.$previous=a("<"+n.navElement+">").addClass(n.navClass[0]).html(n.navText[0]).prependTo(this._controls.$relative).on("click",a.proxy(function(t){this.prev(n.navSpeed)},this)),this._controls.$next=a("<"+n.navElement+">").addClass(n.navClass[1]).html(n.navText[1]).appendTo(this._controls.$relative).on("click",a.proxy(function(t){this.next(n.navSpeed)},this)),n.dotsData||(this._templates=[a('<button role="button">').addClass(n.dotClass).append(a("<span>")).prop("outerHTML")]),this._controls.$absolute=(n.dotsContainer?a(n.dotsContainer):a("<div>").addClass(n.dotsClass).appendTo(this.$element)).addClass("disabled"),this._controls.$absolute.on("click","button",a.proxy(function(t){var e=a(t.target).parent().is(this._controls.$absolute)?a(t.target).index():a(t.target).parent().index();t.preventDefault(),this.to(e,n.dotsSpeed)},this)),this._overrides)this._core[t]=a.proxy(this[t],this)},i.prototype.destroy=function(){var t,e,n,i,r;for(t in r=this._core.settings,this._handlers)this.$element.off(t,this._handlers[t]);for(e in this._controls)"$relative"===e&&r.navContainer?this._controls[e].html(""):this._controls[e].remove();for(i in this.overides)this._core[i]=this._overrides[i];for(n in Object.getOwnPropertyNames(this))"function"!=typeof this[n]&&(this[n]=null)},i.prototype.update=function(){var t,e,n=this._core.clones().length/2,i=n+this._core.items().length,r=this._core.maximum(!0),a=this._core.settings,o=a.center||a.autoWidth||a.dotsData?1:a.dotsEach||a.items;if("page"!==a.slideBy&&(a.slideBy=Math.min(a.slideBy,a.items)),a.dots||"page"==a.slideBy)for(this._pages=[],t=n,e=0;t<i;t++){if(o<=e||0===e){if(this._pages.push({start:Math.min(r,t-n),end:t-n+o-1}),Math.min(r,t-n)===r)break;e=0,0}e+=this._core.mergers(this._core.relative(t))}},i.prototype.draw=function(){var t,e=this._core.settings,n=this._core.items().length<=e.items,i=this._core.relative(this._core.current()),r=e.loop||e.rewind;this._controls.$relative.toggleClass("disabled",!e.nav||n),e.nav&&(this._controls.$previous.toggleClass("disabled",!r&&i<=this._core.minimum(!0)),this._controls.$next.toggleClass("disabled",!r&&i>=this._core.maximum(!0))),this._controls.$absolute.toggleClass("disabled",!e.dots||n),e.dots&&(t=this._pages.length-this._controls.$absolute.children().length,e.dotsData&&0!==t?this._controls.$absolute.html(this._templates.join("")):0<t?this._controls.$absolute.append(new Array(t+1).join(this._templates[0])):t<0&&this._controls.$absolute.children().slice(t).remove(),this._controls.$absolute.find(".active").removeClass("active"),this._controls.$absolute.children().eq(a.inArray(this.current(),this._pages)).addClass("active"))},i.prototype.onTrigger=function(t){var e=this._core.settings;t.page={index:a.inArray(this.current(),this._pages),count:this._pages.length,size:e&&(e.center||e.autoWidth||e.dotsData?1:e.dotsEach||e.items)}},i.prototype.current=function(){var n=this._core.relative(this._core.current());return a.grep(this._pages,a.proxy(function(t,e){return t.start<=n&&t.end>=n},this)).pop()},i.prototype.getPosition=function(t){var e,n,i=this._core.settings;return"page"==i.slideBy?(e=a.inArray(this.current(),this._pages),n=this._pages.length,t?++e:--e,e=this._pages[(e%n+n)%n].start):(e=this._core.relative(this._core.current()),n=this._core.items().length,t?e+=i.slideBy:e-=i.slideBy),e},i.prototype.next=function(t){a.proxy(this._overrides.to,this._core)(this.getPosition(!0),t)},i.prototype.prev=function(t){a.proxy(this._overrides.to,this._core)(this.getPosition(!1),t)},i.prototype.to=function(t,e,n){var i;!n&&this._pages.length?(i=this._pages.length,a.proxy(this._overrides.to,this._core)(this._pages[(t%i+i)%i].start,e)):a.proxy(this._overrides.to,this._core)(t,e)},a.fn.owlCarousel.Constructor.Plugins.Navigation=i}(window.Zepto||window.jQuery,window,document),function(i,r,t,e){"use strict";var n=function(t){this._core=t,this._hashes={},this.$element=this._core.$element,this._handlers={"initialized.owl.carousel":i.proxy(function(t){t.namespace&&"URLHash"===this._core.settings.startPosition&&i(r).trigger("hashchange.owl.navigation")},this),"prepared.owl.carousel":i.proxy(function(t){if(t.namespace){var e=i(t.content).find("[data-hash]").addBack("[data-hash]").attr("data-hash");if(!e)return;this._hashes[e]=t.content}},this),"changed.owl.carousel":i.proxy(function(t){if(t.namespace&&"position"===t.property.name){var n=this._core.items(this._core.relative(this._core.current())),e=i.map(this._hashes,function(t,e){return t===n?e:null}).join();if(!e||r.location.hash.slice(1)===e)return;r.location.hash=e}},this)},this._core.options=i.extend({},n.Defaults,this._core.options),this.$element.on(this._handlers),i(r).on("hashchange.owl.navigation",i.proxy(function(t){var e=r.location.hash.substring(1),n=this._core.$stage.children(),i=this._hashes[e]&&n.index(this._hashes[e]);void 0!==i&&i!==this._core.current()&&this._core.to(this._core.relative(i),!1,!0)},this))};n.Defaults={URLhashListener:!1},n.prototype.destroy=function(){var t,e;for(t in i(r).off("hashchange.owl.navigation"),this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},i.fn.owlCarousel.Constructor.Plugins.Hash=n}(window.Zepto||window.jQuery,window,document),function(r,t,e,a){function n(t,n){var i=!1,e=t.charAt(0).toUpperCase()+t.slice(1);return r.each((t+" "+s.join(e+" ")+e).split(" "),function(t,e){if(o[e]!==a)return i=!n||e,!1}),i}function i(t){return n(t,!0)}var o=r("<support>").get(0).style,s="Webkit Moz O ms".split(" "),l={transition:{end:{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}},animation:{end:{WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",animation:"animationend"}}},u=function(){return!!n("transform")},c=function(){return!!n("perspective")},d=function(){return!!n("animation")};(function(){return!!n("transition")})()&&(r.support.transition=new String(i("transition")),r.support.transition.end=l.transition.end[r.support.transition]),d()&&(r.support.animation=new String(i("animation")),r.support.animation.end=l.animation.end[r.support.animation]),u()&&(r.support.transform=new String(i("transform")),r.support.transform3d=c())}(window.Zepto||window.jQuery,window,document);var angularApp=angular.module("angular-owl-carousel-2",[]);!function(t){function e(){this.owlApi={}}e.prototype.init=function(){this.owlApi=arguments[0]},e.prototype.getApi=function(){var t=this;return{trigger:function(){t.owlApi.trigger.apply(t.owlApi,arguments)}}};var u=["items","margin","loop","center","mouseDrag","touchDrag","pullDrag","freeDrag","stagePadding","merge","mergeFit","autoWidth","autoHeight","startPosition","URLhashListener","nav","rewind","navText","navElement","slideBy","dots","dotsEach","dotData","lazyLoad","lazyContent","autoplay","autoplayTimeout","autoplayHoverPause","smartSpeed","fluidSpeed","autoplaySpeed","navSpeed","dotsSpeed","dragEndSpeed","callbacks","responsive","responsiveRefreshRate","responsiveBaseElement","video","videoHeight","videoWidth","animateIn","animateInClass","animateOutClass","animateOut","fallbackEasing","info","nestedItemSelector","itemElement","stageElement","navContainer","dotsContainer","refreshClass","loadingClass","loadedClass","rtlClass","dragClass","grabClass","stageClass","stageOuterClass","navContainerClass","navClass","controlsClass","dotClass","dotsClass","autoHeightClass","responsiveClass","onInitialize","onInitialized","onResize","onResized","onRefresh","onRefreshed","onDrag","onDragged","onTranslate","onTranslated","onChange","onChanged","onLoadLazy","onLoadedLazy","onStopVideo","onPlayVideo"];t.directive("ngOwlCarousel",["$timeout","$log",function(s,l){return{restrict:"E",link:function(t,e,n,i){var r=function(t){var e={};if(t)for(var n in t)0<=u.indexOf(n)?e[n]=t[n]:l.warn("unknown property : "+n);return e}(t.owlProperties),a=".owl-carousel",o=null;t.$watchCollection("owlItems",function(){try{o.owlCarousel("destroy"),e.find(".owl-stage").remove()}catch(t){}t.owlItems instanceof Array&&s(function(){o=e.find(a).owlCarousel(r),i.init(o),angular.isDefined(t.owlReady)&&t.owlReady({$api:i.getApi()})})},!0)},scope:{owlItems:"=",owlProperties:"=",owlReady:"&"},controller:e,transclude:!0,template:'<div class="owl-carousel" data-ng-transclude></div>'}}])}(angularApp),function(){"use strict";var t=angular.module("slugifier",[]),a={" ":" ","¡":"!","¢":"c","£":"lb","¥":"yen","¦":"|","§":"SS","¨":'"',"©":"(c)","ª":"a","«":"<<","¬":"not","­":"-","®":"(R)","°":"^0","±":"+/-","²":"^2","³":"^3","´":"'","µ":"u","¶":"P","·":".","¸":",","¹":"^1","º":"o","»":">>","¼":" 1/4 ","½":" 1/2 ","¾":" 3/4 ","¿":"?","À":"`A","Á":"'A","Â":"^A","Ã":"~A","Ä":'"A',"Å":"A","Æ":"AE","Ç":"C","È":"`E","É":"'E","Ê":"^E","Ë":'"E',"Ì":"`I","Í":"'I","Î":"^I","Ï":'"I',"Ð":"D","Ñ":"~N","Ò":"`O","Ó":"'O","Ô":"^O","Õ":"~O","Ö":'"O',"×":"x","Ø":"O","Ù":"`U","Ú":"'U","Û":"^U","Ü":'"U',"Ý":"'Y","Þ":"Th","ß":"ss","à":"`a","á":"'a","â":"^a","ã":"~a","ä":'"a',"å":"a","æ":"ae","ç":"c","è":"`e","é":"'e","ê":"^e","ë":'"e',"ì":"`i","í":"'i","î":"^i","ï":'"i',"ð":"d","ñ":"~n","ò":"`o","ó":"'o","ô":"^o","õ":"~o","ö":'"o',"÷":":","ø":"o","ù":"`u","ú":"'u","û":"^u","ü":'"u',"ý":"'y","þ":"th","ÿ":'"y',"Ā":"A","ā":"a","Ă":"A","ă":"a","Ą":"A","ą":"a","Ć":"'C","ć":"'c","Ĉ":"^C","ĉ":"^c","Ċ":"C","ċ":"c","Č":"C","č":"c","Ď":"D","ď":"d","Đ":"D","đ":"d","Ē":"E","ē":"e","Ĕ":"E","ĕ":"e","Ė":"E","ė":"e","Ę":"E","ę":"e","Ě":"E","ě":"e","Ĝ":"^G","ĝ":"^g","Ğ":"G","ğ":"g","Ġ":"G","ġ":"g","Ģ":"G","ģ":"g","Ĥ":"^H","ĥ":"^h","Ħ":"H","ħ":"h","Ĩ":"~I","ĩ":"~i","Ī":"I","ī":"i","Ĭ":"I","ĭ":"i","Į":"I","į":"i","İ":"I","ı":"i","Ĳ":"IJ","ĳ":"ij","Ĵ":"^J","ĵ":"^j","Ķ":"K","ķ":"k","Ĺ":"L","ĺ":"l","Ļ":"L","ļ":"l","Ľ":"L","ľ":"l","Ŀ":"L","ŀ":"l","Ł":"L","ł":"l","Ń":"'N","ń":"'n","Ņ":"N","ņ":"n","Ň":"N","ň":"n","ŉ":"'n","Ō":"O","ō":"o","Ŏ":"O","ŏ":"o","Ő":'"O',"ő":'"o',"Œ":"OE","œ":"oe","Ŕ":"'R","ŕ":"'r","Ŗ":"R","ŗ":"r","Ř":"R","ř":"r","Ś":"'S","ś":"'s","Ŝ":"^S","ŝ":"^s","Ş":"S","ş":"s","Š":"S","š":"s","Ţ":"T","ţ":"t","Ť":"T","ť":"t","Ŧ":"T","ŧ":"t","Ũ":"~U","ũ":"~u","Ū":"U","ū":"u","Ŭ":"U","ŭ":"u","Ů":"U","ů":"u","Ű":'"U',"ű":'"u',"Ų":"U","ų":"u","Ŵ":"^W","ŵ":"^w","Ŷ":"^Y","ŷ":"^y","Ÿ":'"Y',"Ź":"'Z","ź":"'z","Ż":"Z","ż":"z","Ž":"Z","ž":"z","ſ":"s"};function e(t){if(!t)return"";for(var e,n,i=[],r=0;r<t.length;r++)(n=t.charCodeAt(r))<384&&(e=String.fromCharCode(n),i.push(a[e]||e));return(t=(t=i.join("")).replace(/[^\w\s-]/g,"").trim().toLowerCase()).replace(/[-\s]+/g,"-")}t.factory("Slug",function(){return{slugify:e}}),t.directive("slug",["Slug",function(i){return{restrict:"E",scope:{to:"="},transclude:!0,replace:!0,template:"<div ng-transclude></div>",link:function(e,t,n){if(!n.from)throw"must set attribute 'from'";e.$parent.$watch(n.from,function(t){e.to=i.slugify(t)})}}}]),t.filter("slugify",["Slug",function(e){return function(t){return e.slugify(t)}}])}(),function(){"use strict";angular.module("ngTextTruncate",[]).directive("ngTextTruncate",["$compile","ValidationServices","CharBasedTruncation","WordBasedTruncation",function(t,a,o,s){return{restrict:"A",scope:{text:"=ngTextTruncate",charsThreshould:"@ngTtCharsThreshold",wordsThreshould:"@ngTtWordsThreshold",customMoreLabel:"@ngTtMoreLabel",customLessLabel:"@ngTtLessLabel"},controller:["$scope","$element","$attrs",function(t,e,n){t.toggleShow=function(){t.open=!t.open},t.useToggling=void 0===n.ngTtNoToggling}],link:function(t,e,n){t.open=!1,a.failIfWrongThreshouldConfig(t.charsThreshould,t.wordsThreshould);var i=parseInt(t.charsThreshould),r=parseInt(t.wordsThreshould);t.$watch("text",function(){e.empty(),i?t.text&&o.truncationApplies(t,i)?o.applyTruncation(i,t,e):e.append(t.text):t.text&&s.truncationApplies(t,r)?s.applyTruncation(r,t,e):e.append(t.text)})}}}]).factory("ValidationServices",function(){return{failIfWrongThreshouldConfig:function(t,e){if(!t&&!e||t&&e)throw"You must specify one, and only one, type of threshould (chars or words)"}}}).factory("CharBasedTruncation",["$compile",function(r){return{truncationApplies:function(t,e){return t.text.length>e},applyTruncation:function(t,e,n){if(e.useToggling){var i=angular.element("<span>"+e.text.substr(0,t)+"<span ng-show='!open'>...</span><span class='btn-link ngTruncateToggleText' ng-click='toggleShow()'ng-show='!open'> "+(e.customMoreLabel?e.customMoreLabel:"More")+"</span><span ng-show='open'>"+e.text.substring(t)+"<span class='btn-link ngTruncateToggleText'ng-click='toggleShow()'> "+(e.customLessLabel?e.customLessLabel:"Less")+"</span></span></span>");r(i)(e),n.append(i)}else n.append(e.text.substr(0,t)+"...")}}}]).factory("WordBasedTruncation",["$compile",function(a){return{truncationApplies:function(t,e){return t.text.split(" ").length>e},applyTruncation:function(t,e,n){var i=e.text.split(" ");if(e.useToggling){var r=angular.element("<span>"+i.slice(0,t).join(" ")+" <span ng-show='!open'>...</span><span class='btn-link ngTruncateToggleText' ng-click='toggleShow()'ng-show='!open'> "+(e.customMoreLabel?e.customMoreLabel:"More")+"</span><span ng-show='open'>"+i.slice(t,i.length).join(" ")+"<span class='btn-link ngTruncateToggleText'ng-click='toggleShow()'> "+(e.customLessLabel?e.customLessLabel:"Less")+"</span></span></span>");a(r)(e),n.append(r)}else n.append(i.slice(0,t).join(" ")+"...")}}}])}(),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,function(){"use strict";var t;function v(){return t.apply(null,arguments)}function s(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function l(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function y(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function u(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;for(var e in t)if(y(t,e))return;return 1}function o(t){return void 0===t}function c(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function d(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function h(t,e){for(var n=[],i=t.length,r=0;r<i;++r)n.push(e(t[r],r));return n}function f(t,e){for(var n in e)y(e,n)&&(t[n]=e[n]);return y(e,"toString")&&(t.toString=e.toString),y(e,"valueOf")&&(t.valueOf=e.valueOf),t}function p(t,e,n,i){return Ce(t,e,n,i,!0).utc()}function b(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),t._pf}function g(t){if(null==t._isValid){var e=b(t),n=i.call(e.parsedDateParts,function(t){return null!=t});n=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(n=n&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return n;t._isValid=n}return t._isValid}function m(t){var e=p(NaN);return null!=t?f(b(e),t):b(e).userInvalidated=!0,e}var i=Array.prototype.some||function(t){for(var e=Object(this),n=e.length>>>0,i=0;i<n;i++)if(i in e&&t.call(this,e[i],i,e))return!0;return!1},_=v.momentProperties=[],e=!1;function w(t,e){var n,i,r,a=_.length;if(o(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),o(e._i)||(t._i=e._i),o(e._f)||(t._f=e._f),o(e._l)||(t._l=e._l),o(e._strict)||(t._strict=e._strict),o(e._tzm)||(t._tzm=e._tzm),o(e._isUTC)||(t._isUTC=e._isUTC),o(e._offset)||(t._offset=e._offset),o(e._pf)||(t._pf=b(e)),o(e._locale)||(t._locale=e._locale),0<a)for(n=0;n<a;n++)o(r=e[i=_[n]])||(t[i]=r);return t}function x(t){w(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===e&&(e=!0,v.updateOffset(this),e=!1)}function k(t){return t instanceof x||null!=t&&null!=t._isAMomentObject}function C(t){!1===v.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn}function n(a,o){var s=!0;return f(function(){if(null!=v.deprecationHandler&&v.deprecationHandler(null,a),s){for(var t,e,n=[],i=arguments.length,r=0;r<i;r++){if(t="","object"==typeof arguments[r]){for(e in t+="\n["+r+"] ",arguments[0])y(arguments[0],e)&&(t+=e+": "+arguments[0][e]+", ");t=t.slice(0,-2)}else t=arguments[r];n.push(t)}C((Array.prototype.slice.call(n).join(""),(new Error).stack)),s=!1}return o.apply(this,arguments)},o)}var r={};function a(t,e){null!=v.deprecationHandler&&v.deprecationHandler(t,e),r[t]||(C(),r[t]=!0)}function S(t){return"undefined"!=typeof Function&&t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function D(t,e){var n,i=f({},t);for(n in e)y(e,n)&&(l(t[n])&&l(e[n])?(i[n]={},f(i[n],t[n]),f(i[n],e[n])):null!=e[n]?i[n]=e[n]:delete i[n]);for(n in t)y(t,n)&&!y(e,n)&&l(t[n])&&(i[n]=f({},i[n]));return i}function T(t){null!=t&&this.set(t)}v.suppressDeprecationWarnings=!1,v.deprecationHandler=null;var M=Object.keys||function(t){var e,n=[];for(e in t)y(t,e)&&n.push(e);return n};function $(t,e,n){var i=""+Math.abs(t);return(0<=t?n?"+":"":"-")+Math.pow(10,Math.max(0,e-i.length)).toString().substr(1)+i}var O=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,E=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,P={},A={};function R(t,e,n,i){var r="string"==typeof i?function(){return this[i]()}:i;t&&(A[t]=r),e&&(A[e[0]]=function(){return $(r.apply(this,arguments),e[1],e[2])}),n&&(A[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)})}function I(t,e){return t.isValid()?(e=F(e,t.localeData()),P[e]=P[e]||function(i){for(var t,r=i.match(O),e=0,a=r.length;e<a;e++)A[r[e]]?r[e]=A[r[e]]:r[e]=(t=r[e]).match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"");return function(t){for(var e="",n=0;n<a;n++)e+=S(r[n])?r[n].call(t,i):r[n];return e}}(e),P[e](t)):t.localeData().invalidDate()}function F(t,e){var n=5;function i(t){return e.longDateFormat(t)||t}for(E.lastIndex=0;0<=n&&E.test(t);)t=t.replace(E,i),E.lastIndex=0,--n;return t}var j={};function L(t,e){var n=t.toLowerCase();j[n]=j[n+"s"]=j[e]=t}function N(t){return"string"==typeof t?j[t]||j[t.toLowerCase()]:void 0}function V(t){var e,n,i={};for(n in t)y(t,n)&&(e=N(n))&&(i[e]=t[n]);return i}var H={};function B(t,e){H[t]=e}function Y(t){return t%4==0&&t%100!=0||t%400==0}function U(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function z(t){var e=0;return 0!=(t=+t)&&isFinite(t)?U(t):e}function W(e,n){return function(t){return null!=t?(G(this,e,t),v.updateOffset(this,n),this):q(this,e)}}function q(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function G(t,e,n){t.isValid()&&!isNaN(n)&&("FullYear"===e&&Y(t.year())&&1===t.month()&&29===t.date()?(n=z(n),t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),Tt(n,t.month()))):t._d["set"+(t._isUTC?"UTC":"")+e](n))}var Z=/\d/,X=/\d\d/,K=/\d{3}/,Q=/\d{4}/,J=/[+-]?\d{6}/,tt=/\d\d?/,et=/\d\d\d\d?/,nt=/\d\d\d\d\d\d?/,it=/\d{1,3}/,rt=/\d{1,4}/,at=/[+-]?\d{1,6}/,ot=/\d+/,st=/[+-]?\d+/,lt=/Z|[+-]\d\d:?\d\d/gi,ut=/Z|[+-]\d\d(?::?\d\d)?/gi,ct=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function dt(t,n,i){ft[t]=S(n)?n:function(t,e){return t&&i?i:n}}function ht(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var ft={},pt={};function gt(t,n){var e,i,r=n;for("string"==typeof t&&(t=[t]),c(n)&&(r=function(t,e){e[n]=z(t)}),i=t.length,e=0;e<i;e++)pt[t[e]]=r}function mt(t,r){gt(t,function(t,e,n,i){n._w=n._w||{},r(t,n._w,n,i)})}var vt,yt=0,bt=1,_t=2,wt=3,xt=4,kt=5,Ct=6,St=7,Dt=8;function Tt(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=(e%(n=12)+n)%n;return t+=(e-n)/12,1==n?Y(t)?29:28:31-n%7%2}vt=Array.prototype.indexOf||function(t){for(var e=0;e<this.length;++e)if(this[e]===t)return e;return-1},R("M",["MM",2],"Mo",function(){return this.month()+1}),R("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),R("MMMM",0,0,function(t){return this.localeData().months(this,t)}),L("month","M"),B("month",8),dt("M",tt),dt("MM",tt,X),dt("MMM",function(t,e){return e.monthsShortRegex(t)}),dt("MMMM",function(t,e){return e.monthsRegex(t)}),gt(["M","MM"],function(t,e){e[bt]=z(t)-1}),gt(["MMM","MMMM"],function(t,e,n,i){null!=(i=n._locale.monthsParse(t,i,n._strict))?e[bt]=i:b(n).invalidMonth=t});var Mt="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),$t="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Ot=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Et=ct,Pt=ct;function At(t,e){var n;if(t.isValid()){if("string"==typeof e)if(/^\d+$/.test(e))e=z(e);else if(!c(e=t.localeData().monthsParse(e)))return;n=Math.min(t.date(),Tt(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n)}}function Rt(t){return null!=t?(At(this,t),v.updateOffset(this,!0),this):q(this,"Month")}function It(){function t(t,e){return e.length-t.length}for(var e,n=[],i=[],r=[],a=0;a<12;a++)e=p([2e3,a]),n.push(this.monthsShort(e,"")),i.push(this.months(e,"")),r.push(this.months(e,"")),r.push(this.monthsShort(e,""));for(n.sort(t),i.sort(t),r.sort(t),a=0;a<12;a++)n[a]=ht(n[a]),i[a]=ht(i[a]);for(a=0;a<24;a++)r[a]=ht(r[a]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function Ft(t){return Y(t)?366:365}R("Y",0,0,function(){var t=this.year();return t<=9999?$(t,4):"+"+t}),R(0,["YY",2],0,function(){return this.year()%100}),R(0,["YYYY",4],0,"year"),R(0,["YYYYY",5],0,"year"),R(0,["YYYYYY",6,!0],0,"year"),L("year","y"),B("year",1),dt("Y",st),dt("YY",tt,X),dt("YYYY",rt,Q),dt("YYYYY",at,J),dt("YYYYYY",at,J),gt(["YYYYY","YYYYYY"],yt),gt("YYYY",function(t,e){e[yt]=2===t.length?v.parseTwoDigitYear(t):z(t)}),gt("YY",function(t,e){e[yt]=v.parseTwoDigitYear(t)}),gt("Y",function(t,e){e[yt]=parseInt(t,10)}),v.parseTwoDigitYear=function(t){return z(t)+(68<z(t)?1900:2e3)};var jt=W("FullYear",!0);function Lt(t){var e;return t<100&&0<=t?((e=Array.prototype.slice.call(arguments))[0]=t+400,e=new Date(Date.UTC.apply(null,e)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function Nt(t,e,n){return(n=7+e-n)-(7+Lt(t,0,n).getUTCDay()-e)%7-1}function Vt(t,e,n,i,r){var a;n=(e=1+7*(e-1)+(7+n-i)%7+Nt(t,i,r))<=0?Ft(a=t-1)+e:e>Ft(t)?(a=t+1,e-Ft(t)):(a=t,e);return{year:a,dayOfYear:n}}function Ht(t,e,n){var i,r,a=Nt(t.year(),e,n);return(a=Math.floor((t.dayOfYear()-a-1)/7)+1)<1?i=a+Bt(r=t.year()-1,e,n):a>Bt(t.year(),e,n)?(i=a-Bt(t.year(),e,n),r=t.year()+1):(r=t.year(),i=a),{week:i,year:r}}function Bt(t,e,n){var i=Nt(t,e,n);e=Nt(t+1,e,n);return(Ft(t)-i+e)/7}function Yt(t,e){return t.slice(e,7).concat(t.slice(0,e))}R("w",["ww",2],"wo","week"),R("W",["WW",2],"Wo","isoWeek"),L("week","w"),L("isoWeek","W"),B("week",5),B("isoWeek",5),dt("w",tt),dt("ww",tt,X),dt("W",tt),dt("WW",tt,X),mt(["w","ww","W","WW"],function(t,e,n,i){e[i.substr(0,1)]=z(t)}),R("d",0,"do","day"),R("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),R("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),R("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),R("e",0,0,"weekday"),R("E",0,0,"isoWeekday"),L("day","d"),L("weekday","e"),L("isoWeekday","E"),B("day",11),B("weekday",11),B("isoWeekday",11),dt("d",tt),dt("e",tt),dt("E",tt),dt("dd",function(t,e){return e.weekdaysMinRegex(t)}),dt("ddd",function(t,e){return e.weekdaysShortRegex(t)}),dt("dddd",function(t,e){return e.weekdaysRegex(t)}),mt(["dd","ddd","dddd"],function(t,e,n,i){null!=(i=n._locale.weekdaysParse(t,i,n._strict))?e.d=i:b(n).invalidWeekday=t}),mt(["d","e","E"],function(t,e,n,i){e[i]=z(t)});var Ut="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),zt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Wt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),qt=ct,Gt=ct,Zt=ct;function Xt(){function t(t,e){return e.length-t.length}for(var e,n,i,r=[],a=[],o=[],s=[],l=0;l<7;l++)i=p([2e3,1]).day(l),e=ht(this.weekdaysMin(i,"")),n=ht(this.weekdaysShort(i,"")),i=ht(this.weekdays(i,"")),r.push(e),a.push(n),o.push(i),s.push(e),s.push(n),s.push(i);r.sort(t),a.sort(t),o.sort(t),s.sort(t),this._weekdaysRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+r.join("|")+")","i")}function Kt(){return this.hours()%12||12}function Qt(t,e){R(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function Jt(t,e){return e._meridiemParse}R("H",["HH",2],0,"hour"),R("h",["hh",2],0,Kt),R("k",["kk",2],0,function(){return this.hours()||24}),R("hmm",0,0,function(){return""+Kt.apply(this)+$(this.minutes(),2)}),R("hmmss",0,0,function(){return""+Kt.apply(this)+$(this.minutes(),2)+$(this.seconds(),2)}),R("Hmm",0,0,function(){return""+this.hours()+$(this.minutes(),2)}),R("Hmmss",0,0,function(){return""+this.hours()+$(this.minutes(),2)+$(this.seconds(),2)}),Qt("a",!0),Qt("A",!1),L("hour","h"),B("hour",13),dt("a",Jt),dt("A",Jt),dt("H",tt),dt("h",tt),dt("k",tt),dt("HH",tt,X),dt("hh",tt,X),dt("kk",tt,X),dt("hmm",et),dt("hmmss",nt),dt("Hmm",et),dt("Hmmss",nt),gt(["H","HH"],wt),gt(["k","kk"],function(t,e,n){t=z(t),e[wt]=24===t?0:t}),gt(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),gt(["h","hh"],function(t,e,n){e[wt]=z(t),b(n).bigHour=!0}),gt("hmm",function(t,e,n){var i=t.length-2;e[wt]=z(t.substr(0,i)),e[xt]=z(t.substr(i)),b(n).bigHour=!0}),gt("hmmss",function(t,e,n){var i=t.length-4,r=t.length-2;e[wt]=z(t.substr(0,i)),e[xt]=z(t.substr(i,2)),e[kt]=z(t.substr(r)),b(n).bigHour=!0}),gt("Hmm",function(t,e,n){var i=t.length-2;e[wt]=z(t.substr(0,i)),e[xt]=z(t.substr(i))}),gt("Hmmss",function(t,e,n){var i=t.length-4,r=t.length-2;e[wt]=z(t.substr(0,i)),e[xt]=z(t.substr(i,2)),e[kt]=z(t.substr(r))}),ct=W("Hours",!0);var te,ee={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Mt,monthsShort:$t,week:{dow:0,doy:6},weekdays:Ut,weekdaysMin:Wt,weekdaysShort:zt,meridiemParse:/[ap]\.?m?\.?/i},ne={},ie={};function re(t){return t&&t.toLowerCase().replace("_","-")}function ae(t){var e;if(void 0===ne[t]&&"undefined"!=typeof module&&module&&module.exports&&null!=t.match("^[^/\\\\]*$"))try{e=te._abbr,require("./locale/"+t),oe(e)}catch(e){ne[t]=null}return ne[t]}function oe(t,e){return t&&((e=o(e)?le(t):se(t,e))?te=e:"undefined"!=typeof console&&console.warn),te._abbr}function se(t,e){if(null===e)return delete ne[t],null;var n,i=ee;if(e.abbr=t,null!=ne[t])a("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=ne[t]._config;else if(null!=e.parentLocale)if(null!=ne[e.parentLocale])i=ne[e.parentLocale]._config;else{if(null==(n=ae(e.parentLocale)))return ie[e.parentLocale]||(ie[e.parentLocale]=[]),ie[e.parentLocale].push({name:t,config:e}),null;i=n._config}return ne[t]=new T(D(i,e)),ie[t]&&ie[t].forEach(function(t){se(t.name,t.config)}),oe(t),ne[t]}function le(t){var e;if(!(t=t&&t._locale&&t._locale._abbr?t._locale._abbr:t))return te;if(!s(t)){if(e=ae(t))return e;t=[t]}return function(t){for(var e,n,i,r,a=0;a<t.length;){for(e=(r=re(t[a]).split("-")).length,n=(n=re(t[a+1]))?n.split("-"):null;0<e;){if(i=ae(r.slice(0,e).join("-")))return i;if(n&&n.length>=e&&function(t,e){for(var n=Math.min(t.length,e.length),i=0;i<n;i+=1)if(t[i]!==e[i])return i;return n}(r,n)>=e-1)break;e--}a++}return te}(t)}function ue(t){var e=t._a;return e&&-2===b(t).overflow&&(e=e[bt]<0||11<e[bt]?bt:e[_t]<1||e[_t]>Tt(e[yt],e[bt])?_t:e[wt]<0||24<e[wt]||24===e[wt]&&(0!==e[xt]||0!==e[kt]||0!==e[Ct])?wt:e[xt]<0||59<e[xt]?xt:e[kt]<0||59<e[kt]?kt:e[Ct]<0||999<e[Ct]?Ct:-1,b(t)._overflowDayOfYear&&(e<yt||_t<e)&&(e=_t),b(t)._overflowWeeks&&-1===e&&(e=St),b(t)._overflowWeekday&&-1===e&&(e=Dt),b(t).overflow=e),t}var ce=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,de=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,he=/Z|[+-]\d\d(?::?\d\d)?/,fe=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],pe=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ge=/^\/?Date\((-?\d+)/i,me=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,ve={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function ye(t){var e,n,i,r,a,o,s=t._i,l=ce.exec(s)||de.exec(s),u=(s=fe.length,pe.length);if(l){for(b(t).iso=!0,e=0,n=s;e<n;e++)if(fe[e][1].exec(l[1])){r=fe[e][0],i=!1!==fe[e][2];break}if(null==r)t._isValid=!1;else{if(l[3]){for(e=0,n=u;e<n;e++)if(pe[e][1].exec(l[3])){a=(l[2]||" ")+pe[e][0];break}if(null==a)return void(t._isValid=!1)}if(i||null==a){if(l[4]){if(!he.exec(l[4]))return void(t._isValid=!1);o="Z"}t._f=r+(a||"")+(o||""),xe(t)}else t._isValid=!1}}else t._isValid=!1}function be(t){var e,n,i,r,a,o,s,l,u,c,d,h=me.exec(t._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));h?(a=h[4],o=h[3],s=h[2],l=h[5],u=h[6],c=h[7],a=[(d=a,(d=parseInt(d,10))<=49?2e3+d:d<=999?1900+d:d),$t.indexOf(o),parseInt(s,10),parseInt(l,10),parseInt(u,10)],c&&a.push(parseInt(c,10)),i=e=a,r=t,(n=h[1])&&zt.indexOf(n)!==new Date(i[0],i[1],i[2]).getDay()?(b(r).weekdayMismatch=!0,r._isValid=!1):(t._a=e,t._tzm=(n=h[8],i=h[9],r=h[10],n?ve[n]:i?0:((n=parseInt(r,10))-(i=n%100))/100*60+i),t._d=Lt.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),b(t).rfc2822=!0)):t._isValid=!1}function _e(t,e,n){return null!=t?t:null!=e?e:n}function we(t){var e,n,i,r,a,o,s,l,u,c,d,h=[];if(!t._d){for(i=t,r=new Date(v.now()),n=i._useUTC?[r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate()]:[r.getFullYear(),r.getMonth(),r.getDate()],t._w&&null==t._a[_t]&&null==t._a[bt]&&(null!=(r=(i=t)._w).GG||null!=r.W||null!=r.E?(l=1,u=4,a=_e(r.GG,i._a[yt],Ht(Se(),1,4).year),o=_e(r.W,1),((s=_e(r.E,1))<1||7<s)&&(c=!0)):(l=i._locale._week.dow,u=i._locale._week.doy,d=Ht(Se(),l,u),a=_e(r.gg,i._a[yt],d.year),o=_e(r.w,d.week),null!=r.d?((s=r.d)<0||6<s)&&(c=!0):null!=r.e?(s=r.e+l,(r.e<0||6<r.e)&&(c=!0)):s=l),o<1||o>Bt(a,l,u)?b(i)._overflowWeeks=!0:null!=c?b(i)._overflowWeekday=!0:(d=Vt(a,o,s,l,u),i._a[yt]=d.year,i._dayOfYear=d.dayOfYear)),null!=t._dayOfYear&&(r=_e(t._a[yt],n[yt]),(t._dayOfYear>Ft(r)||0===t._dayOfYear)&&(b(t)._overflowDayOfYear=!0),c=Lt(r,0,t._dayOfYear),t._a[bt]=c.getUTCMonth(),t._a[_t]=c.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=h[e]=n[e];for(;e<7;e++)t._a[e]=h[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[wt]&&0===t._a[xt]&&0===t._a[kt]&&0===t._a[Ct]&&(t._nextDay=!0,t._a[wt]=0),t._d=(t._useUTC?Lt:function(t,e,n,i,r,a,o){var s;return t<100&&0<=t?(s=new Date(t+400,e,n,i,r,a,o),isFinite(s.getFullYear())&&s.setFullYear(t)):s=new Date(t,e,n,i,r,a,o),s}).apply(null,h),a=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[wt]=24),t._w&&void 0!==t._w.d&&t._w.d!==a&&(b(t).weekdayMismatch=!0)}}function xe(t){if(t._f===v.ISO_8601)ye(t);else if(t._f===v.RFC_2822)be(t);else{t._a=[],b(t).empty=!0;for(var e,n,i,r,a,o=""+t._i,s=o.length,l=0,u=F(t._f,t._locale).match(O)||[],c=u.length,d=0;d<c;d++)n=u[d],(e=(o.match((g=n,m=t,y(ft,g)?ft[g](m._strict,m._locale):new RegExp(ht(g.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,r){return e||n||i||r})))))||[])[0])&&(0<(i=o.substr(0,o.indexOf(e))).length&&b(t).unusedInput.push(i),o=o.slice(o.indexOf(e)+e.length),l+=e.length),A[n]?(e?b(t).empty=!1:b(t).unusedTokens.push(n),i=n,a=t,null!=(r=e)&&y(pt,i)&&pt[i](r,a._a,a,i)):t._strict&&!e&&b(t).unusedTokens.push(n);b(t).charsLeftOver=s-l,0<o.length&&b(t).unusedInput.push(o),t._a[wt]<=12&&!0===b(t).bigHour&&0<t._a[wt]&&(b(t).bigHour=void 0),b(t).parsedDateParts=t._a.slice(0),b(t).meridiem=t._meridiem,t._a[wt]=(h=t._locale,f=t._a[wt],null==(p=t._meridiem)?f:null!=h.meridiemHour?h.meridiemHour(f,p):null!=h.isPM?((h=h.isPM(p))&&f<12&&(f+=12),f=h||12!==f?f:0):f),null!==(s=b(t).era)&&(t._a[yt]=t._locale.erasConvertYear(s,t._a[yt])),we(t),ue(t)}var h,f,p,g,m}function ke(t){var e,n,i,r=t._i,a=t._f;return t._locale=t._locale||le(t._l),null===r||void 0===a&&""===r?m({nullInput:!0}):("string"==typeof r&&(t._i=r=t._locale.preparse(r)),k(r)?new x(ue(r)):(d(r)?t._d=r:s(a)?function(t){var e,n,i,r,a,o,s=!1,l=t._f.length;if(0===l)return b(t).invalidFormat=!0,t._d=new Date(NaN);for(r=0;r<l;r++)a=0,o=!1,e=w({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[r],xe(e),g(e)&&(o=!0),a=(a+=b(e).charsLeftOver)+10*b(e).unusedTokens.length,b(e).score=a,s?a<i&&(i=a,n=e):(null==i||a<i||o)&&(i=a,n=e,o&&(s=!0));f(t,n||e)}(t):a?xe(t):o(a=(r=t)._i)?r._d=new Date(v.now()):d(a)?r._d=new Date(a.valueOf()):"string"==typeof a?(n=r,null!==(e=ge.exec(n._i))?n._d=new Date(+e[1]):(ye(n),!1===n._isValid&&(delete n._isValid,be(n),!1===n._isValid&&(delete n._isValid,n._strict?n._isValid=!1:v.createFromInputFallback(n))))):s(a)?(r._a=h(a.slice(0),function(t){return parseInt(t,10)}),we(r)):l(a)?(e=r)._d||(i=void 0===(n=V(e._i)).day?n.date:n.day,e._a=h([n.year,n.month,i,n.hour,n.minute,n.second,n.millisecond],function(t){return t&&parseInt(t,10)}),we(e)):c(a)?r._d=new Date(a):v.createFromInputFallback(r),g(t)||(t._d=null),t))}function Ce(t,e,n,i,r){var a={};return!0!==e&&!1!==e||(i=e,e=void 0),!0!==n&&!1!==n||(i=n,n=void 0),(l(t)&&u(t)||s(t)&&0===t.length)&&(t=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=r,a._l=n,a._i=t,a._f=e,a._strict=i,(r=new x(ue(ke(r=a))))._nextDay&&(r.add(1,"d"),r._nextDay=void 0),r}function Se(t,e,n,i){return Ce(t,e,n,i,!1)}function De(t,e){var n,i;if(!(e=1===e.length&&s(e[0])?e[0]:e).length)return Se();for(n=e[0],i=1;i<e.length;++i)e[i].isValid()&&!e[i][t](n)||(n=e[i]);return n}v.createFromInputFallback=n("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),v.ISO_8601=function(){},v.RFC_2822=function(){},et=n("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Se.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:m()}),nt=n("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Se.apply(null,arguments);return this.isValid()&&t.isValid()?this<t?this:t:m()});var Te=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Me(t){var e=(t=V(t)).year||0,n=t.quarter||0,i=t.month||0,r=t.week||t.isoWeek||0,a=t.day||0,o=t.hour||0,s=t.minute||0,l=t.second||0,u=t.millisecond||0;this._isValid=function(t){var e,n,i=!1,r=Te.length;for(e in t)if(y(t,e)&&(-1===vt.call(Te,e)||null!=t[e]&&isNaN(t[e])))return!1;for(n=0;n<r;++n)if(t[Te[n]]){if(i)return!1;parseFloat(t[Te[n]])!==z(t[Te[n]])&&(i=!0)}return!0}(t),this._milliseconds=+u+1e3*l+6e4*s+1e3*o*60*60,this._days=+a+7*r,this._months=+i+3*n+12*e,this._data={},this._locale=le(),this._bubble()}function $e(t){return t instanceof Me}function Oe(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function Ee(t,n){R(t,0,0,function(){var t=this.utcOffset(),e="+";return t<0&&(t=-t,e="-"),e+$(~~(t/60),2)+n+$(~~t%60,2)})}Ee("Z",":"),Ee("ZZ",""),dt("Z",ut),dt("ZZ",ut),gt(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=Ae(ut,t)});var Pe=/([\+\-]|\d\d)/gi;function Ae(t,e){return null===(e=(e||"").match(t))?null:0===(e=60*(t=((e[e.length-1]||[])+"").match(Pe)||["-",0,0])[1]+z(t[2]))?0:"+"===t[0]?e:-e}function Re(t,e){var n;return e._isUTC?(e=e.clone(),n=(k(t)||d(t)?t:Se(t)).valueOf()-e.valueOf(),e._d.setTime(e._d.valueOf()+n),v.updateOffset(e,!1),e):Se(t).local()}function Ie(t){return-Math.round(t._d.getTimezoneOffset())}function Fe(){return!!this.isValid()&&this._isUTC&&0===this._offset}v.updateOffset=function(){};var je=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Le=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ne(t,e){var n,i,r,a,o=t,s=null;return $e(t)?o={ms:t._milliseconds,d:t._days,M:t._months}:c(t)||!isNaN(+t)?(o={},e?o[e]=+t:o.milliseconds=+t):(s=je.exec(t))?(n="-"===s[1]?-1:1,o={y:0,d:z(s[_t])*n,h:z(s[wt])*n,m:z(s[xt])*n,s:z(s[kt])*n,ms:z(Oe(1e3*s[Ct]))*n}):(s=Le.exec(t))?(n="-"===s[1]?-1:1,o={y:Ve(s[2],n),M:Ve(s[3],n),w:Ve(s[4],n),d:Ve(s[5],n),h:Ve(s[6],n),m:Ve(s[7],n),s:Ve(s[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(i=Se(o.from),r=Se(o.to),e=i.isValid()&&r.isValid()?(r=Re(r,i),i.isBefore(r)?a=He(i,r):((a=He(r,i)).milliseconds=-a.milliseconds,a.months=-a.months),a):{milliseconds:0,months:0},(o={}).ms=e.milliseconds,o.M=e.months),s=new Me(o),$e(t)&&y(t,"_locale")&&(s._locale=t._locale),$e(t)&&y(t,"_isValid")&&(s._isValid=t._isValid),s}function Ve(t,e){return t=t&&parseFloat(t.replace(",",".")),(isNaN(t)?0:t)*e}function He(t,e){var n={};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Be(i,r){return function(t,e){var n;return null===e||isNaN(+e)||(a(r,"moment()."+r+"(period, number) is deprecated. Please use moment()."+r+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),n=t,t=e,e=n),Ye(this,Ne(t,e),i),this}}function Ye(t,e,n,i){var r=e._milliseconds,a=Oe(e._days);e=Oe(e._months);t.isValid()&&(i=null==i||i,e&&At(t,q(t,"Month")+e*n),a&&G(t,"Date",q(t,"Date")+a*n),r&&t._d.setTime(t._d.valueOf()+r*n),i&&v.updateOffset(t,a||e))}function Ue(t){return"string"==typeof t||t instanceof String}function ze(t,e){if(t.date()<e.date())return-ze(e,t);var n=12*(e.year()-t.year())+(e.month()-t.month()),i=t.clone().add(n,"months");return-(n+(e=e-i<0?(e-i)/(i-t.clone().add(n-1,"months")):(e-i)/(t.clone().add(1+n,"months")-i)))||0}function We(t){return void 0===t?this._locale._abbr:(null!=(t=le(t))&&(this._locale=t),this)}function qe(){return this._locale}Ne.fn=Me.prototype,Ne.invalid=function(){return Ne(NaN)},Mt=Be(1,"add"),Ut=Be(-1,"subtract"),v.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",v.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]",Wt=n("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});var Ge=126227808e5;function Ze(t,e){return(t%e+e)%e}function Xe(t,e,n){return t<100&&0<=t?new Date(t+400,e,n)-Ge:new Date(t,e,n).valueOf()}function Ke(t,e,n){return t<100&&0<=t?Date.UTC(t+400,e,n)-Ge:Date.UTC(t,e,n)}function Qe(t,e){return e.erasAbbrRegex(t)}function Je(){for(var t=[],e=[],n=[],i=[],r=this.eras(),a=0,o=r.length;a<o;++a)e.push(ht(r[a].name)),t.push(ht(r[a].abbr)),n.push(ht(r[a].narrow)),i.push(ht(r[a].name)),i.push(ht(r[a].abbr)),i.push(ht(r[a].narrow));this._erasRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}function tn(t,e){R(0,[t,t.length],0,e)}function en(t,e,n,i,r){var a;return null==t?Ht(this,i,r).year:(a=Bt(t,i,r),function(t,e,n,i,r){return e=Lt((t=Vt(t,e,n,i,r)).year,0,t.dayOfYear),this.year(e.getUTCFullYear()),this.month(e.getUTCMonth()),this.date(e.getUTCDate()),this}.call(this,t,e=a<e?a:e,n,i,r))}R("N",0,0,"eraAbbr"),R("NN",0,0,"eraAbbr"),R("NNN",0,0,"eraAbbr"),R("NNNN",0,0,"eraName"),R("NNNNN",0,0,"eraNarrow"),R("y",["y",1],"yo","eraYear"),R("y",["yy",2],0,"eraYear"),R("y",["yyy",3],0,"eraYear"),R("y",["yyyy",4],0,"eraYear"),dt("N",Qe),dt("NN",Qe),dt("NNN",Qe),dt("NNNN",function(t,e){return e.erasNameRegex(t)}),dt("NNNNN",function(t,e){return e.erasNarrowRegex(t)}),gt(["N","NN","NNN","NNNN","NNNNN"],function(t,e,n,i){(i=n._locale.erasParse(t,i,n._strict))?b(n).era=i:b(n).invalidEra=t}),dt("y",ot),dt("yy",ot),dt("yyy",ot),dt("yyyy",ot),dt("yo",function(t,e){return e._eraYearOrdinalRegex||ot}),gt(["y","yy","yyy","yyyy"],yt),gt(["yo"],function(t,e,n,i){var r;n._locale._eraYearOrdinalRegex&&(r=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?e[yt]=n._locale.eraYearOrdinalParse(t,r):e[yt]=parseInt(t,10)}),R(0,["gg",2],0,function(){return this.weekYear()%100}),R(0,["GG",2],0,function(){return this.isoWeekYear()%100}),tn("gggg","weekYear"),tn("ggggg","weekYear"),tn("GGGG","isoWeekYear"),tn("GGGGG","isoWeekYear"),L("weekYear","gg"),L("isoWeekYear","GG"),B("weekYear",1),B("isoWeekYear",1),dt("G",st),dt("g",st),dt("GG",tt,X),dt("gg",tt,X),dt("GGGG",rt,Q),dt("gggg",rt,Q),dt("GGGGG",at,J),dt("ggggg",at,J),mt(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,i){e[i.substr(0,2)]=z(t)}),mt(["gg","GG"],function(t,e,n,i){e[i]=v.parseTwoDigitYear(t)}),R("Q",0,"Qo","quarter"),L("quarter","Q"),B("quarter",7),dt("Q",Z),gt("Q",function(t,e){e[bt]=3*(z(t)-1)}),R("D",["DD",2],"Do","date"),L("date","D"),B("date",9),dt("D",tt),dt("DD",tt,X),dt("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient}),gt(["D","DD"],_t),gt("Do",function(t,e){e[_t]=z(t.match(tt)[0])}),rt=W("Date",!0),R("DDD",["DDDD",3],"DDDo","dayOfYear"),L("dayOfYear","DDD"),B("dayOfYear",4),dt("DDD",it),dt("DDDD",K),gt(["DDD","DDDD"],function(t,e,n){n._dayOfYear=z(t)}),R("m",["mm",2],0,"minute"),L("minute","m"),B("minute",14),dt("m",tt),dt("mm",tt,X),gt(["m","mm"],xt);var nn;Q=W("Minutes",!1),R("s",["ss",2],0,"second"),L("second","s"),B("second",15),dt("s",tt),dt("ss",tt,X),gt(["s","ss"],kt),at=W("Seconds",!1);for(R("S",0,0,function(){return~~(this.millisecond()/100)}),R(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),R(0,["SSS",3],0,"millisecond"),R(0,["SSSS",4],0,function(){return 10*this.millisecond()}),R(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),R(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),R(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),R(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),R(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),L("millisecond","ms"),B("millisecond",16),dt("S",it,Z),dt("SS",it,X),dt("SSS",it,K),nn="SSSS";nn.length<=9;nn+="S")dt(nn,ot);function rn(t,e){e[Ct]=z(1e3*("0."+t))}for(nn="S";nn.length<=9;nn+="S")gt(nn,rn);function an(t){return t}function on(t,e,n,i){var r=le();i=p().set(i,e);return r[n](i,t)}function sn(t,e,n){if(c(t)&&(e=t,t=void 0),t=t||"",null!=e)return on(t,e,n,"month");for(var i=[],r=0;r<12;r++)i[r]=on(t,r,n,"month");return i}function ln(t,e,n,i){"boolean"==typeof t?c(e)&&(n=e,e=void 0):(e=t,t=!1,c(n=e)&&(n=e,e=void 0)),e=e||"";var r,a=le(),o=t?a._week.dow:0,s=[];if(null!=n)return on(e,(n+o)%7,i,"day");for(r=0;r<7;r++)s[r]=on(e,(r+o)%7,i,"day");return s}J=W("Milliseconds",!1),R("z",0,0,"zoneAbbr"),R("zz",0,0,"zoneName"),(Z=x.prototype).add=Mt,Z.calendar=function(t,e){var n,i,r,a;1===arguments.length&&(t?k(n=t)||d(n)||Ue(n)||c(n)||(r=s(i=n),a=!1,r&&(a=0===i.filter(function(t){return!c(t)&&Ue(i)}).length),r&&a)||function(t){var e,n=l(t)&&!u(t),i=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],a=r.length;for(e=0;e<a;e+=1)i=i||y(t,r[e]);return n&&i}(n)||null==n?(t=t,e=void 0):function(t){for(var e=l(t)&&!u(t),n=!1,i=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],r=0;r<i.length;r+=1)n=n||y(t,i[r]);return e&&n}(t)&&(e=t,t=void 0):e=t=void 0);var o=Re(t=t||Se(),this).startOf("day");o=v.calendarFormat(this,o)||"sameElse",e=e&&(S(e[o])?e[o].call(this,t):e[o]);return this.format(e||this.localeData().calendar(o,this,Se(t)))},Z.clone=function(){return new x(this)},Z.diff=function(t,e,n){var i,r,a;if(!this.isValid())return NaN;if(!(i=Re(t,this)).isValid())return NaN;switch(r=6e4*(i.utcOffset()-this.utcOffset()),e=N(e)){case"year":a=ze(this,i)/12;break;case"month":a=ze(this,i);break;case"quarter":a=ze(this,i)/3;break;case"second":a=(this-i)/1e3;break;case"minute":a=(this-i)/6e4;break;case"hour":a=(this-i)/36e5;break;case"day":a=(this-i-r)/864e5;break;case"week":a=(this-i-r)/6048e5;break;default:a=this-i}return n?a:U(a)},Z.endOf=function(t){var e,n;if(void 0===(t=N(t))||"millisecond"===t||!this.isValid())return this;switch(n=this._isUTC?Ke:Xe,t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=36e5-Ze(e+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":e=this._d.valueOf(),e+=6e4-Ze(e,6e4)-1;break;case"second":e=this._d.valueOf(),e+=1e3-Ze(e,1e3)-1}return this._d.setTime(e),v.updateOffset(this,!0),this},Z.format=function(t){return t=I(this,t=t||(this.isUtc()?v.defaultFormatUtc:v.defaultFormat)),this.localeData().postformat(t)},Z.from=function(t,e){return this.isValid()&&(k(t)&&t.isValid()||Se(t).isValid())?Ne({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},Z.fromNow=function(t){return this.from(Se(),t)},Z.to=function(t,e){return this.isValid()&&(k(t)&&t.isValid()||Se(t).isValid())?Ne({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},Z.toNow=function(t){return this.to(Se(),t)},Z.get=function(t){return S(this[t=N(t)])?this[t]():this},Z.invalidAt=function(){return b(this).overflow},Z.isAfter=function(t,e){return t=k(t)?t:Se(t),!(!this.isValid()||!t.isValid())&&("millisecond"===(e=N(e)||"millisecond")?this.valueOf()>t.valueOf():t.valueOf()<this.clone().startOf(e).valueOf())},Z.isBefore=function(t,e){return t=k(t)?t:Se(t),!(!this.isValid()||!t.isValid())&&("millisecond"===(e=N(e)||"millisecond")?this.valueOf()<t.valueOf():this.clone().endOf(e).valueOf()<t.valueOf())},Z.isBetween=function(t,e,n,i){return t=k(t)?t:Se(t),e=k(e)?e:Se(e),!!(this.isValid()&&t.isValid()&&e.isValid())&&("("===(i=i||"()")[0]?this.isAfter(t,n):!this.isBefore(t,n))&&(")"===i[1]?this.isBefore(e,n):!this.isAfter(e,n))},Z.isSame=function(t,e){t=k(t)?t:Se(t);return!(!this.isValid()||!t.isValid())&&("millisecond"===(e=N(e)||"millisecond")?this.valueOf()===t.valueOf():(t=t.valueOf(),this.clone().startOf(e).valueOf()<=t&&t<=this.clone().endOf(e).valueOf()))},Z.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},Z.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},Z.isValid=function(){return g(this)},Z.lang=Wt,Z.locale=We,Z.localeData=qe,Z.max=nt,Z.min=et,Z.parsingFlags=function(){return f({},b(this))},Z.set=function(t,e){if("object"==typeof t)for(var n=function(t){var e,n=[];for(e in t)y(t,e)&&n.push({unit:e,priority:H[e]});return n.sort(function(t,e){return t.priority-e.priority}),n}(t=V(t)),i=n.length,r=0;r<i;r++)this[n[r].unit](t[n[r].unit]);else if(S(this[t=N(t)]))return this[t](e);return this},Z.startOf=function(t){var e,n;if(void 0===(t=N(t))||"millisecond"===t||!this.isValid())return this;switch(n=this._isUTC?Ke:Xe,t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=Ze(e+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":e=this._d.valueOf(),e-=Ze(e,6e4);break;case"second":e=this._d.valueOf(),e-=Ze(e,1e3)}return this._d.setTime(e),v.updateOffset(this,!0),this},Z.subtract=Ut,Z.toArray=function(){return[this.year(),this.month(),this.date(),this.hour(),this.minute(),this.second(),this.millisecond()]},Z.toObject=function(){return{years:this.year(),months:this.month(),date:this.date(),hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()}},Z.toDate=function(){return new Date(this.valueOf())},Z.toISOString=function(t){if(!this.isValid())return null;var e=(t=!0!==t)?this.clone().utc():this;return e.year()<0||9999<e.year()?I(e,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):S(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",I(e,"Z")):I(e,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},Z.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t,e="moment",n="";return this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",n="Z"),e="["+e+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",this.format(e+t+"-MM-DD[T]HH:mm:ss.SSS"+n+'[")]')},"undefined"!=typeof Symbol&&null!=Symbol.for&&(Z[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),Z.toJSON=function(){return this.isValid()?this.toISOString():null},Z.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},Z.unix=function(){return Math.floor(this.valueOf()/1e3)},Z.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},Z.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},Z.eraName=function(){for(var t,e=this.localeData().eras(),n=0,i=e.length;n<i;++n){if(t=this.clone().startOf("day").valueOf(),e[n].since<=t&&t<=e[n].until)return e[n].name;if(e[n].until<=t&&t<=e[n].since)return e[n].name}return""},Z.eraNarrow=function(){for(var t,e=this.localeData().eras(),n=0,i=e.length;n<i;++n){if(t=this.clone().startOf("day").valueOf(),e[n].since<=t&&t<=e[n].until)return e[n].narrow;if(e[n].until<=t&&t<=e[n].since)return e[n].narrow}return""},Z.eraAbbr=function(){for(var t,e=this.localeData().eras(),n=0,i=e.length;n<i;++n){if(t=this.clone().startOf("day").valueOf(),e[n].since<=t&&t<=e[n].until)return e[n].abbr;if(e[n].until<=t&&t<=e[n].since)return e[n].abbr}return""},Z.eraYear=function(){for(var t,e,n=this.localeData().eras(),i=0,r=n.length;i<r;++i)if(t=n[i].since<=n[i].until?1:-1,e=this.clone().startOf("day").valueOf(),n[i].since<=e&&e<=n[i].until||n[i].until<=e&&e<=n[i].since)return(this.year()-v(n[i].since).year())*t+n[i].offset;return this.year()},Z.year=jt,Z.isLeapYear=function(){return Y(this.year())},Z.weekYear=function(t){return en.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},Z.isoWeekYear=function(t){return en.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},Z.quarter=Z.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},Z.month=Rt,Z.daysInMonth=function(){return Tt(this.year(),this.month())},Z.week=Z.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},Z.isoWeek=Z.isoWeeks=function(t){var e=Ht(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},Z.weeksInYear=function(){var t=this.localeData()._week;return Bt(this.year(),t.dow,t.doy)},Z.weeksInWeekYear=function(){var t=this.localeData()._week;return Bt(this.weekYear(),t.dow,t.doy)},Z.isoWeeksInYear=function(){return Bt(this.year(),1,4)},Z.isoWeeksInISOWeekYear=function(){return Bt(this.isoWeekYear(),1,4)},Z.date=rt,Z.day=Z.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e,n,i=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(e=t,n=this.localeData(),t="string"!=typeof e?e:isNaN(e)?"number"==typeof(e=n.weekdaysParse(e))?e:null:parseInt(e,10),this.add(t-i,"d")):i},Z.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},Z.isoWeekday=function(t){return this.isValid()?null!=t?(e=t,n=this.localeData(),n="string"==typeof e?n.weekdaysParse(e)%7||7:isNaN(e)?null:e,this.day(this.day()%7?n:n-7)):this.day()||7:null!=t?this:NaN;var e,n},Z.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},Z.hour=Z.hours=ct,Z.minute=Z.minutes=Q,Z.second=Z.seconds=at,Z.millisecond=Z.milliseconds=J,Z.utcOffset=function(t,e,n){var i,r=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null==t)return this._isUTC?r:Ie(this);if("string"==typeof t){if(null===(t=Ae(ut,t)))return this}else Math.abs(t)<16&&!n&&(t*=60);return!this._isUTC&&e&&(i=Ie(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),r!==t&&(!e||this._changeInProgress?Ye(this,Ne(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,v.updateOffset(this,!0),this._changeInProgress=null)),this},Z.utc=function(t){return this.utcOffset(0,t)},Z.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Ie(this),"m")),this},Z.parseZone=function(){var t;return null!=this._tzm?this.utcOffset(this._tzm,!1,!0):"string"==typeof this._i&&(null!=(t=Ae(lt,this._i))?this.utcOffset(t):this.utcOffset(0,!0)),this},Z.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?Se(t).utcOffset():0,(this.utcOffset()-t)%60==0)},Z.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},Z.isLocal=function(){return!!this.isValid()&&!this._isUTC},Z.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},Z.isUtc=Fe,Z.isUTC=Fe,Z.zoneAbbr=function(){return this._isUTC?"UTC":""},Z.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},Z.dates=n("dates accessor is deprecated. Use date instead.",rt),Z.months=n("months accessor is deprecated. Use month instead",Rt),Z.years=n("years accessor is deprecated. Use year instead",jt),Z.zone=n("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(t,e){return null!=t?(this.utcOffset(t="string"!=typeof t?-t:t,e),this):-this.utcOffset()}),Z.isDSTShifted=n("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!o(this._isDSTShifted))return this._isDSTShifted;var t,e={};return w(e,this),(e=ke(e))._a?(t=(e._isUTC?p:Se)(e._a),this._isDSTShifted=this.isValid()&&0<function(t,e,n){for(var i=Math.min(t.length,e.length),r=Math.abs(t.length-e.length),a=0,o=0;o<i;o++)z(t[o])!==z(e[o])&&a++;return a+r}(e._a,t.toArray())):this._isDSTShifted=!1,this._isDSTShifted}),(X=T.prototype).calendar=function(t,e,n){return S(t=this._calendar[t]||this._calendar.sameElse)?t.call(e,n):t},X.longDateFormat=function(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(O).map(function(t){return"MMMM"===t||"MM"===t||"DD"===t||"dddd"===t?t.slice(1):t}).join(""),this._longDateFormat[t])},X.invalidDate=function(){return this._invalidDate},X.ordinal=function(t){return this._ordinal.replace("%d",t)},X.preparse=an,X.postformat=an,X.relativeTime=function(t,e,n,i){var r=this._relativeTime[n];return S(r)?r(t,e,n,i):r.replace(/%d/i,t)},X.pastFuture=function(t,e){return S(t=this._relativeTime[0<t?"future":"past"])?t(e):t.replace(/%s/i,e)},X.set=function(t){var e,n;for(n in t)y(t,n)&&(S(e=t[n])?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},X.eras=function(t,e){for(var n,i=this._eras||le("en")._eras,r=0,a=i.length;r<a;++r){switch(typeof i[r].since){case"string":n=v(i[r].since).startOf("day"),i[r].since=n.valueOf()}switch(typeof i[r].until){case"undefined":i[r].until=1/0;break;case"string":n=v(i[r].until).startOf("day").valueOf(),i[r].until=n.valueOf()}}return i},X.erasParse=function(t,e,n){var i,r,a,o,s,l=this.eras();for(t=t.toUpperCase(),i=0,r=l.length;i<r;++i)if(a=l[i].name.toUpperCase(),o=l[i].abbr.toUpperCase(),s=l[i].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(o===t)return l[i];break;case"NNNN":if(a===t)return l[i];break;case"NNNNN":if(s===t)return l[i]}else if(0<=[a,o,s].indexOf(t))return l[i]},X.erasConvertYear=function(t,e){var n=t.since<=t.until?1:-1;return void 0===e?v(t.since).year():v(t.since).year()+(e-t.offset)*n},X.erasAbbrRegex=function(t){return y(this,"_erasAbbrRegex")||Je.call(this),t?this._erasAbbrRegex:this._erasRegex},X.erasNameRegex=function(t){return y(this,"_erasNameRegex")||Je.call(this),t?this._erasNameRegex:this._erasRegex},X.erasNarrowRegex=function(t){return y(this,"_erasNarrowRegex")||Je.call(this),t?this._erasNarrowRegex:this._erasRegex},X.months=function(t,e){return t?(s(this._months)?this._months:this._months[(this._months.isFormat||Ot).test(e)?"format":"standalone"])[t.month()]:s(this._months)?this._months:this._months.standalone},X.monthsShort=function(t,e){return t?(s(this._monthsShort)?this._monthsShort:this._monthsShort[Ot.test(e)?"format":"standalone"])[t.month()]:s(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},X.monthsParse=function(t,e,n){var i,r;if(this._monthsParseExact)return function(t,e,n){var i,r,a;t=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)a=p([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(a,"").toLocaleLowerCase();return n?"MMM"===e?-1!==(r=vt.call(this._shortMonthsParse,t))?r:null:-1!==(r=vt.call(this._longMonthsParse,t))?r:null:"MMM"===e?-1!==(r=vt.call(this._shortMonthsParse,t))||-1!==(r=vt.call(this._longMonthsParse,t))?r:null:-1!==(r=vt.call(this._longMonthsParse,t))||-1!==(r=vt.call(this._shortMonthsParse,t))?r:null}.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=p([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(r="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(r.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}},X.monthsRegex=function(t){return this._monthsParseExact?(y(this,"_monthsRegex")||It.call(this),t?this._monthsStrictRegex:this._monthsRegex):(y(this,"_monthsRegex")||(this._monthsRegex=Pt),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},X.monthsShortRegex=function(t){return this._monthsParseExact?(y(this,"_monthsRegex")||It.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(y(this,"_monthsShortRegex")||(this._monthsShortRegex=Et),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},X.week=function(t){return Ht(t,this._week.dow,this._week.doy).week},X.firstDayOfYear=function(){return this._week.doy},X.firstDayOfWeek=function(){return this._week.dow},X.weekdays=function(t,e){return e=s(this._weekdays)?this._weekdays:this._weekdays[t&&!0!==t&&this._weekdays.isFormat.test(e)?"format":"standalone"],!0===t?Yt(e,this._week.dow):t?e[t.day()]:e},X.weekdaysMin=function(t){return!0===t?Yt(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin},X.weekdaysShort=function(t){return!0===t?Yt(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort},X.weekdaysParse=function(t,e,n){var i,r;if(this._weekdaysParseExact)return function(t,e,n){var i,r,a;t=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)a=p([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(a,"").toLocaleLowerCase();return n?"dddd"===e?-1!==(r=vt.call(this._weekdaysParse,t))?r:null:"ddd"===e?-1!==(r=vt.call(this._shortWeekdaysParse,t))?r:null:-1!==(r=vt.call(this._minWeekdaysParse,t))?r:null:"dddd"===e?-1!==(r=vt.call(this._weekdaysParse,t))||-1!==(r=vt.call(this._shortWeekdaysParse,t))||-1!==(r=vt.call(this._minWeekdaysParse,t))?r:null:"ddd"===e?-1!==(r=vt.call(this._shortWeekdaysParse,t))||-1!==(r=vt.call(this._weekdaysParse,t))||-1!==(r=vt.call(this._minWeekdaysParse,t))?r:null:-1!==(r=vt.call(this._minWeekdaysParse,t))||-1!==(r=vt.call(this._weekdaysParse,t))||-1!==(r=vt.call(this._shortWeekdaysParse,t))?r:null}.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(r=p([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(r="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(r.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[i].test(t))return i;if(n&&"ddd"===e&&this._shortWeekdaysParse[i].test(t))return i;if(n&&"dd"===e&&this._minWeekdaysParse[i].test(t))return i;if(!n&&this._weekdaysParse[i].test(t))return i}},X.weekdaysRegex=function(t){return this._weekdaysParseExact?(y(this,"_weekdaysRegex")||Xt.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(y(this,"_weekdaysRegex")||(this._weekdaysRegex=qt),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},X.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(y(this,"_weekdaysRegex")||Xt.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(y(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Gt),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},X.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(y(this,"_weekdaysRegex")||Xt.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(y(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Zt),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},X.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},X.meridiem=function(t,e,n){return 11<t?n?"pm":"PM":n?"am":"AM"},oe("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===z(t%100/10)?"th":1==e?"st":2==e?"nd":3==e?"rd":"th")}}),v.lang=n("moment.lang is deprecated. Use moment.locale instead.",oe),v.langData=n("moment.langData is deprecated. Use moment.localeData instead.",le);var un=Math.abs;function cn(t,e,n,i){return e=Ne(e,n),t._milliseconds+=i*e._milliseconds,t._days+=i*e._days,t._months+=i*e._months,t._bubble()}function dn(t){return t<0?Math.floor(t):Math.ceil(t)}function hn(t){return 4800*t/146097}function fn(t){return 146097*t/4800}function pn(t){return function(){return this.as(t)}}function gn(t){return function(){return this.isValid()?this._data[t]:NaN}}it=pn("ms"),K=pn("s"),Mt=pn("m"),nt=pn("h"),et=pn("d"),Ut=pn("w"),ct=pn("M"),Q=pn("Q"),at=pn("y");J=gn("milliseconds"),rt=gn("seconds"),jt=gn("minutes"),X=gn("hours");var mn=gn("days"),vn=gn("months"),yn=gn("years"),bn=Math.round,_n={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};var wn=Math.abs;function xn(t){return(0<t)-(t<0)||+t}function kn(){if(!this.isValid())return this.localeData().invalidDate();var t,e,n,i,r,a,o,s=wn(this._milliseconds)/1e3,l=wn(this._days),u=wn(this._months),c=this.asSeconds();return c?(e=U((t=U(s/60))/60),s%=60,t%=60,n=U(u/12),u%=12,i=s?s.toFixed(3).replace(/\.?0+$/,""):"",r=xn(this._months)!==xn(c)?"-":"",a=xn(this._days)!==xn(c)?"-":"",o=xn(this._milliseconds)!==xn(c)?"-":"",(c<0?"-":"")+"P"+(n?r+n+"Y":"")+(u?r+u+"M":"")+(l?a+l+"D":"")+(e||t||s?"T":"")+(e?o+e+"H":"")+(t?o+t+"M":"")+(s?o+i+"S":"")):"P0D"}var Cn=Me.prototype;return Cn.isValid=function(){return this._isValid},Cn.abs=function(){var t=this._data;return this._milliseconds=un(this._milliseconds),this._days=un(this._days),this._months=un(this._months),t.milliseconds=un(t.milliseconds),t.seconds=un(t.seconds),t.minutes=un(t.minutes),t.hours=un(t.hours),t.months=un(t.months),t.years=un(t.years),this},Cn.add=function(t,e){return cn(this,t,e,1)},Cn.subtract=function(t,e){return cn(this,t,e,-1)},Cn.as=function(t){if(!this.isValid())return NaN;var e,n,i=this._milliseconds;if("month"===(t=N(t))||"quarter"===t||"year"===t)switch(e=this._days+i/864e5,n=this._months+hn(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(fn(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}},Cn.asMilliseconds=it,Cn.asSeconds=K,Cn.asMinutes=Mt,Cn.asHours=nt,Cn.asDays=et,Cn.asWeeks=Ut,Cn.asMonths=ct,Cn.asQuarters=Q,Cn.asYears=at,Cn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*z(this._months/12):NaN},Cn._bubble=function(){var t=this._milliseconds,e=this._days,n=this._months,i=this._data;return 0<=t&&0<=e&&0<=n||t<=0&&e<=0&&n<=0||(t+=864e5*dn(fn(n)+e),n=e=0),i.milliseconds=t%1e3,t=U(t/1e3),i.seconds=t%60,t=U(t/60),i.minutes=t%60,t=U(t/60),i.hours=t%24,n+=t=U(hn(e+=U(t/24))),e-=dn(fn(t)),t=U(n/12),n%=12,i.days=e,i.months=n,i.years=t,this},Cn.clone=function(){return Ne(this)},Cn.get=function(t){return t=N(t),this.isValid()?this[t+"s"]():NaN},Cn.milliseconds=J,Cn.seconds=rt,Cn.minutes=jt,Cn.hours=X,Cn.days=mn,Cn.weeks=function(){return U(this.days()/7)},Cn.months=vn,Cn.years=yn,Cn.humanize=function(t,e){if(!this.isValid())return this.localeData().invalidDate();var n,i,r,a,o,s,l,u,c,d,h,f=!1,p=_n;return"object"==typeof t&&(e=t,t=!1),"boolean"==typeof t&&(f=t),"object"==typeof e&&(p=Object.assign({},_n,e),null!=e.s&&null==e.ss&&(p.ss=e.s-1)),t=this.localeData(),i=!f,r=p,a=t,o=Ne(n=this).abs(),s=bn(o.as("s")),l=bn(o.as("m")),u=bn(o.as("h")),c=bn(o.as("d")),d=bn(o.as("M")),h=bn(o.as("w")),o=bn(o.as("y")),s=(s<=r.ss?["s",s]:s<r.s&&["ss",s])||l<=1&&["m"]||l<r.m&&["mm",l]||u<=1&&["h"]||u<r.h&&["hh",u]||c<=1&&["d"]||c<r.d&&["dd",c],(s=(s=null!=r.w?s||h<=1&&["w"]||h<r.w&&["ww",h]:s)||d<=1&&["M"]||d<r.M&&["MM",d]||o<=1&&["y"]||["yy",o])[2]=i,s[3]=0<+n,s[4]=a,e=function(t,e,n,i,r){return r.relativeTime(e||1,!!n,t,i)}.apply(null,s),f&&(e=t.pastFuture(+this,e)),t.postformat(e)},Cn.toISOString=kn,Cn.toString=kn,Cn.toJSON=kn,Cn.locale=We,Cn.localeData=qe,Cn.toIsoString=n("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",kn),Cn.lang=Wt,R("X",0,0,"unix"),R("x",0,0,"valueOf"),dt("x",st),dt("X",/[+-]?\d+(\.\d{1,3})?/),gt("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t))}),gt("x",function(t,e,n){n._d=new Date(z(t))}),v.version="2.29.3",t=Se,v.fn=Z,v.min=function(){return De("isBefore",[].slice.call(arguments,0))},v.max=function(){return De("isAfter",[].slice.call(arguments,0))},v.now=function(){return Date.now?Date.now():+new Date},v.utc=p,v.unix=function(t){return Se(1e3*t)},v.months=function(t,e){return sn(t,e,"months")},v.isDate=d,v.locale=oe,v.invalid=m,v.duration=Ne,v.isMoment=k,v.weekdays=function(t,e,n){return ln(t,e,n,"weekdays")},v.parseZone=function(){return Se.apply(null,arguments).parseZone()},v.localeData=le,v.isDuration=$e,v.monthsShort=function(t,e){return sn(t,e,"monthsShort")},v.weekdaysMin=function(t,e,n){return ln(t,e,n,"weekdaysMin")},v.defineLocale=se,v.updateLocale=function(t,e){var n,i;return null!=e?(i=ee,null!=ne[t]&&null!=ne[t].parentLocale?ne[t].set(D(ne[t]._config,e)):(e=D(i=null!=(n=ae(t))?n._config:i,e),null==n&&(e.abbr=t),(i=new T(e)).parentLocale=ne[t],ne[t]=i),oe(t)):null!=ne[t]&&(null!=ne[t].parentLocale?(ne[t]=ne[t].parentLocale,t===oe()&&oe(t)):null!=ne[t]&&delete ne[t]),ne[t]},v.locales=function(){return M(ne)},v.weekdaysShort=function(t,e,n){return ln(t,e,n,"weekdaysShort")},v.normalizeUnits=N,v.relativeTimeRounding=function(t){return void 0===t?bn:"function"==typeof t&&(bn=t,!0)},v.relativeTimeThreshold=function(t,e){return void 0!==_n[t]&&(void 0===e?_n[t]:(_n[t]=e,"s"===t&&(_n.ss=e-1),!0))},v.calendarFormat=function(t,e){return(t=t.diff(e,"days",!0))<-6?"sameElse":t<-1?"lastWeek":t<0?"lastDay":t<1?"sameDay":t<2?"nextDay":t<7?"nextWeek":"sameElse"},v.prototype=Z,v.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},v}),function(t,e){"object"==typeof exports?module.exports=e(require("moment")):"function"==typeof define&&define.amd?define("moment-range",["moment"],e):t.moment=e(t.moment)}(this,function(o){var n,i;return i={year:!0,month:!0,week:!0,day:!0,hour:!0,minute:!0,second:!0},n=function(){function u(t,e){this.start=o(t),this.end=o(e)}return u.prototype.contains=function(t){return t instanceof u?this.start<=t.start&&this.end>=t.end:this.start<=t&&t<=this.end},u.prototype._by_string=function(t,e){var n,i;for(n=o(this.start),i=[];this.contains(n);)e.call(this,n.clone()),i.push(n.add(t,1));return i},u.prototype._by_range=function(t,e){var n,i,r,a;if((i=Math.round(this/t))===1/0)return this;for(a=[],n=r=0;0<=i?r<=i:i<=r;n=0<=i?++r:--r)a.push(e.call(this,o(this.start.valueOf()+t.valueOf()*n)));return a},u.prototype.overlaps=function(t){return null!==this.intersect(t)},u.prototype.intersect=function(t){var e,n,i,r,a,o,s,l;return this.start<=(n=t.start)&&n<(e=this.end)&&e<t.end?new u(t.start,this.end):t.start<(r=this.start)&&r<(i=t.end)&&i<=this.end?new u(this.start,t.end):t.start<(o=this.start)&&o<(a=this.end)&&a<t.end?this:this.start<=(l=t.start)&&l<(s=t.end)&&s<=this.end?t:null},u.prototype.subtract=function(t){var e,n,i,r,a,o,s,l;return null===this.intersect(t)?[this]:t.start<=(n=this.start)&&n<(e=this.end)&&e<=t.end?[]:t.start<=(r=this.start)&&r<(i=t.end)&&i<this.end?[new u(t.end,this.end)]:this.start<(o=t.start)&&o<(a=this.end)&&a<=t.end?[new u(this.start,t.start)]:this.start<(l=t.start)&&l<(s=t.end)&&s<this.end?[new u(this.start,t.start),new u(t.end,this.end)]:void 0},u.prototype.by=function(t,e){return"string"==typeof t?this._by_string(t,e):this._by_range(t,e),this},u.prototype.valueOf=function(){return this.end-this.start},u.prototype.toDate=function(){return[this.start.toDate(),this.end.toDate()]},u.prototype.isSame=function(t){return this.start.isSame(t.start)&&this.end.isSame(t.end)},u.prototype.diff=function(t){return null==t&&(t=void 0),this.end.diff(this.start,t)},u}(),o.fn.range=function(t,e){return t in i?new n(o(this).startOf(t),o(this).endOf(t)):new n(t,e)},o.range=function(t,e){return new n(t,e)},o.fn.within=function(t){return t.contains(this._d)},o}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module&&"function"==typeof require?e(require("../moment")):"function"==typeof define&&define.amd?define(["../moment"],e):e(t.moment)}(this,function(t){"use strict";return t.defineLocale("pt",{months:"janeiro_fevereiro_março_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_Terça-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sábado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sáb".split("_"),weekdaysMin:"Do_2ª_3ª_4ª_5ª_6ª_Sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"há %s",s:"segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",w:"uma semana",ww:"%d semanas",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}),function(){"use strict";function C(t){return angular.isUndefined(t)||null===t}function t(k,t){if(void 0===t){if("function"!=typeof require)throw new Error("Moment cannot be found by angular-moment! Please reference to: https://github.com/urish/angular-moment");t=function(){try{return require("moment")}catch(t){throw new Error("Please install moment via npm. Please reference to: https://github.com/urish/angular-moment")}}()}return k.module("angularMoment",[]).constant("angularMomentConfig",{preprocess:null,timezone:null,format:null,statefulFilters:!0}).constant("moment",t).constant("amTimeAgoConfig",{withoutSuffix:!1,serverTime:null,titleFormat:null,fullDateThreshold:null,fullDateFormat:null,fullDateThresholdUnit:"day"}).directive("amTimeAgo",["$window","moment","amMoment","amTimeAgoConfig",function(b,_,w,x){return function(t,o,e){function s(){var t;if(l)t=l;else if(x.serverTime){var e=(new Date).getTime()-g+x.serverTime;t=_(e)}else t=_();return t}function n(){u&&(b.clearTimeout(u),u=null)}function i(t){v&&o.attr("datetime",t)}function r(){if(n(),a){var t=w.preprocessDate(a);(function t(e){var n=s().diff(e,p),i=h&&h<=n;if(i?o.text(e.format(f)):o.text(e.from(s(),c)),d&&y&&o.attr("title",e.format(d)),!i){var r=Math.abs(s().diff(e,"minute")),a=3600;r<1?a=1:r<60?a=30:r<180&&(a=300),u=b.setTimeout(function(){t(e)},1e3*a)}})(t),i(t.toISOString())}}var a,l,u=null,c=x.withoutSuffix,d=x.titleFormat,h=x.fullDateThreshold,f=x.fullDateFormat,p=x.fullDateThresholdUnit,g=(new Date).getTime(),m=e.amTimeAgo,v="TIME"===o[0].nodeName.toUpperCase(),y=!o.attr("title");t.$watch(m,function(t){return C(t)||""===t?(n(),void(a&&(o.text(""),i(""),a=null))):(a=t,void r())}),k.isDefined(e.amFrom)&&t.$watch(e.amFrom,function(t){l=C(t)||""===t?null:_(t),r()}),k.isDefined(e.amWithoutSuffix)&&t.$watch(e.amWithoutSuffix,function(t){"boolean"==typeof t?(c=t,r()):c=x.withoutSuffix}),e.$observe("amFullDateThreshold",function(t){h=t,r()}),e.$observe("amFullDateFormat",function(t){f=t,r()}),e.$observe("amFullDateThresholdUnit",function(t){p=t,r()}),t.$on("$destroy",function(){n()}),t.$on("amMoment:localeChanged",function(){r()})}}]).service("amMoment",["moment","$rootScope","$log","angularMomentConfig",function(i,r,e,n){var a=null;this.changeLocale=function(t,e){var n=i.locale(t,e);return k.isDefined(t)&&r.$broadcast("amMoment:localeChanged"),n},this.changeTimezone=function(t){i.tz&&i.tz.setDefault?(i.tz.setDefault(t),r.$broadcast("amMoment:timezoneChanged")):e.warn("angular-moment: changeTimezone() works only with moment-timezone.js v0.3.0 or greater."),n.timezone=t,a=t},this.preprocessDate=function(t){return a!==n.timezone&&this.changeTimezone(n.timezone),n.preprocess?n.preprocess(t):i(!isNaN(parseFloat(t))&&isFinite(t)?parseInt(t,10):t)}}]).filter("amParse",["moment",function(n){return function(t,e){return n(t,e)}}]).filter("amFromUnix",["moment",function(e){return function(t){return e.unix(t)}}]).filter("amUtc",["moment",function(e){return function(t){return e.utc(t)}}]).filter("amUtcOffset",["amMoment",function(n){return function(t,e){return n.preprocessDate(t).utcOffset(e)}}]).filter("amLocal",["moment",function(e){return function(t){return e.isMoment(t)?t.local():null}}]).filter("amTimezone",["amMoment","angularMomentConfig","$log",function(i,t,r){return function(t,e){var n=i.preprocessDate(t);return e?n.tz?n.tz(e):(r.warn("angular-moment: named timezone specified but moment.tz() is undefined. Did you forget to include moment-timezone.js ?"),n):n}}]).filter("amCalendar",["moment","amMoment","angularMomentConfig",function(t,r,e){function n(t,e,n){if(C(t))return"";var i=r.preprocessDate(t);return i.isValid()?i.calendar(e,n):""}return n.$stateful=e.statefulFilters,n}]).filter("amDifference",["moment","amMoment","angularMomentConfig",function(o,s,t){function e(t,e,n,i){if(C(t))return"";var r=s.preprocessDate(t),a=C(e)?o():s.preprocessDate(e);return r.isValid()&&a.isValid()?r.diff(a,n,i):""}return e.$stateful=t.statefulFilters,e}]).filter("amDateFormat",["moment","amMoment","angularMomentConfig",function(t,i,e){function n(t,e){if(C(t))return"";var n=i.preprocessDate(t);return n.isValid()?n.format(e):""}return n.$stateful=e.statefulFilters,n}]).filter("amDurationFormat",["moment","angularMomentConfig",function(i,t){function e(t,e,n){return C(t)?"":i.duration(t,e).humanize(n)}return e.$stateful=t.statefulFilters,e}]).filter("amTimeAgo",["moment","amMoment","angularMomentConfig",function(a,o,t){function e(t,e,n){var i,r;return C(t)?"":(t=o.preprocessDate(t),(i=a(t)).isValid()?(r=a(n),!C(n)&&r.isValid()?i.from(r,e):i.fromNow(e)):"")}return e.$stateful=t.statefulFilters,e}]).filter("amSubtract",["moment","angularMomentConfig",function(i,t){function e(t,e,n){return C(t)?"":i(t).subtract(parseInt(e,10),n)}return e.$stateful=t.statefulFilters,e}]).filter("amAdd",["moment","angularMomentConfig",function(i,t){function e(t,e,n){return C(t)?"":i(t).add(parseInt(e,10),n)}return e.$stateful=t.statefulFilters,e}]).filter("amStartOf",["moment","angularMomentConfig",function(n,t){function e(t,e){return C(t)?"":n(t).startOf(e)}return e.$stateful=t.statefulFilters,e}]).filter("amEndOf",["moment","angularMomentConfig",function(n,t){function e(t,e){return C(t)?"":n(t).endOf(e)}return e.$stateful=t.statefulFilters,e}]),"angularMoment"}var e=window&&window.process&&window.process.type;"function"==typeof define&&define.amd?define(["angular","moment"],t):"undefined"!=typeof module&&module&&module.exports&&"function"==typeof require&&!e?module.exports=t(require("angular"),require("moment")):t(angular,("undefined"!=typeof global&&void 0!==global.moment?global:window).moment)}(),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t:t(jQuery)}(function(h){function e(t){var e=t||window.event,n=v.call(arguments,1),i=0,r=0,a=0,o=0,s=0,l=0;if((t=h.event.fix(e)).type="mousewheel","detail"in e&&(a=-1*e.detail),"wheelDelta"in e&&(a=e.wheelDelta),"wheelDeltaY"in e&&(a=e.wheelDeltaY),"wheelDeltaX"in e&&(r=-1*e.wheelDeltaX),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(r=-1*a,a=0),i=0===a?r:a,"deltaY"in e&&(i=a=-1*e.deltaY),"deltaX"in e&&(r=e.deltaX,0===a&&(i=-1*r)),0!==a||0!==r){if(1===e.deltaMode){var u=h.data(this,"mousewheel-line-height");i*=u,a*=u,r*=u}else if(2===e.deltaMode){var c=h.data(this,"mousewheel-page-height");i*=c,a*=c,r*=c}if(o=Math.max(Math.abs(a),Math.abs(r)),(!m||o<m)&&(p(e,m=o)&&(m/=40)),p(e,o)&&(i/=40,r/=40,a/=40),i=Math[1<=i?"floor":"ceil"](i/m),r=Math[1<=r?"floor":"ceil"](r/m),a=Math[1<=a?"floor":"ceil"](a/m),y.settings.normalizeOffset&&this.getBoundingClientRect){var d=this.getBoundingClientRect();s=t.clientX-d.left,l=t.clientY-d.top}return t.deltaX=r,t.deltaY=a,t.deltaFactor=m,t.offsetX=s,t.offsetY=l,t.deltaMode=0,n.unshift(t,i,r,a),g&&clearTimeout(g),g=setTimeout(f,200),(h.event.dispatch||h.event.handle).apply(this,n)}}function f(){m=null}function p(t,e){return y.settings.adjustOldDeltas&&"mousewheel"===t.type&&e%120==0}var g,m,t=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],n="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],v=Array.prototype.slice;if(h.event.fixHooks)for(var i=t.length;i;)h.event.fixHooks[t[--i]]=h.event.mouseHooks;var y=h.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var t=n.length;t;)this.addEventListener(n[--t],e,!1);else this.onmousewheel=e;h.data(this,"mousewheel-line-height",y.getLineHeight(this)),h.data(this,"mousewheel-page-height",y.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var t=n.length;t;)this.removeEventListener(n[--t],e,!1);else this.onmousewheel=null;h.removeData(this,"mousewheel-line-height"),h.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var e=h(t),n=e["offsetParent"in h.fn?"offsetParent":"parent"]();return n.length||(n=h("body")),parseInt(n.css("fontSize"),10)||parseInt(e.css("fontSize"),10)||16},getPageHeight:function(t){return h(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};h.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t:t(jQuery)}(function(h){function e(t){var e=t||window.event,n=v.call(arguments,1),i=0,r=0,a=0,o=0,s=0,l=0;if((t=h.event.fix(e)).type="mousewheel","detail"in e&&(a=-1*e.detail),"wheelDelta"in e&&(a=e.wheelDelta),"wheelDeltaY"in e&&(a=e.wheelDeltaY),"wheelDeltaX"in e&&(r=-1*e.wheelDeltaX),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(r=-1*a,a=0),i=0===a?r:a,"deltaY"in e&&(i=a=-1*e.deltaY),"deltaX"in e&&(r=e.deltaX,0===a&&(i=-1*r)),0!==a||0!==r){if(1===e.deltaMode){var u=h.data(this,"mousewheel-line-height");i*=u,a*=u,r*=u}else if(2===e.deltaMode){var c=h.data(this,"mousewheel-page-height");i*=c,a*=c,r*=c}if(o=Math.max(Math.abs(a),Math.abs(r)),(!m||o<m)&&(p(e,m=o)&&(m/=40)),p(e,o)&&(i/=40,r/=40,a/=40),i=Math[1<=i?"floor":"ceil"](i/m),r=Math[1<=r?"floor":"ceil"](r/m),a=Math[1<=a?"floor":"ceil"](a/m),y.settings.normalizeOffset&&this.getBoundingClientRect){var d=this.getBoundingClientRect();s=t.clientX-d.left,l=t.clientY-d.top}return t.deltaX=r,t.deltaY=a,t.deltaFactor=m,t.offsetX=s,t.offsetY=l,t.deltaMode=0,n.unshift(t,i,r,a),g&&clearTimeout(g),g=setTimeout(f,200),(h.event.dispatch||h.event.handle).apply(this,n)}}function f(){m=null}function p(t,e){return y.settings.adjustOldDeltas&&"mousewheel"===t.type&&e%120==0}var g,m,t=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],n="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],v=Array.prototype.slice;if(h.event.fixHooks)for(var i=t.length;i;)h.event.fixHooks[t[--i]]=h.event.mouseHooks;var y=h.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var t=n.length;t;)this.addEventListener(n[--t],e,!1);else this.onmousewheel=e;h.data(this,"mousewheel-line-height",y.getLineHeight(this)),h.data(this,"mousewheel-page-height",y.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var t=n.length;t;)this.removeEventListener(n[--t],e,!1);else this.onmousewheel=null;h.removeData(this,"mousewheel-line-height"),h.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var e=h(t),n=e["offsetParent"in h.fn?"offsetParent":"parent"]();return n.length||(n=h("body")),parseInt(n.css("fontSize"),10)||parseInt(e.css("fontSize"),10)||16},getPageHeight:function(t){return h(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};h.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof module&&module.exports?module.exports=t:t(jQuery,window,document)}(function(j){var L,f,N,i,r,s,a,m,V,w,p,u,l,c,d,h,g,v,y,b,_,x,T,k,C,S,D,M,H,o,$,O,E,P,B,A,R,I,F,Y,U,z,W,q,G,Z,X,K,Q,J,tt,et,nt,it,rt,at,ot,t,e,n;t="function"==typeof define&&define.amd,e="undefined"!=typeof module&&module.exports,n="https:"==document.location.protocol?"https:":"http:",t||(e?require("jquery-mousewheel")(j):j.event.special.mousewheel||j("head").append(decodeURI("%3Cscript src="+n+"//cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js%3E%3C/script%3E"))),f="mCustomScrollbar",N="mCS",i=".mCustomScrollbar",r={setTop:0,setLeft:0,axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:!0,alwaysShowScrollbar:0,snapOffset:0,mouseWheel:{enable:!0,scrollAmount:"auto",axis:"y",deltaFactor:"auto",disableOver:["select","option","keygen","datalist","textarea"]},scrollButtons:{scrollType:"stepless",scrollAmount:"auto"},keyboard:{enable:!0,scrollType:"stepless",scrollAmount:"auto"},contentTouchScroll:25,documentTouchScroll:!0,advanced:{autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",updateOnContentResize:!0,updateOnImageLoad:"auto",autoUpdateTimeout:60},theme:"light",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0}},s=0,a={},m=window.attachEvent&&!window.addEventListener?1:0,V=!1,w=["mCSB_dragger_onDrag","mCSB_scrollTools_onDrag","mCS_img_loaded","mCS_disabled","mCS_destroyed","mCS_no_scrollbar","mCS-autoHide","mCS-dir-rtl","mCS_no_scrollbar_y","mCS_no_scrollbar_x","mCS_y_hidden","mCS_x_hidden","mCSB_draggerContainer","mCSB_buttonUp","mCSB_buttonDown","mCSB_buttonLeft","mCSB_buttonRight"],p={init:function(o){var o=j.extend(!0,{},r,o),t=u.call(this);if(o.live){var e=o.liveSelector||this.selector||i,n=j(e);if("off"===o.live)return void c(e);a[e]=setTimeout(function(){n.mCustomScrollbar(o),"once"===o.live&&n.length&&c(e)},500)}else c(e);return o.setWidth=o.set_width?o.set_width:o.setWidth,o.setHeight=o.set_height?o.set_height:o.setHeight,o.axis=o.horizontalScroll?"x":d(o.axis),o.scrollInertia=0<o.scrollInertia&&o.scrollInertia<17?17:o.scrollInertia,"object"!=typeof o.mouseWheel&&1==o.mouseWheel&&(o.mouseWheel={enable:!0,scrollAmount:"auto",axis:"y",preventDefault:!1,deltaFactor:"auto",normalizeDelta:!1,invert:!1}),o.mouseWheel.scrollAmount=o.mouseWheelPixels?o.mouseWheelPixels:o.mouseWheel.scrollAmount,o.mouseWheel.normalizeDelta=o.advanced.normalizeMouseWheelDelta?o.advanced.normalizeMouseWheelDelta:o.mouseWheel.normalizeDelta,o.scrollButtons.scrollType=h(o.scrollButtons.scrollType),l(o),j(t).each(function(){var t=j(this);if(!t.data(N)){t.data(N,{idx:++s,opt:o,scrollRatio:{y:null,x:null},overflowed:null,contentReset:{y:null,x:null},bindEvents:!1,tweenRunning:!1,sequential:{},langDir:t.css("direction"),cbOffsets:null,trigger:null,poll:{size:{o:0,n:0},img:{o:0,n:0},change:{o:0,n:0}}});var e=t.data(N),n=e.opt,i=t.data("mcs-axis"),r=t.data("mcs-scrollbar-position"),a=t.data("mcs-theme");i&&(n.axis=i),r&&(n.scrollbarPosition=r),a&&(n.theme=a,l(n)),g.call(this),e&&n.callbacks.onCreate&&"function"==typeof n.callbacks.onCreate&&n.callbacks.onCreate.call(this),j("#mCSB_"+e.idx+"_container img:not(."+w[2]+")").addClass(w[2]),p.update.call(null,t)}})},update:function(t,s){var e=t||u.call(this);return j(e).each(function(){var t=j(this);if(t.data(N)){var e=t.data(N),n=e.opt,i=j("#mCSB_"+e.idx+"_container"),r=j("#mCSB_"+e.idx),a=[j("#mCSB_"+e.idx+"_dragger_vertical"),j("#mCSB_"+e.idx+"_dragger_horizontal")];if(!i.length)return;e.tweenRunning&&X(t),s&&e&&n.callbacks.onBeforeUpdate&&"function"==typeof n.callbacks.onBeforeUpdate&&n.callbacks.onBeforeUpdate.call(this),t.hasClass(w[3])&&t.removeClass(w[3]),t.hasClass(w[4])&&t.removeClass(w[4]),r.css("max-height","none"),r.height()!==t.height()&&r.css("max-height",t.height()),y.call(this),"y"===n.axis||n.advanced.autoExpandHorizontalScroll||i.css("width",v(i)),e.overflowed=k.call(this),M.call(this),n.autoDraggerLength&&_.call(this),x.call(this),S.call(this);var o=[Math.abs(i[0].offsetTop),Math.abs(i[0].offsetLeft)];"x"!==n.axis&&(e.overflowed[0]?a[0].height()>a[0].parent().height()?C.call(this):(K(t,o[0].toString(),{dir:"y",dur:0,overwrite:"none"}),e.contentReset.y=null):(C.call(this),"y"===n.axis?D.call(this):"yx"===n.axis&&e.overflowed[1]&&K(t,o[1].toString(),{dir:"x",dur:0,overwrite:"none"}))),"y"!==n.axis&&(e.overflowed[1]?a[1].width()>a[1].parent().width()?C.call(this):(K(t,o[1].toString(),{dir:"x",dur:0,overwrite:"none"}),e.contentReset.x=null):(C.call(this),"x"===n.axis?D.call(this):"yx"===n.axis&&e.overflowed[0]&&K(t,o[0].toString(),{dir:"y",dur:0,overwrite:"none"}))),s&&e&&(2===s&&n.callbacks.onImageLoad&&"function"==typeof n.callbacks.onImageLoad?n.callbacks.onImageLoad.call(this):3===s&&n.callbacks.onSelectorChange&&"function"==typeof n.callbacks.onSelectorChange?n.callbacks.onSelectorChange.call(this):n.callbacks.onUpdate&&"function"==typeof n.callbacks.onUpdate&&n.callbacks.onUpdate.call(this)),Z.call(this)}})},scrollTo:function(s,l){if(void 0!==s&&null!=s){var t=u.call(this);return j(t).each(function(){var t=j(this);if(t.data(N)){var e=t.data(N),n=e.opt,i={trigger:"external",scrollInertia:n.scrollInertia,scrollEasing:"mcsEaseInOut",moveDragger:!1,timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},r=j.extend(!0,{},i,l),a=q.call(this,s),o=0<r.scrollInertia&&r.scrollInertia<17?17:r.scrollInertia;a[0]=G.call(this,a[0],"y"),a[1]=G.call(this,a[1],"x"),r.moveDragger&&(a[0]*=e.scrollRatio.y,a[1]*=e.scrollRatio.x),r.dur=ot()?0:o,setTimeout(function(){null!==a[0]&&void 0!==a[0]&&"x"!==n.axis&&e.overflowed[0]&&(r.dir="y",r.overwrite="all",K(t,a[0].toString(),r)),null!==a[1]&&void 0!==a[1]&&"y"!==n.axis&&e.overflowed[1]&&(r.dir="x",r.overwrite="none",K(t,a[1].toString(),r))},r.timeout)}})}},stop:function(){var t=u.call(this);return j(t).each(function(){var t=j(this);t.data(N)&&X(t)})},disable:function(e){var t=u.call(this);return j(t).each(function(){var t=j(this);t.data(N)&&(t.data(N),Z.call(this,"remove"),D.call(this),e&&C.call(this),M.call(this,!0),t.addClass(w[3]))})},destroy:function(){var o=u.call(this);return j(o).each(function(){var t=j(this);if(t.data(N)){var e=t.data(N),n=e.opt,i=j("#mCSB_"+e.idx),r=j("#mCSB_"+e.idx+"_container"),a=j(".mCSB_"+e.idx+"_scrollbar");n.live&&c(n.liveSelector||j(o).selector),Z.call(this,"remove"),D.call(this),C.call(this),t.removeData(N),et(this,"mcs"),a.remove(),r.find("img."+w[2]).removeClass(w[2]),i.replaceWith(r.contents()),t.removeClass(f+" _"+N+"_"+e.idx+" "+w[6]+" "+w[7]+" "+w[5]+" "+w[3]).addClass(w[4])}})}},u=function(){return"object"!=typeof j(this)||j(this).length<1?i:this},l=function(t){t.autoDraggerLength=!(-1<j.inArray(t.theme,["rounded","rounded-dark","rounded-dots","rounded-dots-dark"]))&&t.autoDraggerLength,t.autoExpandScrollbar=!(-1<j.inArray(t.theme,["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"]))&&t.autoExpandScrollbar,t.scrollButtons.enable=!(-1<j.inArray(t.theme,["minimal","minimal-dark"]))&&t.scrollButtons.enable,t.autoHideScrollbar=-1<j.inArray(t.theme,["minimal","minimal-dark"])||t.autoHideScrollbar,t.scrollbarPosition=-1<j.inArray(t.theme,["minimal","minimal-dark"])?"outside":t.scrollbarPosition},c=function(t){a[t]&&(clearTimeout(a[t]),et(a,t))},d=function(t){return"yx"===t||"xy"===t||"auto"===t?"yx":"x"===t||"horizontal"===t?"x":"y"},h=function(t){return"stepped"===t||"pixels"===t||"step"===t||"click"===t?"stepped":"stepless"},g=function(){var t=j(this),e=t.data(N),n=e.opt,i=n.autoExpandScrollbar?" "+w[1]+"_expand":"",r=["<div id='mCSB_"+e.idx+"_scrollbar_vertical' class='mCSB_scrollTools mCSB_"+e.idx+"_scrollbar mCS-"+n.theme+" mCSB_scrollTools_vertical"+i+"'><div class='"+w[12]+"'><div id='mCSB_"+e.idx+"_dragger_vertical' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>","<div id='mCSB_"+e.idx+"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_"+e.idx+"_scrollbar mCS-"+n.theme+" mCSB_scrollTools_horizontal"+i+"'><div class='"+w[12]+"'><div id='mCSB_"+e.idx+"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],a="yx"===n.axis?"mCSB_vertical_horizontal":"x"===n.axis?"mCSB_horizontal":"mCSB_vertical",o="yx"===n.axis?r[0]+r[1]:"x"===n.axis?r[1]:r[0],s="yx"===n.axis?"<div id='mCSB_"+e.idx+"_container_wrapper' class='mCSB_container_wrapper' />":"",l=n.autoHideScrollbar?" "+w[6]:"",u="x"!==n.axis&&"rtl"===e.langDir?" "+w[7]:"";n.setWidth&&t.css("width",n.setWidth),n.setHeight&&t.css("height",n.setHeight),n.setLeft="y"!==n.axis&&"rtl"===e.langDir?"989999px":n.setLeft,t.addClass(f+" _"+N+"_"+e.idx+l+u).wrapInner("<div id='mCSB_"+e.idx+"' class='mCustomScrollBox mCS-"+n.theme+" "+a+"'><div id='mCSB_"+e.idx+"_container' class='mCSB_container' style='position:relative; top:"+n.setTop+"; left:"+n.setLeft+";' dir='"+e.langDir+"' /></div>");var c=j("#mCSB_"+e.idx),d=j("#mCSB_"+e.idx+"_container");"y"===n.axis||n.advanced.autoExpandHorizontalScroll||d.css("width",v(d)),"outside"===n.scrollbarPosition?("static"===t.css("position")&&t.css("position","relative"),t.css("overflow","visible"),c.addClass("mCSB_outside").after(o)):(c.addClass("mCSB_inside").append(o),d.wrap(s)),b.call(this);var h=[j("#mCSB_"+e.idx+"_dragger_vertical"),j("#mCSB_"+e.idx+"_dragger_horizontal")];h[0].css("min-height",h[0].height()),h[1].css("min-width",h[1].width())},v=function(t){var e=[t[0].scrollWidth,Math.max.apply(Math,t.children().map(function(){return j(this).outerWidth(!0)}).get())],n=t.parent().width();return n<e[0]?e[0]:n<e[1]?e[1]:"100%"},y=function(){var t=j(this),e=t.data(N),n=e.opt,i=j("#mCSB_"+e.idx+"_container");if(n.advanced.autoExpandHorizontalScroll&&"y"!==n.axis){i.css({width:"auto","min-width":0,"overflow-x":"scroll"});var r=Math.ceil(i[0].scrollWidth);3===n.advanced.autoExpandHorizontalScroll||2!==n.advanced.autoExpandHorizontalScroll&&r>i.parent().width()?i.css({width:r,"min-width":"100%","overflow-x":"inherit"}):i.css({"overflow-x":"inherit",position:"absolute"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(i[0].getBoundingClientRect().right+.4)-Math.floor(i[0].getBoundingClientRect().left),"min-width":"100%",position:"relative"}).unwrap()}},b=function(){var t=j(this),e=t.data(N),n=e.opt,i=j(".mCSB_"+e.idx+"_scrollbar:first"),r=rt(n.scrollButtons.tabindex)?"tabindex='"+n.scrollButtons.tabindex+"'":"",a=["<a href='#' class='"+w[13]+"' "+r+" />","<a href='#' class='"+w[14]+"' "+r+" />","<a href='#' class='"+w[15]+"' "+r+" />","<a href='#' class='"+w[16]+"' "+r+" />"],o=["x"===n.axis?a[2]:a[0],"x"===n.axis?a[3]:a[1],a[2],a[3]];n.scrollButtons.enable&&i.prepend(o[0]).append(o[1]).next(".mCSB_scrollTools").prepend(o[2]).append(o[3])},_=function(){var t=j(this),e=t.data(N),n=j("#mCSB_"+e.idx),i=j("#mCSB_"+e.idx+"_container"),r=[j("#mCSB_"+e.idx+"_dragger_vertical"),j("#mCSB_"+e.idx+"_dragger_horizontal")],a=[n.height()/i.outerHeight(!1),n.width()/i.outerWidth(!1)],o=[parseInt(r[0].css("min-height")),Math.round(a[0]*r[0].parent().height()),parseInt(r[1].css("min-width")),Math.round(a[1]*r[1].parent().width())],s=m&&o[1]<o[0]?o[0]:o[1],l=m&&o[3]<o[2]?o[2]:o[3];r[0].css({height:s,"max-height":r[0].parent().height()-10}).find(".mCSB_dragger_bar").css({"line-height":o[0]+"px"}),r[1].css({width:l,"max-width":r[1].parent().width()-10})},x=function(){var t=j(this),e=t.data(N),n=j("#mCSB_"+e.idx),i=j("#mCSB_"+e.idx+"_container"),r=[j("#mCSB_"+e.idx+"_dragger_vertical"),j("#mCSB_"+e.idx+"_dragger_horizontal")],a=[i.outerHeight(!1)-n.height(),i.outerWidth(!1)-n.width()],o=[a[0]/(r[0].parent().height()-r[0].height()),a[1]/(r[1].parent().width()-r[1].width())];e.scrollRatio={y:o[0],x:o[1]}},T=function(t,e,n){var i=n?w[0]+"_expanded":"",r=t.closest(".mCSB_scrollTools");"active"===e?(t.toggleClass(w[0]+" "+i),r.toggleClass(w[1]),t[0]._draggable=t[0]._draggable?0:1):t[0]._draggable||("hide"===e?(t.removeClass(w[0]),r.removeClass(w[1])):(t.addClass(w[0]),r.addClass(w[1])))},k=function(){var t=j(this),e=t.data(N),n=j("#mCSB_"+e.idx),i=j("#mCSB_"+e.idx+"_container"),r=null==e.overflowed?i.height():i.outerHeight(!1),a=null==e.overflowed?i.width():i.outerWidth(!1),o=i[0].scrollHeight,s=i[0].scrollWidth;return r<o&&(r=o),a<s&&(a=s),[r>n.height(),a>n.width()]},C=function(){var t=j(this),e=t.data(N),n=e.opt,i=j("#mCSB_"+e.idx),r=j("#mCSB_"+e.idx+"_container"),a=[j("#mCSB_"+e.idx+"_dragger_vertical"),j("#mCSB_"+e.idx+"_dragger_horizontal")];if(X(t),("x"!==n.axis&&!e.overflowed[0]||"y"===n.axis&&e.overflowed[0])&&(a[0].add(r).css("top",0),K(t,"_resetY")),"y"!==n.axis&&!e.overflowed[1]||"x"===n.axis&&e.overflowed[1]){var o=dx=0;"rtl"===e.langDir&&(o=i.width()-r.outerWidth(!1),dx=Math.abs(o/e.scrollRatio.x)),r.css("left",o),a[1].css("left",dx),K(t,"_resetX")}},S=function(){var e,n=j(this),t=n.data(N),i=t.opt;t.bindEvents||(o.call(this),i.contentTouchScroll&&$.call(this),O.call(this),i.mouseWheel.enable&&function t(){e=setTimeout(function(){j.event.special.mousewheel?(clearTimeout(e),E.call(n[0])):t()},100)}(),I.call(this),Y.call(this),i.advanced.autoScrollOnFocus&&F.call(this),i.scrollButtons.enable&&U.call(this),i.keyboard.enable&&z.call(this),t.bindEvents=!0)},D=function(){var t=j(this),e=t.data(N),n=e.opt,i="mCS_"+e.idx,r=".mCSB_"+e.idx+"_scrollbar",a=j("#mCSB_"+e.idx+",#mCSB_"+e.idx+"_container,#mCSB_"+e.idx+"_container_wrapper,"+r+" ."+w[12]+",#mCSB_"+e.idx+"_dragger_vertical,#mCSB_"+e.idx+"_dragger_horizontal,"+r+">a"),o=j("#mCSB_"+e.idx+"_container");n.advanced.releaseDraggableSelectors&&a.add(j(n.advanced.releaseDraggableSelectors)),n.advanced.extraDraggableSelectors&&a.add(j(n.advanced.extraDraggableSelectors)),e.bindEvents&&(j(document).add(j(!B()||top.document)).unbind("."+i),a.each(function(){j(this).unbind("."+i)}),clearTimeout(t[0]._focusTimeout),et(t[0],"_focusTimeout"),clearTimeout(e.sequential.step),et(e.sequential,"step"),clearTimeout(o[0].onCompleteTimeout),et(o[0],"onCompleteTimeout"),e.bindEvents=!1)},M=function(t){var e=j(this),n=e.data(N),i=n.opt,r=j("#mCSB_"+n.idx+"_container_wrapper"),a=r.length?r:j("#mCSB_"+n.idx+"_container"),o=[j("#mCSB_"+n.idx+"_scrollbar_vertical"),j("#mCSB_"+n.idx+"_scrollbar_horizontal")],s=[o[0].find(".mCSB_dragger"),o[1].find(".mCSB_dragger")];"x"!==i.axis&&(n.overflowed[0]&&!t?(o[0].add(s[0]).add(o[0].children("a")).css("display","block"),a.removeClass(w[8]+" "+w[10])):(i.alwaysShowScrollbar?(2!==i.alwaysShowScrollbar&&s[0].css("display","none"),a.removeClass(w[10])):(o[0].css("display","none"),a.addClass(w[10])),a.addClass(w[8]))),"y"!==i.axis&&(n.overflowed[1]&&!t?(o[1].add(s[1]).add(o[1].children("a")).css("display","block"),a.removeClass(w[9]+" "+w[11])):(i.alwaysShowScrollbar?(2!==i.alwaysShowScrollbar&&s[1].css("display","none"),a.removeClass(w[11])):(o[1].css("display","none"),a.addClass(w[11])),a.addClass(w[9]))),n.overflowed[0]||n.overflowed[1]?e.removeClass(w[5]):e.addClass(w[5])},H=function(t){var e=t.type,n=t.target.ownerDocument!==document&&null!==frameElement?[j(frameElement).offset().top,j(frameElement).offset().left]:null,i=B()&&t.target.ownerDocument!==top.document&&null!==frameElement?[j(t.view.frameElement).offset().top,j(t.view.frameElement).offset().left]:[0,0];switch(e){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return n?[t.originalEvent.pageY-n[0]+i[0],t.originalEvent.pageX-n[1]+i[1],!1]:[t.originalEvent.pageY,t.originalEvent.pageX,!1];case"touchstart":case"touchmove":case"touchend":var r=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0],a=t.originalEvent.touches.length||t.originalEvent.changedTouches.length;return t.target.ownerDocument!==document?[r.screenY,r.screenX,1<a]:[r.pageY,r.pageX,1<a];default:return n?[t.pageY-n[0]+i[0],t.pageX-n[1]+i[1],!1]:[t.pageY,t.pageX,!1]}},o=function(){function r(t,e,n,i){if(f[0].idleTimer=d.scrollInertia<233?250:0,o.attr("id")===h[1])var r="x",a=(o[0].offsetLeft-e+i)*c.scrollRatio.x;else var r="y",a=(o[0].offsetTop-t+n)*c.scrollRatio.y;K(u,a.toString(),{dir:r,drag:!0})}var o,s,l,u=j(this),c=u.data(N),d=c.opt,t="mCS_"+c.idx,h=["mCSB_"+c.idx+"_dragger_vertical","mCSB_"+c.idx+"_dragger_horizontal"],f=j("#mCSB_"+c.idx+"_container"),e=j("#"+h[0]+",#"+h[1]),n=d.advanced.releaseDraggableSelectors?e.add(j(d.advanced.releaseDraggableSelectors)):e,i=d.advanced.extraDraggableSelectors?j(!B()||top.document).add(j(d.advanced.extraDraggableSelectors)):j(!B()||top.document);e.bind("contextmenu."+t,function(t){t.preventDefault()}).bind("mousedown."+t+" touchstart."+t+" pointerdown."+t+" MSPointerDown."+t,function(t){if(t.stopImmediatePropagation(),t.preventDefault(),nt(t)){V=!0,m&&(document.onselectstart=function(){return!1}),A.call(f,!1),X(u);var e=(o=j(this)).offset(),n=H(t)[0]-e.top,i=H(t)[1]-e.left,r=o.height()+e.top,a=o.width()+e.left;n<r&&0<n&&i<a&&0<i&&(s=n,l=i),T(o,"active",d.autoExpandScrollbar)}}).bind("touchmove."+t,function(t){t.stopImmediatePropagation(),t.preventDefault();var e=o.offset(),n=H(t)[0]-e.top,i=H(t)[1]-e.left;r(s,l,n,i)}),j(document).add(i).bind("mousemove."+t+" pointermove."+t+" MSPointerMove."+t,function(t){if(o){var e=o.offset(),n=H(t)[0]-e.top,i=H(t)[1]-e.left;if(s===n&&l===i)return;r(s,l,n,i)}}).add(n).bind("mouseup."+t+" touchend."+t+" pointerup."+t+" MSPointerUp."+t,function(){o&&(T(o,"active",d.autoExpandScrollbar),o=null),V=!1,m&&(document.onselectstart=null),A.call(f,!0)})},$=function(){function e(t){if(!it(t)||V||H(t)[2])L=0;else{C=k=0,h=L=1,S.removeClass("mCS_touch_action");var e=$.offset();u=H(t)[0]-e.top,f=H(t)[1]-e.left,I=[H(t)[0],H(t)[1]]}}function n(t){if(it(t)&&!V&&!H(t)[2]&&(T.documentTouchScroll||t.preventDefault(),t.stopImmediatePropagation(),(!C||k)&&h)){v=J();var e=M.offset(),n=H(t)[0]-e.top,i=H(t)[1]-e.left,r="mcsLinearOut";if(E.push(n),P.push(i),I[2]=Math.abs(H(t)[0]-I[0]),I[3]=Math.abs(H(t)[1]-I[1]),D.overflowed[0])var a=O[0].parent().height()-O[0].height(),o=0<u-n&&n-u>-a*D.scrollRatio.y&&(2*I[3]<I[2]||"yx"===T.axis);if(D.overflowed[1])var s=O[1].parent().width()-O[1].width(),l=0<f-i&&i-f>-s*D.scrollRatio.x&&(2*I[2]<I[3]||"yx"===T.axis);o||l?(F||t.preventDefault(),k=1):(C=1,S.addClass("mCS_touch_action")),F&&t.preventDefault(),w="yx"===T.axis?[u-n,f-i]:"x"===T.axis?[null,f-i]:[u-n,null],$[0].idleTimer=250,D.overflowed[0]&&d(w[0],A,r,"y","all",!0),D.overflowed[1]&&d(w[1],A,r,"x",R,!0)}}function i(t){if(!it(t)||V||H(t)[2])L=0;else{L=1,t.stopImmediatePropagation(),X(S),m=J();var e=M.offset();p=H(t)[0]-e.top,g=H(t)[1]-e.left,E=[],P=[]}}function r(t){if(it(t)&&!V&&!H(t)[2]){h=0,t.stopImmediatePropagation(),C=k=0,y=J();var e=M.offset(),n=H(t)[0]-e.top,i=H(t)[1]-e.left;if(!(30<y-v)){var r="mcsEaseOut",a=(_=1e3/(y-m))<2.5,o=a?[E[E.length-2],P[P.length-2]]:[0,0];b=a?[n-o[0],i-o[1]]:[n-p,i-g];var s=[Math.abs(b[0]),Math.abs(b[1])];_=a?[Math.abs(b[0]/4),Math.abs(b[1]/4)]:[_,_];var l=[Math.abs($[0].offsetTop)-b[0]*c(s[0]/_[0],_[0]),Math.abs($[0].offsetLeft)-b[1]*c(s[1]/_[1],_[1])];w="yx"===T.axis?[l[0],l[1]]:"x"===T.axis?[null,l[1]]:[l[0],null],x=[4*s[0]+T.scrollInertia,4*s[1]+T.scrollInertia];var u=parseInt(T.contentTouchScroll)||0;w[0]=u<s[0]?w[0]:0,w[1]=u<s[1]?w[1]:0,D.overflowed[0]&&d(w[0],x[0],r,"y",R,!1),D.overflowed[1]&&d(w[1],x[1],r,"x",R,!1)}}}function c(t,e){var n=[1.5*e,2*e,e/1.5,e/2];return 90<t?4<e?n[0]:n[3]:60<t?3<e?n[3]:n[2]:30<t?8<e?n[1]:6<e?n[0]:4<e?e:n[2]:8<e?e:n[3]}function d(t,e,n,i,r,a){t&&K(S,t.toString(),{dur:e,scrollEasing:n,dir:i,overwrite:r,drag:a})}var h,u,f,p,g,m,v,y,b,_,w,x,k,C,S=j(this),D=S.data(N),T=D.opt,t="mCS_"+D.idx,M=j("#mCSB_"+D.idx),$=j("#mCSB_"+D.idx+"_container"),O=[j("#mCSB_"+D.idx+"_dragger_vertical"),j("#mCSB_"+D.idx+"_dragger_horizontal")],E=[],P=[],A=0,R="yx"===T.axis?"none":"all",I=[],a=$.find("iframe"),o=["touchstart."+t+" pointerdown."+t+" MSPointerDown."+t,"touchmove."+t+" pointermove."+t+" MSPointerMove."+t,"touchend."+t+" pointerup."+t+" MSPointerUp."+t],F=void 0!==document.body.style.touchAction&&""!==document.body.style.touchAction;$.bind(o[0],function(t){e(t)}).bind(o[1],function(t){n(t)}),M.bind(o[0],function(t){i(t)}).bind(o[2],function(t){r(t)}),a.length&&a.each(function(){j(this).bind("load",function(){B(this)&&j(this.contentDocument||this.contentWindow.document).bind(o[0],function(t){e(t),i(t)}).bind(o[1],function(t){n(t)}).bind(o[2],function(t){r(t)})})})},O=function(){function r(t,e,n){l.type=n&&a?"stepped":"stepless",l.scrollAmount=10,W(i,t,e,"mcsLinearOut",n?60:null)}var a,i=j(this),o=i.data(N),s=o.opt,l=o.sequential,t="mCS_"+o.idx,u=j("#mCSB_"+o.idx+"_container"),c=u.parent();u.bind("mousedown."+t,function(){L||a||(a=1,V=!0)}).add(document).bind("mousemove."+t,function(t){if(!L&&a&&(window.getSelection?window.getSelection().toString():document.selection&&"Control"!=document.selection.type&&document.selection.createRange().text)){var e=u.offset(),n=H(t)[0]-e.top+u[0].offsetTop,i=H(t)[1]-e.left+u[0].offsetLeft;0<n&&n<c.height()&&0<i&&i<c.width()?l.step&&r("off",null,"stepped"):("x"!==s.axis&&o.overflowed[0]&&(n<0?r("on",38):n>c.height()&&r("on",40)),"y"!==s.axis&&o.overflowed[1]&&(i<0?r("on",37):i>c.width()&&r("on",39)))}}).bind("mouseup."+t+" dragend."+t,function(){L||(a&&(a=0,r("off",null)),V=!1)})},E=function(){function n(t,e){if(X(d),!R(d,t.target)){var n="auto"!==f.mouseWheel.deltaFactor?parseInt(f.mouseWheel.deltaFactor):m&&t.deltaFactor<100?100:t.deltaFactor||100,i=f.scrollInertia;if("x"===f.axis||"x"===f.mouseWheel.axis)var r="x",a=[Math.round(n*h.scrollRatio.x),parseInt(f.mouseWheel.scrollAmount)],o="auto"!==f.mouseWheel.scrollAmount?a[1]:a[0]>=p.width()?.9*p.width():a[0],s=Math.abs(j("#mCSB_"+h.idx+"_container")[0].offsetLeft),l=g[1][0].offsetLeft,u=g[1].parent().width()-g[1].width(),c="y"===f.mouseWheel.axis?t.deltaY||e:t.deltaX;else var r="y",a=[Math.round(n*h.scrollRatio.y),parseInt(f.mouseWheel.scrollAmount)],o="auto"!==f.mouseWheel.scrollAmount?a[1]:a[0]>=p.height()?.9*p.height():a[0],s=Math.abs(j("#mCSB_"+h.idx+"_container")[0].offsetTop),l=g[0][0].offsetTop,u=g[0].parent().height()-g[0].height(),c=t.deltaY||e;"y"===r&&!h.overflowed[0]||"x"===r&&!h.overflowed[1]||((f.mouseWheel.invert||t.webkitDirectionInvertedFromDevice)&&(c=-c),f.mouseWheel.normalizeDelta&&(c=c<0?-1:1),(0<c&&0!==l||c<0&&l!==u||f.mouseWheel.preventDefault)&&(t.stopImmediatePropagation(),t.preventDefault()),t.deltaFactor<5&&!f.mouseWheel.normalizeDelta&&(o=t.deltaFactor,i=17),K(d,(s-c*o).toString(),{dir:r,dur:i}))}}if(j(this).data(N)){var d=j(this),h=d.data(N),f=h.opt,t="mCS_"+h.idx,p=j("#mCSB_"+h.idx),g=[j("#mCSB_"+h.idx+"_dragger_vertical"),j("#mCSB_"+h.idx+"_dragger_horizontal")],e=j("#mCSB_"+h.idx+"_container").find("iframe");e.length&&e.each(function(){j(this).bind("load",function(){B(this)&&j(this.contentDocument||this.contentWindow.document).bind("mousewheel."+t,function(t,e){n(t,e)})})}),p.bind("mousewheel."+t,function(t,e){n(t,e)})}},P=new Object,B=function(t){var e=!1,n=!1,i=null;if(void 0===t?n="#empty":void 0!==j(t).attr("id")&&(n=j(t).attr("id")),!1!==n&&void 0!==P[n])return P[n];if(t){try{var r=t.contentDocument||t.contentWindow.document;i=r.body.innerHTML}catch(t){}e=null!==i}else{try{var r=top.document;i=r.body.innerHTML}catch(t){}e=null!==i}return!1!==n&&(P[n]=e),e},A=function(t){var e=this.find("iframe");if(e.length){var n=t?"auto":"none";e.css("pointer-events",n)}},R=function(t,e){var n=e.nodeName.toLowerCase(),i=t.data(N).opt.mouseWheel.disableOver;return-1<j.inArray(n,i)&&!(-1<j.inArray(n,["select","textarea"])&&!j(e).is(":focus"))},I=function(){var o,s=j(this),l=s.data(N),t="mCS_"+l.idx,u=j("#mCSB_"+l.idx+"_container"),c=u.parent(),e=j(".mCSB_"+l.idx+"_scrollbar ."+w[12]);e.bind("mousedown."+t+" touchstart."+t+" pointerdown."+t+" MSPointerDown."+t,function(t){V=!0,j(t.target).hasClass("mCSB_dragger")||(o=1)}).bind("touchend."+t+" pointerup."+t+" MSPointerUp."+t,function(){V=!1}).bind("click."+t,function(t){if(o&&(o=0,j(t.target).hasClass(w[12])||j(t.target).hasClass("mCSB_draggerRail"))){X(s);var e=j(this),n=e.find(".mCSB_dragger");if(0<e.parent(".mCSB_scrollTools_horizontal").length){if(!l.overflowed[1])return;var i="x",r=t.pageX>n.offset().left?-1:1,a=Math.abs(u[0].offsetLeft)-r*(.9*c.width())}else{if(!l.overflowed[0])return;var i="y",r=t.pageY>n.offset().top?-1:1,a=Math.abs(u[0].offsetTop)-r*(.9*c.height())}K(s,a.toString(),{dir:i,scrollEasing:"mcsEaseInOut"})}})},F=function(){var a=j(this),t=a.data(N),o=t.opt,e="mCS_"+t.idx,s=j("#mCSB_"+t.idx+"_container"),l=s.parent();s.bind("focusin."+e,function(){var r=j(document.activeElement),t=s.find(".mCustomScrollBox").length;r.is(o.advanced.autoScrollOnFocus)&&(X(a),clearTimeout(a[0]._focusTimeout),a[0]._focusTimer=t?17*t:0,a[0]._focusTimeout=setTimeout(function(){var t=[at(r)[0],at(r)[1]],e=[s[0].offsetTop,s[0].offsetLeft],n=[0<=e[0]+t[0]&&e[0]+t[0]<l.height()-r.outerHeight(!1),0<=e[1]+t[1]&&e[0]+t[1]<l.width()-r.outerWidth(!1)],i="yx"!==o.axis||n[0]||n[1]?"all":"none";"x"===o.axis||n[0]||K(a,t[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",overwrite:i,dur:0}),"y"===o.axis||n[1]||K(a,t[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:i,dur:0})},a[0]._focusTimer))})},Y=function(){var t=j(this),e=t.data(N),n="mCS_"+e.idx,i=j("#mCSB_"+e.idx+"_container").parent();i.bind("scroll."+n,function(){0===i.scrollTop()&&0===i.scrollLeft()||j(".mCSB_"+e.idx+"_scrollbar").css("visibility","hidden")})},U=function(){var i=j(this),r=i.data(N),a=r.opt,o=r.sequential,t="mCS_"+r.idx,e=".mCSB_"+r.idx+"_scrollbar",n=j(e+">a");n.bind("contextmenu."+t,function(t){t.preventDefault()}).bind("mousedown."+t+" touchstart."+t+" pointerdown."+t+" MSPointerDown."+t+" mouseup."+t+" touchend."+t+" pointerup."+t+" MSPointerUp."+t+" mouseout."+t+" pointerout."+t+" MSPointerOut."+t+" click."+t,function(t){function e(t,e){o.scrollAmount=a.scrollButtons.scrollAmount,W(i,t,e)}if(t.preventDefault(),nt(t)){var n=j(this).attr("class");switch(o.type=a.scrollButtons.scrollType,t.type){case"mousedown":case"touchstart":case"pointerdown":case"MSPointerDown":if("stepped"===o.type)return;V=!0,r.tweenRunning=!1,e("on",n);break;case"mouseup":case"touchend":case"pointerup":case"MSPointerUp":case"mouseout":case"pointerout":case"MSPointerOut":if("stepped"===o.type)return;V=!1,o.dir&&e("off",n);break;case"click":if("stepped"!==o.type||r.tweenRunning)return;e("on",n)}}})},z=function(){function e(t){function e(t,e){c.type=u.keyboard.scrollType,c.scrollAmount=u.keyboard.scrollAmount,"stepped"===c.type&&l.tweenRunning||W(s,t,e)}switch(t.type){case"blur":l.tweenRunning&&c.dir&&e("off",null);break;case"keydown":case"keyup":var n=t.keyCode?t.keyCode:t.which,i="on";if("x"!==u.axis&&(38===n||40===n)||"y"!==u.axis&&(37===n||39===n)){if((38===n||40===n)&&!l.overflowed[0]||(37===n||39===n)&&!l.overflowed[1])return;"keyup"===t.type&&(i="off"),j(document.activeElement).is(f)||(t.preventDefault(),t.stopImmediatePropagation(),e(i,n))}else if(33===n||34===n){if((l.overflowed[0]||l.overflowed[1])&&(t.preventDefault(),t.stopImmediatePropagation()),"keyup"===t.type){X(s);var r=34===n?-1:1;if("x"===u.axis||"yx"===u.axis&&l.overflowed[1]&&!l.overflowed[0])var a="x",o=Math.abs(d[0].offsetLeft)-r*(.9*h.width());else var a="y",o=Math.abs(d[0].offsetTop)-r*(.9*h.height());K(s,o.toString(),{dir:a,scrollEasing:"mcsEaseInOut"})}}else if((35===n||36===n)&&!j(document.activeElement).is(f)&&((l.overflowed[0]||l.overflowed[1])&&(t.preventDefault(),t.stopImmediatePropagation()),"keyup"===t.type)){if("x"===u.axis||"yx"===u.axis&&l.overflowed[1]&&!l.overflowed[0])var a="x",o=35===n?Math.abs(h.width()-d.outerWidth(!1)):0;else var a="y",o=35===n?Math.abs(h.height()-d.outerHeight(!1)):0;K(s,o.toString(),{dir:a,scrollEasing:"mcsEaseInOut"})}}}var s=j(this),l=s.data(N),u=l.opt,c=l.sequential,t="mCS_"+l.idx,n=j("#mCSB_"+l.idx),d=j("#mCSB_"+l.idx+"_container"),h=d.parent(),f="input,textarea,select,datalist,keygen,[contenteditable='true']",i=d.find("iframe"),r=["blur."+t+" keydown."+t+" keyup."+t];i.length&&i.each(function(){j(this).bind("load",function(){B(this)&&j(this.contentDocument||this.contentWindow.document).bind(r[0],function(t){e(t)})})}),n.attr("tabindex","0").bind(r[0],function(t){e(t)})},W=function(d,t,e,h,f){function p(t){m.snapAmount&&(v.scrollAmount=m.snapAmount instanceof Array?"x"===v.dir[0]?m.snapAmount[1]:m.snapAmount[0]:m.snapAmount);var e="stepped"!==v.type,n=f||(t?e?b/1.5:_:1e3/60),i=t?e?7.5:40:2.5,r=[Math.abs(y[0].offsetTop),Math.abs(y[0].offsetLeft)],a=[10<g.scrollRatio.y?10:g.scrollRatio.y,10<g.scrollRatio.x?10:g.scrollRatio.x],o="x"===v.dir[0]?r[1]+v.dir[1]*(a[1]*i):r[0]+v.dir[1]*(a[0]*i),s="x"===v.dir[0]?r[1]+v.dir[1]*parseInt(v.scrollAmount):r[0]+v.dir[1]*parseInt(v.scrollAmount),l="auto"!==v.scrollAmount?s:o,u=h||(t?e?"mcsLinearOut":"mcsEaseInOut":"mcsLinear"),c=!!t;return t&&n<17&&(l="x"===v.dir[0]?r[1]:r[0]),K(d,l.toString(),{dir:v.dir[0],scrollEasing:u,dur:n,onComplete:c}),t?void(v.dir=!1):(clearTimeout(v.step),void(v.step=setTimeout(function(){p()},n)))}var g=d.data(N),m=g.opt,v=g.sequential,y=j("#mCSB_"+g.idx+"_container"),n="stepped"===v.type,b=m.scrollInertia<26?26:m.scrollInertia,_=m.scrollInertia<1?17:m.scrollInertia;switch(t){case"on":if(v.dir=[e===w[16]||e===w[15]||39===e||37===e?"x":"y",e===w[13]||e===w[15]||38===e||37===e?-1:1],X(d),rt(e)&&"stepped"===v.type)return;p(n);break;case"off":clearTimeout(v.step),et(v,"step"),X(d),(n||g.tweenRunning&&v.dir)&&p(!0)}},q=function(t){var e=j(this).data(N).opt,n=[];return"function"==typeof t&&(t=t()),t instanceof Array?n=1<t.length?[t[0],t[1]]:"x"===e.axis?[null,t[0]]:[t[0],null]:(n[0]=t.y?t.y:t.x||"x"===e.axis?null:t,n[1]=t.x?t.x:t.y||"y"===e.axis?null:t),"function"==typeof n[0]&&(n[0]=n[0]()),"function"==typeof n[1]&&(n[1]=n[1]()),n},G=function(t,e){if(null!=t&&void 0!==t){var n=j(this),i=n.data(N),r=i.opt,a=j("#mCSB_"+i.idx+"_container"),o=a.parent(),s=typeof t;e||(e="x"===r.axis?"x":"y");var l="x"===e?a.outerWidth(!1)-o.width():a.outerHeight(!1)-o.height(),u="x"===e?a[0].offsetLeft:a[0].offsetTop,c="x"===e?"left":"top";switch(s){case"function":return t();case"object":var d=t.jquery?t:j(t);if(!d.length)return;return"x"===e?at(d)[1]:at(d)[0];case"string":case"number":if(rt(t))return Math.abs(t);if(-1!==t.indexOf("%"))return Math.abs(l*parseInt(t)/100);if(-1!==t.indexOf("-="))return Math.abs(u-parseInt(t.split("-=")[1]));if(-1!==t.indexOf("+=")){var h=u+parseInt(t.split("+=")[1]);return 0<=h?0:Math.abs(h)}if(-1!==t.indexOf("px")&&rt(t.split("px")[0]))return Math.abs(t.split("px")[0]);if("top"===t||"left"===t)return 0;if("bottom"===t)return Math.abs(o.height()-a.outerHeight(!1));if("right"===t)return Math.abs(o.width()-a.outerWidth(!1));if("first"===t||"last"===t){var d=a.find(":"+t);return"x"===e?at(d)[1]:at(d)[0]}return j(t).length?"x"===e?at(j(t))[1]:at(j(t))[0]:(a.css(c,t),void p.update.call(null,n[0]))}}},Z=function(t){function r(t){clearTimeout(a[0].autoUpdate),p.update.call(null,e[0],t)}var e=j(this),n=e.data(N),i=n.opt,a=j("#mCSB_"+n.idx+"_container");return t?(clearTimeout(a[0].autoUpdate),void et(a[0],"autoUpdate")):void function t(){return clearTimeout(a[0].autoUpdate),0===e.parents("html").length?void(e=null):void(a[0].autoUpdate=setTimeout(function(){return i.advanced.updateOnSelectorChange&&(n.poll.change.n=function(){!0===i.advanced.updateOnSelectorChange&&(i.advanced.updateOnSelectorChange="*");var t=0,e=a.find(i.advanced.updateOnSelectorChange);return i.advanced.updateOnSelectorChange&&0<e.length&&e.each(function(){t+=this.offsetHeight+this.offsetWidth}),t}(),n.poll.change.n!==n.poll.change.o)?(n.poll.change.o=n.poll.change.n,void r(3)):i.advanced.updateOnContentResize&&(n.poll.size.n=e[0].scrollHeight+e[0].scrollWidth+a[0].offsetHeight+e[0].offsetHeight+e[0].offsetWidth,n.poll.size.n!==n.poll.size.o)?(n.poll.size.o=n.poll.size.n,void r(1)):!i.advanced.updateOnImageLoad||"auto"===i.advanced.updateOnImageLoad&&"y"===i.axis||(n.poll.img.n=a.find("img").length,n.poll.img.n===n.poll.img.o)?void((i.advanced.updateOnSelectorChange||i.advanced.updateOnContentResize||i.advanced.updateOnImageLoad)&&t()):(n.poll.img.o=n.poll.img.n,void a.find("img").each(function(){!function(t){if(j(t).hasClass(w[2]))return r();var e,n,i=new Image;i.onload=(e=i,n=function(){this.onload=null,j(t).addClass(w[2]),r(2)},function(){return n.apply(e,arguments)}),i.src=t.src}(this)}))},i.advanced.autoUpdateTimeout))}()},X=function(t){var e=t.data(N),n=j("#mCSB_"+e.idx+"_container,#mCSB_"+e.idx+"_container_wrapper,#mCSB_"+e.idx+"_dragger_vertical,#mCSB_"+e.idx+"_dragger_horizontal");n.each(function(){tt.call(this)})},K=function(r,t,a){function e(t){return l&&u.callbacks[t]&&"function"==typeof u.callbacks[t]}function n(){var t=[f[0].offsetTop,f[0].offsetLeft],e=[y[0].offsetTop,y[0].offsetLeft],n=[f.outerHeight(!1),f.outerWidth(!1)],i=[h.height(),h.width()];r[0].mcs={content:f,top:t[0],left:t[1],draggerTop:e[0],draggerLeft:e[1],topPct:Math.round(100*Math.abs(t[0])/(Math.abs(n[0])-i[0])),leftPct:Math.round(100*Math.abs(t[1])/(Math.abs(n[1])-i[1])),direction:a.dir}}var i,o,s,l=r.data(N),u=l.opt,c={trigger:"internal",dir:"y",scrollEasing:"mcsEaseOut",drag:!1,dur:u.scrollInertia,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},a=j.extend(c,a),d=[a.dur,a.drag?0:a.dur],h=j("#mCSB_"+l.idx),f=j("#mCSB_"+l.idx+"_container"),p=f.parent(),g=u.callbacks.onTotalScrollOffset?q.call(r,u.callbacks.onTotalScrollOffset):[0,0],m=u.callbacks.onTotalScrollBackOffset?q.call(r,u.callbacks.onTotalScrollBackOffset):[0,0];if(l.trigger=a.trigger,0===p.scrollTop()&&0===p.scrollLeft()||(j(".mCSB_"+l.idx+"_scrollbar").css("visibility","visible"),p.scrollTop(0).scrollLeft(0)),"_resetY"!==t||l.contentReset.y||(e("onOverflowYNone")&&u.callbacks.onOverflowYNone.call(r[0]),l.contentReset.y=1),"_resetX"!==t||l.contentReset.x||(e("onOverflowXNone")&&u.callbacks.onOverflowXNone.call(r[0]),l.contentReset.x=1),"_resetY"!==t&&"_resetX"!==t){if(!l.contentReset.y&&r[0].mcs||!l.overflowed[0]||(e("onOverflowY")&&u.callbacks.onOverflowY.call(r[0]),l.contentReset.x=null),!l.contentReset.x&&r[0].mcs||!l.overflowed[1]||(e("onOverflowX")&&u.callbacks.onOverflowX.call(r[0]),l.contentReset.x=null),u.snapAmount){var v=u.snapAmount instanceof Array?"x"===a.dir?u.snapAmount[1]:u.snapAmount[0]:u.snapAmount;i=t,o=v,s=u.snapOffset,t=Math.round(i/o)*o-s}switch(a.dir){case"x":var y=j("#mCSB_"+l.idx+"_dragger_horizontal"),b="left",_=f[0].offsetLeft,w=[h.width()-f.outerWidth(!1),y.parent().width()-y.width()],x=[t,0===t?0:t/l.scrollRatio.x],k=g[1],C=m[1],S=0<k?k/l.scrollRatio.x:0,D=0<C?C/l.scrollRatio.x:0;break;case"y":var y=j("#mCSB_"+l.idx+"_dragger_vertical"),b="top",_=f[0].offsetTop,w=[h.height()-f.outerHeight(!1),y.parent().height()-y.height()],x=[t,0===t?0:t/l.scrollRatio.y],k=g[0],C=m[0],S=0<k?k/l.scrollRatio.y:0,D=0<C?C/l.scrollRatio.y:0}x[1]<0||0===x[0]&&0===x[1]?x=[0,0]:x[1]>=w[1]?x=[w[0],w[1]]:x[0]=-x[0],r[0].mcs||(n(),e("onInit")&&u.callbacks.onInit.call(r[0])),clearTimeout(f[0].onCompleteTimeout),Q(y[0],b,Math.round(x[1]),d[1],a.scrollEasing),!l.tweenRunning&&(0===_&&0<=x[0]||_===w[0]&&x[0]<=w[0])||Q(f[0],b,Math.round(x[0]),d[0],a.scrollEasing,a.overwrite,{onStart:function(){a.callbacks&&a.onStart&&!l.tweenRunning&&(e("onScrollStart")&&(n(),u.callbacks.onScrollStart.call(r[0])),l.tweenRunning=!0,T(y),l.cbOffsets=[u.callbacks.alwaysTriggerOffsets||_>=w[0]+k,u.callbacks.alwaysTriggerOffsets||_<=-C])},onUpdate:function(){a.callbacks&&a.onUpdate&&e("whileScrolling")&&(n(),u.callbacks.whileScrolling.call(r[0]))},onComplete:function(){if(a.callbacks&&a.onComplete){"yx"===u.axis&&clearTimeout(f[0].onCompleteTimeout);var t=f[0].idleTimer||0;f[0].onCompleteTimeout=setTimeout(function(){e("onScroll")&&(n(),u.callbacks.onScroll.call(r[0])),e("onTotalScroll")&&x[1]>=w[1]-S&&l.cbOffsets[0]&&(n(),u.callbacks.onTotalScroll.call(r[0])),e("onTotalScrollBack")&&x[1]<=D&&l.cbOffsets[1]&&(n(),u.callbacks.onTotalScrollBack.call(r[0])),l.tweenRunning=!1,f[0].idleTimer=0,T(y,"hide")},t)}}})}},Q=function(t,e,n,i,r,a,o){function s(){y.stop||(g||d.call(),g=J()-p,l(),g>=y.time&&(y.time=g>y.time?g+u-(g-y.time):g+u-1,y.time<g+1&&(y.time=g+1)),y.time<i?y.id=c(s):f.call())}function l(){0<i?(y.currVal=function(t,e,n,i,r){switch(r){case"linear":case"mcsLinear":return n*t/i+e;case"mcsLinearOut":return t/=i,t--,n*Math.sqrt(1-t*t)+e;case"easeInOutSmooth":return(t/=i/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e;case"easeInOutStrong":return(t/=i/2)<1?n/2*Math.pow(2,10*(t-1))+e:(t--,n/2*(2-Math.pow(2,-10*t))+e);case"easeInOut":case"mcsEaseInOut":return(t/=i/2)<1?n/2*t*t*t+e:n/2*((t-=2)*t*t+2)+e;case"easeOutSmooth":return t/=i,-n*(--t*t*t*t-1)+e;case"easeOutStrong":return n*(1-Math.pow(2,-10*t/i))+e;case"easeOut":case"mcsEaseOut":default:var a=(t/=i)*t,o=a*t;return e+n*(.499999999999997*o*a+-2.5*a*a+5.5*o+-6.5*a+4*t)}}(y.time,m,b,i,r),v[e]=Math.round(y.currVal)+"px"):v[e]=n+"px",h.call()}t._mTween||(t._mTween={top:{},left:{}});var u,c,o=o||{},d=o.onStart||function(){},h=o.onUpdate||function(){},f=o.onComplete||function(){},p=J(),g=0,m=t.offsetTop,v=t.style,y=t._mTween[e];"left"===e&&(m=t.offsetLeft);var b=n-m;y.stop=0,"none"!==a&&null!=y.id&&(window.requestAnimationFrame?window.cancelAnimationFrame(y.id):clearTimeout(y.id),y.id=null),u=1e3/60,y.time=g+u,c=window.requestAnimationFrame?window.requestAnimationFrame:function(t){return l(),setTimeout(t,.01)},y.id=c(s)},J=function(){return window.performance&&window.performance.now?window.performance.now():window.performance&&window.performance.webkitNow?window.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},tt=function(){this._mTween||(this._mTween={top:{},left:{}});for(var t=["top","left"],e=0;e<t.length;e++){var n=t[e];this._mTween[n].id&&(window.requestAnimationFrame?window.cancelAnimationFrame(this._mTween[n].id):clearTimeout(this._mTween[n].id),this._mTween[n].id=null,this._mTween[n].stop=1)}},et=function(e,n){try{delete e[n]}catch(t){e[n]=null}},nt=function(t){return!(t.which&&1!==t.which)},it=function(t){var e=t.originalEvent.pointerType;return!(e&&"touch"!==e&&2!==e)},rt=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},at=function(t){var e=t.parents(".mCSB_container");return[t.offset().top-e.offset().top,t.offset().left-e.offset().left]},ot=function(){var t=function(){var t=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var e=0;e<t.length;e++)if(t[e]+"Hidden"in document)return t[e]+"Hidden";return null}();return!!t&&document[t]},j.fn[f]=function(t){return p[t]?p[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void j.error("Method "+t+" does not exist"):p.init.apply(this,arguments)},j[f]=function(t){return p[t]?p[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void j.error("Method "+t+" does not exist"):p.init.apply(this,arguments)},j[f].defaults=r,window[f]=!0,j(window).bind("load",function(){j(i)[f](),j.extend(j.expr[":"],{mcsInView:j.expr[":"].mcsInView||function(t){var e,n,i=j(t),r=i.parents(".mCSB_container");if(r.length)return e=r.parent(),0<=(n=[r[0].offsetTop,r[0].offsetLeft])[0]+at(i)[0]&&n[0]+at(i)[0]<e.height()-i.outerHeight(!1)&&0<=n[1]+at(i)[1]&&n[1]+at(i)[1]<e.width()-i.outerWidth(!1)},mcsInSight:j.expr[":"].mcsInSight||function(t,e,n){var i,r,a,o,s=j(t),l=s.parents(".mCSB_container"),u="exact"===n[3]?[[1,0],[1,0]]:[[.9,.1],[.6,.4]];if(l.length)return i=[s.outerHeight(!1),s.outerWidth(!1)],a=[l[0].offsetTop+at(s)[0],l[0].offsetLeft+at(s)[1]],r=[l.parent()[0].offsetHeight,l.parent()[0].offsetWidth],a[0]-r[0]*(o=[i[0]<r[0]?u[0]:u[1],i[1]<r[1]?u[0]:u[1]])[0][0]<0&&0<=a[0]+i[0]-r[0]*o[0][1]&&a[1]-r[1]*o[1][0]<0&&0<=a[1]+i[1]-r[1]*o[1][1]},mcsOverflow:j.expr[":"].mcsOverflow||function(t){var e=j(t).data(N);if(e)return e.overflowed[0]||e.overflowed[1]}})})}),function(){"use strict";function t(){this.defaults={scrollButtons:{enable:!0},axis:"yx"},$.mCustomScrollbar.defaults.scrollButtons=this.defaults.scrollButtons,$.mCustomScrollbar.defaults.axis=this.defaults.axis,this.$get=function(){return{defaults:this.defaults}}}function o(t,e,n,i){n.mCustomScrollbar("destroy");var r={};for(var a in i.ngScrollbarsConfig&&(r=i.ngScrollbarsConfig),t)if(t.hasOwnProperty(a))switch(a){case"scrollButtons":r.hasOwnProperty(a)||(e.scrollButtons=t[a]);break;case"axis":r.hasOwnProperty(a)||(e.axis=t[a]);break;default:r.hasOwnProperty(a)||(r[a]=t[a])}n.mCustomScrollbar(r)}function e(e){return{scope:{ngScrollbarsConfig:"=?",ngScrollbarsUpdate:"=?",element:"=?"},link:function(n,i,t){n.elem=i;var r=e.defaults,a=$.mCustomScrollbar.defaults;n.ngScrollbarsUpdate=function(){i.mCustomScrollbar.apply(i,arguments)},n.$watch("ngScrollbarsConfig",function(t,e){void 0!==t&&o(r,a,i,n)}),o(r,a,i,n)}}}e.$inject=["a"],angular.module("ngScrollbars",[]).provider("ScrollBars",t).directive("ngScrollbars",e),t.$inject=[],e.$inject=["ScrollBars"]}(),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.Promise=t()}}(function(){return function a(o,s,l){function u(n,t){if(!s[n]){if(!o[n]){var e="function"==typeof _dereq_&&_dereq_;if(!t&&e)return e(n,!0);if(c)return c(n,!0);var i=new Error("Cannot find module '"+n+"'");throw i.code="MODULE_NOT_FOUND",i}var r=s[n]={exports:{}};o[n][0].call(r.exports,function(t){var e=o[n][1][t];return u(e||t)},r,r.exports,a,o,s,l)}return s[n].exports}for(var c="function"==typeof _dereq_&&_dereq_,t=0;t<l.length;t++)u(l[t]);return u}({1:[function(t,e,n){"use strict";e.exports=function(t){function e(t){var e=new i(t),n=e.promise();return e.setHowMany(1),e.setUnwrap(),e.init(),n}var i=t._SomePromiseArray;t.any=function(t){return e(t)},t.prototype.any=function(){return e(this)}}},{}],2:[function(t,e,n){"use strict";function i(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new l(16),this._normalQueue=new l(16),this._haveDrainedQueues=!1;var t=this;this.drainQueues=function(){t._drainQueues()},this._schedule=s}function r(t){for(;0<t.length();)a(t)}function a(t){var e=t.shift();if("function"!=typeof e)e._settlePromises();else{var n=t.shift(),i=t.shift();e.call(n,i)}}var o;try{throw new Error}catch(t){o=t}var s=t("./schedule"),l=t("./queue");i.prototype.setScheduler=function(t){var e=this._schedule;return this._schedule=t,this._customScheduler=!0,e},i.prototype.hasCustomScheduler=function(){return this._customScheduler},i.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},i.prototype.fatalError=function(t,e){e?(process.stderr.write("Fatal "+(t instanceof Error?t.stack:t)+"\n"),process.exit(2)):this.throwLater(t)},i.prototype.throwLater=function(t,e){if(1===arguments.length&&(e=t,t=function(){throw e}),"undefined"!=typeof setTimeout)setTimeout(function(){t(e)},0);else try{this._schedule(function(){t(e)})}catch(t){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},i.prototype.invokeLater=function(t,e,n){this._lateQueue.push(t,e,n),this._queueTick()},i.prototype.invoke=function(t,e,n){this._normalQueue.push(t,e,n),this._queueTick()},i.prototype.settlePromises=function(t){this._normalQueue._pushOne(t),this._queueTick()},i.prototype._drainQueues=function(){r(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,r(this._lateQueue)},i.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},i.prototype._reset=function(){this._isTickUsed=!1},e.exports=i,e.exports.firstLineError=o},{"./queue":26,"./schedule":29}],3:[function(t,e,n){"use strict";e.exports=function(a,o,s,l){var u=!1,n=function(t,e){this._reject(e)},c=function(t,e){e.promiseRejectionQueued=!0,e.bindingPromise._then(n,n,null,this,t)},d=function(t,e){0==(50397184&this._bitField)&&this._resolveCallback(e.target)},h=function(t,e){e.promiseRejectionQueued||this._reject(t)};a.prototype.bind=function(t){u||(u=!0,a.prototype._propagateFrom=l.propagateFromFunction(),a.prototype._boundValue=l.boundValueFunction());var e=s(t),n=new a(o);n._propagateFrom(this,1);var i=this._target();if(n._setBoundTo(e),e instanceof a){var r={promiseRejectionQueued:!1,promise:n,target:i,bindingPromise:e};i._then(o,c,void 0,n,r),e._then(d,h,void 0,n,r),n._setOnCancel(e)}else n._resolveCallback(i);return n},a.prototype._setBoundTo=function(t){void 0!==t?(this._bitField=2097152|this._bitField,this._boundTo=t):this._bitField=-2097153&this._bitField},a.prototype._isBound=function(){return 2097152==(2097152&this._bitField)},a.bind=function(t,e){return a.resolve(e).bind(t)}}},{}],4:[function(t,e,n){"use strict";var i;"undefined"!=typeof Promise&&(i=Promise);var r=t("./promise")();r.noConflict=function(){try{Promise===r&&(Promise=i)}catch(t){}return r},e.exports=r},{"./promise":22}],5:[function(t,e,n){"use strict";var i=Object.create;if(i){var r=i(null),a=i(null);r[" size"]=a[" size"]=0}e.exports=function(r){function n(t){return function(t,e){var n;if(null!=t&&(n=t[e]),"function"!=typeof n){var i="Object "+o.classString(t)+" has no method '"+o.toString(e)+"'";throw new r.TypeError(i)}return n}(t,this.pop()).apply(t,this)}function i(t){return t[this]}function a(t){var e=+this;return e<0&&(e=Math.max(0,e+t.length)),t[e]}var o=t("./util"),s=o.canEvaluate;o.isIdentifier,r.prototype.call=function(t){var e=[].slice.call(arguments,1);return e.push(t),this._then(n,void 0,void 0,e,void 0)},r.prototype.get=function(t){var e;if("number"==typeof t)e=a;else if(s){var n=(void 0)(t);e=null!==n?n:i}else e=i;return this._then(e,void 0,void 0,t,void 0)}}},{"./util":36}],6:[function(l,t,e){"use strict";t.exports=function(t,e,n,i){var r=l("./util"),a=r.tryCatch,o=r.errorObj,s=t._async;t.prototype.break=t.prototype.cancel=function(){if(!i.cancellation())return this._warn("cancellation is disabled");for(var t=this,e=t;t._isCancellable();){if(!t._cancelBy(e)){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}var n=t._cancellationParent;if(null==n||!n._isCancellable()){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}t._isFollowing()&&t._followee().cancel(),t._setWillBeCancelled(),e=t,t=n}},t.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},t.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},t.prototype._cancelBy=function(t){return t===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},t.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},t.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),s.invoke(this._cancelPromises,this,void 0))},t.prototype._cancelPromises=function(){0<this._length()&&this._settlePromises()},t.prototype._unsetOnCancel=function(){this._onCancelField=void 0},t.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},t.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},t.prototype._doInvokeOnCancel=function(t,e){if(r.isArray(t))for(var n=0;n<t.length;++n)this._doInvokeOnCancel(t[n],e);else if(void 0!==t)if("function"==typeof t){if(!e){var i=a(t).call(this._boundValue());i===o&&(this._attachExtraTrace(i.e),s.throwLater(i.e))}}else t._resultCancelled(this)},t.prototype._invokeOnCancel=function(){var t=this._onCancel();this._unsetOnCancel(),s.invoke(this._doInvokeOnCancel,this,t)},t.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},t.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(t,e,n){"use strict";e.exports=function(d){var h=t("./util"),f=t("./es5").keys,p=h.tryCatch,g=h.errorObj;return function(l,u,c){return function(t){var e=c._boundValue();t:for(var n=0;n<l.length;++n){var i=l[n];if(i===Error||null!=i&&i.prototype instanceof Error){if(t instanceof i)return p(u).call(e,t)}else if("function"==typeof i){var r=p(i).call(e,t);if(r===g)return r;if(r)return p(u).call(e,t)}else if(h.isObject(t)){for(var a=f(i),o=0;o<a.length;++o){var s=a[o];if(i[s]!=t[s])continue t}return p(u).call(e,t)}}return d}}}},{"./es5":13,"./util":36}],8:[function(t,e,n){"use strict";e.exports=function(a){function o(){this._trace=new o.CapturedTrace(s())}function s(){var t=n.length-1;return 0<=t?n[t]:void 0}var l=!1,n=[];return a.prototype._promiseCreated=function(){},a.prototype._pushContext=function(){},a.prototype._popContext=function(){return null},a._peekContext=a.prototype._peekContext=function(){},o.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,n.push(this._trace))},o.prototype._popContext=function(){if(void 0!==this._trace){var t=n.pop(),e=t._promiseCreated;return t._promiseCreated=null,e}return null},o.CapturedTrace=null,o.create=function(){return l?new o:void 0},o.deactivateLongStackTraces=function(){},o.activateLongStackTraces=function(){var t=a.prototype._pushContext,e=a.prototype._popContext,n=a._peekContext,i=a.prototype._peekContext,r=a.prototype._promiseCreated;o.deactivateLongStackTraces=function(){a.prototype._pushContext=t,a.prototype._popContext=e,a._peekContext=n,a.prototype._peekContext=i,a.prototype._promiseCreated=r,l=!1},l=!0,a.prototype._pushContext=o.prototype._pushContext,a.prototype._popContext=o.prototype._popContext,a._peekContext=a.prototype._peekContext=s,a.prototype._promiseCreated=function(){var t=this._peekContext();t&&null==t._promiseCreated&&(t._promiseCreated=this)}},o}},{}],9:[function(et,t,e){"use strict";t.exports=function(o,i,r,a){function t(t,e){return{promise:e}}function s(){return!1}function l(t,e,n){var i=this;try{t(e,n,function(t){if("function"!=typeof t)throw new TypeError("onCancel must be a function, got: "+E.toString(t));i._attachCancellationCallback(t)})}catch(t){return t}}function u(t){if(!this._isCancellable())return this;var e=this._onCancel();void 0!==e?E.isArray(e)?e.push(t):this._setOnCancel([e,t]):this._setOnCancel(t)}function c(){return this._onCancelField}function d(t){this._onCancelField=t}function h(){this._cancellationParent=void 0,this._onCancelField=void 0}function f(t,e){if(0!=(1&e)){var n=(this._cancellationParent=t)._branchesRemainingToCancel;void 0===n&&(n=0),t._branchesRemainingToCancel=n+1}0!=(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)}function e(){var t=this._boundTo;return void 0!==t&&t instanceof o?t.isFulfilled()?t.value():void 0:t}function p(){this._trace=new C(this._peekContext())}function g(t,e){if(A(t)){var n=this._trace;if(void 0!==n&&e&&(n=n._parent),void 0!==n)n.attachExtraTrace(t);else if(!t.__stackCleaned__){var i=b(t);E.notEnumerableProp(t,"stack",i.message+"\n"+i.stack.join("\n")),E.notEnumerableProp(t,"__stackCleaned__",!0)}}}function m(){this._trace=void 0}function v(t,e,n){if(tt.warnings){var i,r=new O(t);if(e)n._attachExtraTrace(r);else if(tt.longStackTraces&&(i=o._peekContext()))i.attachExtraTrace(r);else{var a=b(r);r.stack=a.message+"\n"+a.stack.join("\n")}Z("warning",r)||_(r,"",!0)}}function y(t){for(var e=[],n=0;n<t.length;++n){var i=t[n],r="    (No stack trace)"===i||j.test(i),a=r&&K(i);r&&!a&&(N&&" "!==i.charAt(0)&&(i="    "+i),e.push(i))}return e}function b(t){var e=t.stack,n=t.toString();return e="string"==typeof e&&0<e.length?function(t){for(var e=t.stack.replace(/\s+$/g,"").split("\n"),n=0;n<e.length;++n){var i=e[n];if("    (No stack trace)"===i||j.test(i))break}return 0<n&&"SyntaxError"!=t.name&&(e=e.slice(n)),e}(t):["    (No stack trace)"],{message:n,stack:"SyntaxError"==t.name?e:y(e)}}function _(t,e,n){if("undefined"!=typeof console){var i;if(E.isObject(t)){var r=t.stack;i=e+L(r,t)}else i=e+String(t);"function"==typeof T?T(i,n):"function"==typeof console.log||console.log}}function n(t,e,n,i){var r=!1;try{"function"==typeof e&&(r=!0,"rejectionHandled"===t?e(i):e(n,i))}catch(t){$.throwLater(t)}"unhandledRejection"===t?Z(t,n,i)||r||_(n,"Unhandled rejection "):Z(t,i)}function w(t){var e,n;if("function"==typeof t)e="[function "+(t.name||"anonymous")+"]";else{e=t&&"function"==typeof t.toString?t.toString():E.toString(t);if(/\[object [a-zA-Z0-9$_]+\]/.test(e))try{e=JSON.stringify(t)}catch(t){}0===e.length&&(e="(empty array)")}return"(<"+((n=e).length<41?n:n.substr(0,38)+"...")+">, no stack trace)"}function x(){return"function"==typeof J}function k(t){var e=t.match(Q);return e?{fileName:e[1],line:parseInt(e[2],10)}:void 0}function C(t){this._parent=t,this._promisesCreated=0;var e=this._length=1+(void 0===t?0:t._length);J(this,C),32<e&&this.uncycle()}var S,D,T,M,$=o._async,O=et("./errors").Warning,E=et("./util"),P=et("./es5"),A=E.canAttachTrace,R=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,I=/\((?:timers\.js):\d+:\d+\)/,F=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,j=null,L=null,N=!1,V=!(0==E.env("BLUEBIRD_DEBUG")||!E.env("BLUEBIRD_DEBUG")&&"development"!==E.env("NODE_ENV")),H=!(0==E.env("BLUEBIRD_WARNINGS")||!V&&!E.env("BLUEBIRD_WARNINGS")),B=!(0==E.env("BLUEBIRD_LONG_STACK_TRACES")||!V&&!E.env("BLUEBIRD_LONG_STACK_TRACES")),Y=0!=E.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(H||!!E.env("BLUEBIRD_W_FORGOTTEN_RETURN"));!function(){function e(){for(var t=0;t<i.length;++t)i[t]._notifyUnhandledRejection();n()}function n(){i.length=0}var i=[];M=function(t){i.push(t),setTimeout(e,1)},P.defineProperty(o,"_unhandledRejectionCheck",{value:e}),P.defineProperty(o,"_unhandledRejectionClear",{value:n})}(),o.prototype.suppressUnhandledRejections=function(){var t=this._target();t._bitField=-1048577&t._bitField|524288},o.prototype._ensurePossibleRejectionHandled=function(){0==(524288&this._bitField)&&(this._setRejectionIsUnhandled(),M(this))},o.prototype._notifyUnhandledRejectionIsHandled=function(){n("rejectionHandled",S,void 0,this)},o.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},o.prototype._returnedNonUndefined=function(){return 0!=(268435456&this._bitField)},o.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var t=this._settledValue();this._setUnhandledRejectionIsNotified(),n("unhandledRejection",D,t,this)}},o.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},o.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},o.prototype._isUnhandledRejectionNotified=function(){return 0<(262144&this._bitField)},o.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},o.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},o.prototype._isRejectionUnhandled=function(){return 0<(1048576&this._bitField)},o.prototype._warn=function(t,e,n){return v(t,e,n||this)},o.onPossiblyUnhandledRejection=function(t){var e=o._getContext();D=E.contextBind(e,t)},o.onUnhandledRejectionHandled=function(t){var e=o._getContext();S=E.contextBind(e,t)};var U=function(){};o.longStackTraces=function(){if($.haveItemsQueued()&&!tt.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!tt.longStackTraces&&x()){var t=o.prototype._captureStackTrace,e=o.prototype._attachExtraTrace,n=o.prototype._dereferenceTrace;tt.longStackTraces=!0,U=function(){if($.haveItemsQueued()&&!tt.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");o.prototype._captureStackTrace=t,o.prototype._attachExtraTrace=e,o.prototype._dereferenceTrace=n,i.deactivateLongStackTraces(),tt.longStackTraces=!1},o.prototype._captureStackTrace=p,o.prototype._attachExtraTrace=g,o.prototype._dereferenceTrace=m,i.activateLongStackTraces()}},o.hasLongStackTraces=function(){return tt.longStackTraces&&x()};var z={unhandledrejection:{before:function(){var t=E.global.onunhandledrejection;return E.global.onunhandledrejection=null,t},after:function(t){E.global.onunhandledrejection=t}},rejectionhandled:{before:function(){var t=E.global.onrejectionhandled;return E.global.onrejectionhandled=null,t},after:function(t){E.global.onrejectionhandled=t}}},W=function(){var i=function(t,e){if(!t)return!E.global.dispatchEvent(e);var n;try{return n=t.before(),!E.global.dispatchEvent(e)}finally{t.after(n)}};try{if("function"==typeof CustomEvent){var t=new CustomEvent("CustomEvent");return E.global.dispatchEvent(t),function(t,e){t=t.toLowerCase();var n=new CustomEvent(t,{detail:e,cancelable:!0});return P.defineProperty(n,"promise",{value:e.promise}),P.defineProperty(n,"reason",{value:e.reason}),i(z[t],n)}}if("function"==typeof Event){t=new Event("CustomEvent");return E.global.dispatchEvent(t),function(t,e){t=t.toLowerCase();var n=new Event(t,{cancelable:!0});return n.detail=e,P.defineProperty(n,"promise",{value:e.promise}),P.defineProperty(n,"reason",{value:e.reason}),i(z[t],n)}}return(t=document.createEvent("CustomEvent")).initCustomEvent("testingtheevent",!1,!0,{}),E.global.dispatchEvent(t),function(t,e){t=t.toLowerCase();var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!0,e),i(z[t],n)}}catch(t){}return function(){return!1}}(),q=E.isNode?function(){return process.emit.apply(process,arguments)}:E.global?function(t){var e="on"+t.toLowerCase(),n=E.global[e];return!!n&&(n.apply(E.global,[].slice.call(arguments,1)),!0)}:function(){return!1},G={promiseCreated:t,promiseFulfilled:t,promiseRejected:t,promiseResolved:t,promiseCancelled:t,promiseChained:function(t,e,n){return{promise:e,child:n}},warning:function(t,e){return{warning:e}},unhandledRejection:function(t,e,n){return{reason:e,promise:n}},rejectionHandled:t},Z=function(t){var e=!1;try{e=q.apply(null,arguments)}catch(t){$.throwLater(t),e=!0}var n=!1;try{n=W(t,G[t].apply(null,arguments))}catch(t){$.throwLater(t),n=!0}return n||e};o.config=function(t){if("longStackTraces"in(t=Object(t))&&(t.longStackTraces?o.longStackTraces():!t.longStackTraces&&o.hasLongStackTraces()&&U()),"warnings"in t){var e=t.warnings;tt.warnings=!!e,Y=tt.warnings,E.isObject(e)&&"wForgottenReturn"in e&&(Y=!!e.wForgottenReturn)}if("cancellation"in t&&t.cancellation&&!tt.cancellation){if($.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");o.prototype._clearCancellationData=h,o.prototype._propagateFrom=f,o.prototype._onCancel=c,o.prototype._setOnCancel=d,o.prototype._attachCancellationCallback=u,o.prototype._execute=l,X=f,tt.cancellation=!0}if("monitoring"in t&&(t.monitoring&&!tt.monitoring?(tt.monitoring=!0,o.prototype._fireEvent=Z):!t.monitoring&&tt.monitoring&&(tt.monitoring=!1,o.prototype._fireEvent=s)),"asyncHooks"in t&&E.nodeSupportsAsyncResource){var n=tt.asyncHooks,i=!!t.asyncHooks;n!==i&&((tt.asyncHooks=i)?r():a())}return o},o.prototype._fireEvent=s,o.prototype._execute=function(t,e,n){try{t(e,n)}catch(t){return t}},o.prototype._onCancel=function(){},o.prototype._setOnCancel=function(t){},o.prototype._attachCancellationCallback=function(t){},o.prototype._captureStackTrace=function(){},o.prototype._attachExtraTrace=function(){},o.prototype._dereferenceTrace=function(){},o.prototype._clearCancellationData=function(){},o.prototype._propagateFrom=function(t,e){};var X=function(t,e){0!=(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)},K=function(){return!1},Q=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;E.inherits(C,Error),(i.CapturedTrace=C).prototype.uncycle=function(){var t=this._length;if(!(t<2)){for(var e=[],n={},i=0,r=this;void 0!==r;++i)e.push(r),r=r._parent;for(i=(t=this._length=i)-1;0<=i;--i){var a=e[i].stack;void 0===n[a]&&(n[a]=i)}for(i=0;i<t;++i){var o=n[e[i].stack];if(void 0!==o&&o!==i){0<o&&(e[o-1]._parent=void 0,e[o-1]._length=1),e[i]._parent=void 0,e[i]._length=1;var s=0<i?e[i-1]:this;o<t-1?(s._parent=e[o+1],s._parent.uncycle(),s._length=s._parent._length+1):(s._parent=void 0,s._length=1);for(var l=s._length+1,u=i-2;0<=u;--u)e[u]._length=l,l++;return}}}},C.prototype.attachExtraTrace=function(t){if(!t.__stackCleaned__){this.uncycle();for(var e=b(t),n=e.message,i=[e.stack],r=this;void 0!==r;)i.push(y(r.stack.split("\n"))),r=r._parent;(function(t){for(var e=t[0],n=1;n<t.length;++n){for(var i=t[n],r=e.length-1,a=e[r],o=-1,s=i.length-1;0<=s;--s)if(i[s]===a){o=s;break}for(s=o;0<=s;--s){var l=i[s];if(e[r]!==l)break;e.pop(),r--}e=i}})(i),function(t){for(var e=0;e<t.length;++e)(0===t[e].length||e+1<t.length&&t[e][0]===t[e+1][0])&&(t.splice(e,1),e--)}(i),E.notEnumerableProp(t,"stack",function(t,e){for(var n=0;n<e.length-1;++n)e[n].push("From previous event:"),e[n]=e[n].join("\n");return n<e.length&&(e[n]=e[n].join("\n")),t+"\n"+e.join("\n")}(n,i)),E.notEnumerableProp(t,"__stackCleaned__",!0)}};var J=function(){var t=/^\s*at\s*/,e=function(t,e){return"string"==typeof t?t:void 0!==e.name&&void 0!==e.message?e.toString():w(e)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,j=t,L=e;var n=Error.captureStackTrace;return K=function(t){return R.test(t)},function(t,e){Error.stackTraceLimit+=6,n(t,e),Error.stackTraceLimit-=6}}var i,r=new Error;if("string"==typeof r.stack&&0<=r.stack.split("\n")[0].indexOf("stackDetection@"))return j=/@/,L=e,N=!0,function(t){t.stack=(new Error).stack};try{throw new Error}catch(t){i="stack"in t}return"stack"in r||!i||"number"!=typeof Error.stackTraceLimit?(L=function(t,e){return"string"==typeof t?t:"object"!=typeof e&&"function"!=typeof e||void 0===e.name||void 0===e.message?w(e):e.toString()},null):(j=t,L=e,function(e){Error.stackTraceLimit+=6;try{throw new Error}catch(t){e.stack=t.stack}Error.stackTraceLimit-=6})}();"undefined"!=typeof console&&void 0!==console.warn&&(T=function(t){},E.isNode&&process.stderr.isTTY?T=function(t,e){}:E.isNode||"string"!=typeof(new Error).stack||(T=function(t,e){}));var tt={warnings:H,longStackTraces:!1,cancellation:!1,monitoring:!1,asyncHooks:!1};return B&&o.longStackTraces(),{asyncHooks:function(){return tt.asyncHooks},longStackTraces:function(){return tt.longStackTraces},warnings:function(){return tt.warnings},cancellation:function(){return tt.cancellation},monitoring:function(){return tt.monitoring},propagateFromFunction:function(){return X},boundValueFunction:function(){return e},checkForgottenReturns:function(t,e,n,i,r){if(void 0===t&&null!==e&&Y){if(void 0!==r&&r._returnedNonUndefined())return;if(0==(65535&i._bitField))return;n&&(n+=" ");var a="",o="";if(e._trace){for(var s=e._trace.stack.split("\n"),l=y(s),u=l.length-1;0<=u;--u){var c=l[u];if(!I.test(c)){var d=c.match(F);d&&(a="at "+d[1]+":"+d[2]+":"+d[3]+" ");break}}if(0<l.length){var h=l[0];for(u=0;u<s.length;++u)if(s[u]===h){0<u&&(o="\n"+s[u-1]);break}}}var f="a promise was created in a "+n+"handler "+a+"but was not returned from it, see http://goo.gl/rRqMUw"+o;i._warn(f,!0,e)}},setBounds:function(t,e){if(x()){for(var n,i,r=(t.stack||"").split("\n"),a=(e.stack||"").split("\n"),o=-1,s=-1,l=0;l<r.length;++l)if(u=k(r[l])){n=u.fileName,o=u.line;break}for(l=0;l<a.length;++l){var u;if(u=k(a[l])){i=u.fileName,s=u.line;break}}o<0||s<0||!n||!i||n!==i||s<=o||(K=function(t){if(R.test(t))return!0;var e=k(t);return!!(e&&e.fileName===n&&o<=e.line&&e.line<=s)})}},warn:v,deprecated:function(t,e){var n=t+" is deprecated and will be removed in a future version.";return e&&(n+=" Use "+e+" instead."),v(n)},CapturedTrace:C,fireDomEvent:W,fireGlobalEvent:q}}},{"./errors":12,"./es5":13,"./util":36}],10:[function(t,e,n){"use strict";e.exports=function(n){function i(){return this.value}function r(){throw this.reason}n.prototype.return=n.prototype.thenReturn=function(t){return t instanceof n&&t.suppressUnhandledRejections(),this._then(i,void 0,void 0,{value:t},void 0)},n.prototype.throw=n.prototype.thenThrow=function(t){return this._then(r,void 0,void 0,{reason:t},void 0)},n.prototype.catchThrow=function(t){if(arguments.length<=1)return this._then(void 0,r,void 0,{reason:t},void 0);var e=arguments[1];return this.caught(t,function(){throw e})},n.prototype.catchReturn=function(t){if(arguments.length<=1)return t instanceof n&&t.suppressUnhandledRejections(),this._then(void 0,i,void 0,{value:t},void 0);var e=arguments[1];e instanceof n&&e.suppressUnhandledRejections();return this.caught(t,function(){return e})}}},{}],11:[function(t,e,n){"use strict";e.exports=function(t,n){function i(){return e(this)}var r=t.reduce,e=t.all;t.prototype.each=function(t){return r(this,t,n,0)._then(i,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(t){return r(this,t,n,n)},t.each=function(t,e){return r(t,e,n,0)._then(i,void 0,void 0,t,void 0)},t.mapSeries=function(t,e){return r(t,e,n,n)}}},{}],12:[function(t,e,n){"use strict";function i(e,n){function i(t){return this instanceof i?(d(this,"message","string"==typeof t?t:n),d(this,"name",e),void(Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this))):new i(t)}return c(i,Error),i}function r(t){return this instanceof r?(d(this,"name","OperationalError"),d(this,"message",t),this.cause=t,this.isOperational=!0,void(t instanceof Error?(d(this,"message",t.message),d(this,"stack",t.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor))):new r(t)}var a,o,s=t("./es5"),l=s.freeze,u=t("./util"),c=u.inherits,d=u.notEnumerableProp,h=i("Warning","warning"),f=i("CancellationError","cancellation error"),p=i("TimeoutError","timeout error"),g=i("AggregateError","aggregate error");try{a=TypeError,o=RangeError}catch(t){a=i("TypeError","type error"),o=i("RangeError","range error")}for(var m="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),v=0;v<m.length;++v)"function"==typeof Array.prototype[m[v]]&&(g.prototype[m[v]]=Array.prototype[m[v]]);s.defineProperty(g.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),g.prototype.isOperational=!0;var y=0;g.prototype.toString=function(){var t=Array(4*y+1).join(" "),e="\n"+t+"AggregateError of:\n";y++,t=Array(4*y+1).join(" ");for(var n=0;n<this.length;++n){for(var i=this[n]===this?"[Circular AggregateError]":this[n]+"",r=i.split("\n"),a=0;a<r.length;++a)r[a]=t+r[a];e+=(i=r.join("\n"))+"\n"}return y--,e},c(r,Error);var b=Error.__BluebirdErrorTypes__;b||(b=l({CancellationError:f,TimeoutError:p,OperationalError:r,RejectionError:r,AggregateError:g}),s.defineProperty(Error,"__BluebirdErrorTypes__",{value:b,writable:!1,enumerable:!1,configurable:!1})),e.exports={Error:Error,TypeError:a,RangeError:o,CancellationError:b.CancellationError,OperationalError:b.OperationalError,TimeoutError:b.TimeoutError,AggregateError:b.AggregateError,Warning:h}},{"./es5":13,"./util":36}],13:[function(t,e,n){var i=function(){"use strict";return void 0===this}();if(i)e.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:i,propertyIsWritable:function(t,e){var n=Object.getOwnPropertyDescriptor(t,e);return!(n&&!n.writable&&!n.set)}};else{var r={}.hasOwnProperty,a={}.toString,o={}.constructor.prototype,s=function(t){var e=[];for(var n in t)r.call(t,n)&&e.push(n);return e};e.exports={isArray:function(t){try{return"[object Array]"===a.call(t)}catch(t){return!1}},keys:s,names:s,defineProperty:function(t,e,n){return t[e]=n.value,t},getDescriptor:function(t,e){return{value:t[e]}},freeze:function(t){return t},getPrototypeOf:function(t){try{return Object(t).constructor.prototype}catch(t){return o}},isES5:i,propertyIsWritable:function(){return!0}}}},{}],14:[function(t,e,n){"use strict";e.exports=function(t,i){var r=t.map;t.prototype.filter=function(t,e){return r(this,t,e,i)},t.filter=function(t,e,n){return r(t,e,n,i)}}},{}],15:[function(t,e,n){"use strict";e.exports=function(s,o,l){function r(t,e,n){this.promise=t,this.type=e,this.handler=n,this.called=!1,this.cancelPromise=null}function u(t){this.finallyHandler=t}function c(t,e){return null!=t.cancelPromise&&(1<arguments.length?t.cancelPromise._reject(e):t.cancelPromise._cancel(),!(t.cancelPromise=null))}function d(){return f.call(this,this.promise._target()._settledValue())}function h(t){return c(this,t)?void 0:(m.e=t,m)}function f(t){var e=this.promise,n=this.handler;if(!this.called){this.called=!0;var i=this.isFinallyHandler()?n.call(e._boundValue()):n.call(e._boundValue(),t);if(i===l)return i;if(void 0!==i){e._setReturnedNonUndefined();var r=o(i,e);if(r instanceof s){if(null!=this.cancelPromise){if(r._isCancelled()){var a=new g("late cancellation observer");return e._attachExtraTrace(a),m.e=a,m}r.isPending()&&r._attachCancellationCallback(new u(this))}return r._then(d,h,void 0,this,void 0)}}}return e.isRejected()?(c(this),m.e=t,m):(c(this),t)}var p=t("./util"),g=s.CancellationError,m=p.errorObj,v=t("./catch_filter")(l);return r.prototype.isFinallyHandler=function(){return 0===this.type},u.prototype._resultCancelled=function(){c(this.finallyHandler)},s.prototype._passThrough=function(t,e,n,i){return"function"!=typeof t?this.then():this._then(n,i,void 0,new r(this,e,t),void 0)},s.prototype.lastly=s.prototype.finally=function(t){return this._passThrough(t,0,f,f)},s.prototype.tap=function(t){return this._passThrough(t,1,f)},s.prototype.tapCatch=function(t){var e=arguments.length;if(1===e)return this._passThrough(t,1,void 0,f);var n,i=new Array(e-1),r=0;for(n=0;n<e-1;++n){var a=arguments[n];if(!p.isObject(a))return s.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+p.classString(a)));i[r++]=a}i.length=r;var o=arguments[n];return this._passThrough(v(i,o,this),1,void 0,f)},r}},{"./catch_filter":7,"./util":36}],16:[function(n,t,e){"use strict";t.exports=function(s,i,o,l,t,u){function c(t,e,n,i){if(u.cancellation()){var r=new s(o),a=this._finallyPromise=new s(o);this._promise=r.lastly(function(){return a}),r._captureStackTrace(),r._setOnCancel(this)}else{(this._promise=new s(o))._captureStackTrace()}this._stack=i,this._generatorFunction=t,this._receiver=e,this._generator=void 0,this._yieldHandlers="function"==typeof n?[n].concat(p):p,this._yieldedPromise=null,this._cancellationPhase=!1}var d=n("./errors").TypeError,e=n("./util"),h=e.errorObj,f=e.tryCatch,p=[];e.inherits(c,t),c.prototype._isResolved=function(){return null===this._promise},c.prototype._cleanup=function(){this._promise=this._generator=null,u.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},c.prototype._promiseCancelled=function(){if(!this._isResolved()){var t;if(void 0!==this._generator.return)this._promise._pushContext(),t=f(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var e=new s.CancellationError("generator .return() sentinel");s.coroutine.returnSentinel=e,this._promise._attachExtraTrace(e),this._promise._pushContext(),t=f(this._generator.throw).call(this._generator,e),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(t)}},c.prototype._promiseFulfilled=function(t){this._yieldedPromise=null,this._promise._pushContext();var e=f(this._generator.next).call(this._generator,t);this._promise._popContext(),this._continue(e)},c.prototype._promiseRejected=function(t){this._yieldedPromise=null,this._promise._attachExtraTrace(t),this._promise._pushContext();var e=f(this._generator.throw).call(this._generator,t);this._promise._popContext(),this._continue(e)},c.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof s){var t=this._yieldedPromise;this._yieldedPromise=null,t.cancel()}},c.prototype.promise=function(){return this._promise},c.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},c.prototype._continue=function(t){var e=this._promise;if(t===h)return this._cleanup(),this._cancellationPhase?e.cancel():e._rejectCallback(t.e,!1);var n=t.value;if(!0===t.done)return this._cleanup(),this._cancellationPhase?e.cancel():e._resolveCallback(n);var i=l(n,this._promise);if(i instanceof s||null!==(i=function(t,e,n){for(var i=0;i<e.length;++i){n._pushContext();var r=f(e[i])(t);if(n._popContext(),r===h){n._pushContext();var a=s.reject(h.e);return n._popContext(),a}var o=l(r,n);if(o instanceof s)return o}return null}(i,this._yieldHandlers,this._promise))){var r=(i=i._target())._bitField;0==(50397184&r)?(this._yieldedPromise=i)._proxy(this,null):0!=(33554432&r)?s._async.invoke(this._promiseFulfilled,this,i._value()):0!=(16777216&r)?s._async.invoke(this._promiseRejected,this,i._reason()):this._promiseCancelled()}else this._promiseRejected(new d("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(n))+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")))},s.coroutine=function(i,t){if("function"!=typeof i)throw new d("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var r=Object(t).yieldHandler,a=c,o=(new Error).stack;return function(){var t=i.apply(this,arguments),e=new a(void 0,void 0,r,o),n=e.promise();return e._generator=t,e._promiseFulfilled(void 0),n}},s.coroutine.addYieldHandler=function(t){if("function"!=typeof t)throw new d("expecting a function but got "+e.classString(t));p.push(t)},s.spawn=function(t){if(u.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof t)return i("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var e=new c(t,this),n=e.promise();return e._run(s.spawn),n}}},{"./errors":12,"./util":36}],17:[function(o,t,e){"use strict";t.exports=function(t,r,e,n,i){var a=o("./util");a.canEvaluate,a.tryCatch,a.errorObj,t.join=function(){var t,e=arguments.length-1;0<e&&"function"==typeof arguments[e]&&(t=arguments[e]);var n=[].slice.call(arguments);t&&n.pop();var i=new r(n).promise();return void 0!==t?i.spread(t):i}}},{"./util":36}],18:[function(e,t,n){"use strict";t.exports=function(f,t,a,p,s,g){function o(t,e,n,i){this.constructor$(t),this._promise._captureStackTrace();var r=f._getContext();if(this._callback=l.contextBind(r,e),this._preservedValues=i===s?new Array(this.length()):null,this._limit=n,this._inFlight=0,this._queue=[],u.invoke(this._asyncInit,this,void 0),l.isArray(t))for(var a=0;a<t.length;++a){var o=t[a];o instanceof f&&o.suppressUnhandledRejections()}}function r(t,e,n,i){if("function"!=typeof e)return a("expecting a function but got "+l.classString(e));var r=0;if(void 0!==n){if("object"!=typeof n||null===n)return f.reject(new TypeError("options argument must be an object but it is "+l.classString(n)));if("number"!=typeof n.concurrency)return f.reject(new TypeError("'concurrency' must be a number but it is "+l.classString(n.concurrency)));r=n.concurrency}return new o(t,e,r="number"==typeof r&&isFinite(r)&&1<=r?r:0,i).promise()}var l=e("./util"),m=l.tryCatch,v=l.errorObj,u=f._async;l.inherits(o,t),o.prototype._asyncInit=function(){this._init$(void 0,-2)},o.prototype._init=function(){},o.prototype._promiseFulfilled=function(t,e){var n=this._values,i=this.length(),r=this._preservedValues,a=this._limit;if(e<0){if(n[e=-1*e-1]=t,1<=a&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(1<=a&&this._inFlight>=a)return n[e]=t,this._queue.push(e),!1;null!==r&&(r[e]=t);var o=this._promise,s=this._callback,l=o._boundValue();o._pushContext();var u=m(s).call(l,t,e,i),c=o._popContext();if(g.checkForgottenReturns(u,c,null!==r?"Promise.filter":"Promise.map",o),u===v)return this._reject(u.e),!0;var d=p(u,this._promise);if(d instanceof f){var h=(d=d._target())._bitField;if(0==(50397184&h))return 1<=a&&this._inFlight++,(n[e]=d)._proxy(this,-1*(e+1)),!1;if(0==(33554432&h))return 0!=(16777216&h)?this._reject(d._reason()):this._cancel(),!0;u=d._value()}n[e]=u}return i<=++this._totalResolved&&(null!==r?this._filter(n,r):this._resolve(n),!0)},o.prototype._drainQueue=function(){for(var t=this._queue,e=this._limit,n=this._values;0<t.length&&this._inFlight<e;){if(this._isResolved())return;var i=t.pop();this._promiseFulfilled(n[i],i)}},o.prototype._filter=function(t,e){for(var n=e.length,i=new Array(n),r=0,a=0;a<n;++a)t[a]&&(i[r++]=e[a]);i.length=r,this._resolve(i)},o.prototype.preservedValues=function(){return this._preservedValues},f.prototype.map=function(t,e){return r(this,t,e,null)},f.map=function(t,e,n,i){return r(t,e,n,i)}}},{"./util":36}],19:[function(e,t,n){"use strict";t.exports=function(o,s,t,l,u){var c=e("./util"),d=c.tryCatch;o.method=function(i){if("function"!=typeof i)throw new o.TypeError("expecting a function but got "+c.classString(i));return function(){var t=new o(s);t._captureStackTrace(),t._pushContext();var e=d(i).apply(this,arguments),n=t._popContext();return u.checkForgottenReturns(e,n,"Promise.method",t),t._resolveFromSyncValue(e),t}},o.attempt=o.try=function(t){if("function"!=typeof t)return l("expecting a function but got "+c.classString(t));var e,n=new o(s);if(n._captureStackTrace(),n._pushContext(),1<arguments.length){u.deprecated("calling Promise.try with more than 1 argument");var i=arguments[1],r=arguments[2];e=c.isArray(i)?d(t).apply(r,i):d(t).call(r,i)}else e=d(t)();var a=n._popContext();return u.checkForgottenReturns(e,a,"Promise.try",n),n._resolveFromSyncValue(e),n},o.prototype._resolveFromSyncValue=function(t){t===c.errorObj?this._rejectCallback(t.e,!1):this._resolveCallback(t,!0)}}},{"./util":36}],20:[function(t,e,n){"use strict";function o(t){var e,n;if((n=t)instanceof Error&&c.getPrototypeOf(n)===Error.prototype){(e=new u(t)).name=t.name,e.message=t.message,e.stack=t.stack;for(var i=c.keys(t),r=0;r<i.length;++r){var a=i[r];d.test(a)||(e[a]=t[a])}return e}return s.markAsOriginatingFromRejection(t),t}var s=t("./util"),l=s.maybeWrapAsError,u=t("./errors").OperationalError,c=t("./es5"),d=/^(?:name|message|stack|cause)$/;e.exports=function(r,a){return function(t,e){if(null!==r){if(t){var n=o(l(t));r._attachExtraTrace(n),r._reject(n)}else if(a){var i=[].slice.call(arguments,1);r._fulfill(i)}else r._fulfill(e);r=null}}}},{"./errors":12,"./es5":13,"./util":36}],21:[function(e,t,n){"use strict";t.exports=function(t){function i(t,e){if(!o.isArray(t))return r.call(this,t,e);var n=l(e).apply(this._boundValue(),[null].concat(t));n===u&&s.throwLater(n.e)}function r(t,e){var n=this._boundValue(),i=void 0===t?l(e).call(n,null):l(e).call(n,null,t);i===u&&s.throwLater(i.e)}function a(t,e){if(!t){var n=new Error(t+"");n.cause=t,t=n}var i=l(e).call(this._boundValue(),t);i===u&&s.throwLater(i.e)}var o=e("./util"),s=t._async,l=o.tryCatch,u=o.errorObj;t.prototype.asCallback=t.prototype.nodeify=function(t,e){if("function"==typeof t){var n=r;void 0!==e&&Object(e).spread&&(n=i),this._then(n,a,void 0,this,t)}return this}}},{"./util":36}],22:[function(R,I,t){"use strict";I.exports=function(){function s(){}function f(t){t!==w&&function(t,e){if(null==t||t.constructor!==f)throw new b("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof e)throw new b("expecting a function but got "+p.classString(e))}(this,t),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(t),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function t(t){this.promise._resolveCallback(t)}function e(t){this.promise._rejectCallback(t,!1)}function n(t){var e=new f(w);e._fulfillmentHandler0=t,e._rejectionHandler0=t,e._promise0=t,e._receiver0=t}var l=function(){return new b("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},u=function(){return new f.PromiseInspection(this._target())},o=function(t){return f.reject(new b(t))},c={},p=R("./util");p.setReflectHandler(u);var i=function(){var t=process.domain;return void 0===t?null:t},r=function(){return{domain:i(),async:null}},a=p.isNode&&p.nodeSupportsAsyncResource?R("async_hooks").AsyncResource:null,d=function(){return{domain:i(),async:new a("Bluebird::Promise")}},g=p.isNode?r:function(){return null};p.notEnumerableProp(f,"_getContext",g);var h=R("./es5"),m=R("./async"),v=new m;h.defineProperty(f,"_async",{value:v});var y=R("./errors"),b=f.TypeError=y.TypeError;f.RangeError=y.RangeError;var _=f.CancellationError=y.CancellationError;f.TimeoutError=y.TimeoutError,f.OperationalError=y.OperationalError,f.RejectionError=y.OperationalError,f.AggregateError=y.AggregateError;var w=function(){},x={},k={},C=R("./thenables")(f,w),S=R("./promise_array")(f,w,C,o,s),D=R("./context")(f),T=D.create,M=R("./debuggability")(f,D,function(){g=d,p.notEnumerableProp(f,"_getContext",d)},function(){g=r,p.notEnumerableProp(f,"_getContext",r)}),$=(M.CapturedTrace,R("./finally")(f,C,k)),O=R("./catch_filter")(k),E=R("./nodeback"),P=p.errorObj,A=p.tryCatch;return f.prototype.toString=function(){return"[object Promise]"},f.prototype.caught=f.prototype.catch=function(t){var e=arguments.length;if(1<e){var n,i=new Array(e-1),r=0;for(n=0;n<e-1;++n){var a=arguments[n];if(!p.isObject(a))return o("Catch statement predicate: expecting an object but got "+p.classString(a));i[r++]=a}if(i.length=r,"function"!=typeof(t=arguments[n]))throw new b("The last argument to .catch() must be a function, got "+p.toString(t));return this.then(void 0,O(i,t,this))}return this.then(void 0,t)},f.prototype.reflect=function(){return this._then(u,u,void 0,this,void 0)},f.prototype.then=function(t,e){if(M.warnings()&&0<arguments.length&&"function"!=typeof t&&"function"!=typeof e){var n=".then() only accepts functions but was passed: "+p.classString(t);1<arguments.length&&(n+=", "+p.classString(e)),this._warn(n)}return this._then(t,e,void 0,void 0,void 0)},f.prototype.done=function(t,e){this._then(t,e,void 0,void 0,void 0)._setIsFinal()},f.prototype.spread=function(t){return"function"!=typeof t?o("expecting a function but got "+p.classString(t)):this.all()._then(t,void 0,void 0,x,void 0)},f.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this.value(),t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this.reason(),t.isRejected=!0),t},f.prototype.all=function(){return 0<arguments.length&&this._warn(".all() was passed arguments but it does not take any"),new S(this).promise()},f.prototype.error=function(t){return this.caught(p.originatesFromRejection,t)},f.getNewLibraryCopy=I.exports,f.is=function(t){return t instanceof f},f.fromNode=f.fromCallback=function(t){var e=new f(w);e._captureStackTrace();var n=1<arguments.length&&!!Object(arguments[1]).multiArgs,i=A(t)(E(e,n));return i===P&&e._rejectCallback(i.e,!0),e._isFateSealed()||e._setAsyncGuaranteed(),e},f.all=function(t){return new S(t).promise()},f.resolve=f.fulfilled=f.cast=function(t){var e=C(t);return e instanceof f||((e=new f(w))._captureStackTrace(),e._setFulfilled(),e._rejectionHandler0=t),e},f.reject=f.rejected=function(t){var e=new f(w);return e._captureStackTrace(),e._rejectCallback(t,!0),e},f.setScheduler=function(t){if("function"!=typeof t)throw new b("expecting a function but got "+p.classString(t));return v.setScheduler(t)},f.prototype._then=function(t,e,n,i,r){var a=void 0!==r,o=a?r:new f(w),s=this._target(),l=s._bitField;a||(o._propagateFrom(this,3),o._captureStackTrace(),void 0===i&&0!=(2097152&this._bitField)&&(i=0!=(50397184&l)?this._boundValue():s===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,o));var u=g();if(0!=(50397184&l)){var c,d,h=s._settlePromiseCtx;0!=(33554432&l)?(d=s._rejectionHandler0,c=t):0!=(16777216&l)?(d=s._fulfillmentHandler0,c=e,s._unsetRejectionIsUnhandled()):(h=s._settlePromiseLateCancellationObserver,d=new _("late cancellation observer"),s._attachExtraTrace(d),c=e),v.invoke(h,s,{handler:p.contextBind(u,c),promise:o,receiver:i,value:d})}else s._addCallbacks(t,e,o,i,u);return o},f.prototype._length=function(){return 65535&this._bitField},f.prototype._isFateSealed=function(){return 0!=(117506048&this._bitField)},f.prototype._isFollowing=function(){return 67108864==(67108864&this._bitField)},f.prototype._setLength=function(t){this._bitField=-65536&this._bitField|65535&t},f.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},f.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},f.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},f.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},f.prototype._isFinal=function(){return 0<(4194304&this._bitField)},f.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},f.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},f.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},f.prototype._setAsyncGuaranteed=function(){if(!v.hasCustomScheduler()){var t=this._bitField;this._bitField=t|(536870912&t)>>2^134217728}},f.prototype._setNoAsyncGuarantee=function(){this._bitField=-134217729&(536870912|this._bitField)},f.prototype._receiverAt=function(t){var e=0===t?this._receiver0:this[4*t-4+3];return e===c?void 0:void 0===e&&this._isBound()?this._boundValue():e},f.prototype._promiseAt=function(t){return this[4*t-4+2]},f.prototype._fulfillmentHandlerAt=function(t){return this[4*t-4+0]},f.prototype._rejectionHandlerAt=function(t){return this[4*t-4+1]},f.prototype._boundValue=function(){},f.prototype._migrateCallback0=function(t){var e=(t._bitField,t._fulfillmentHandler0),n=t._rejectionHandler0,i=t._promise0,r=t._receiverAt(0);void 0===r&&(r=c),this._addCallbacks(e,n,i,r,null)},f.prototype._migrateCallbackAt=function(t,e){var n=t._fulfillmentHandlerAt(e),i=t._rejectionHandlerAt(e),r=t._promiseAt(e),a=t._receiverAt(e);void 0===a&&(a=c),this._addCallbacks(n,i,r,a,null)},f.prototype._addCallbacks=function(t,e,n,i,r){var a=this._length();if(65531<=a&&(a=0,this._setLength(0)),0===a)this._promise0=n,this._receiver0=i,"function"==typeof t&&(this._fulfillmentHandler0=p.contextBind(r,t)),"function"==typeof e&&(this._rejectionHandler0=p.contextBind(r,e));else{var o=4*a-4;this[o+2]=n,this[o+3]=i,"function"==typeof t&&(this[o+0]=p.contextBind(r,t)),"function"==typeof e&&(this[o+1]=p.contextBind(r,e))}return this._setLength(a+1),a},f.prototype._proxy=function(t,e){this._addCallbacks(void 0,void 0,e,t,null)},f.prototype._resolveCallback=function(t,e){if(0==(117506048&this._bitField)){if(t===this)return this._rejectCallback(l(),!1);var n=C(t,this);if(!(n instanceof f))return this._fulfill(t);e&&this._propagateFrom(n,2);var i=n._target();if(i===this)return void this._reject(l());var r=i._bitField;if(0==(50397184&r)){var a=this._length();0<a&&i._migrateCallback0(this);for(var o=1;o<a;++o)i._migrateCallbackAt(this,o);this._setFollowing(),this._setLength(0),this._setFollowee(n)}else if(0!=(33554432&r))this._fulfill(i._value());else if(0!=(16777216&r))this._reject(i._reason());else{var s=new _("late cancellation observer");i._attachExtraTrace(s),this._reject(s)}}},f.prototype._rejectCallback=function(t,e,n){var i=p.ensureErrorObject(t),r=i===t;if(!r&&!n&&M.warnings()){var a="a promise was rejected with a non-error: "+p.classString(t);this._warn(a,!0)}this._attachExtraTrace(i,!!e&&r),this._reject(t)},f.prototype._resolveFromExecutor=function(t){if(t!==w){var e=this;this._captureStackTrace(),this._pushContext();var n=!0,i=this._execute(t,function(t){e._resolveCallback(t)},function(t){e._rejectCallback(t,n)});n=!1,this._popContext(),void 0!==i&&e._rejectCallback(i,!0)}},f.prototype._settlePromiseFromHandler=function(t,e,n,i){var r=i._bitField;if(0==(65536&r)){var a;i._pushContext(),e===x?n&&"number"==typeof n.length?a=A(t).apply(this._boundValue(),n):(a=P).e=new b("cannot .spread() a non-array: "+p.classString(n)):a=A(t).call(e,n);var o=i._popContext();0==(65536&(r=i._bitField))&&(a===k?i._reject(n):a===P?i._rejectCallback(a.e,!1):(M.checkForgottenReturns(a,o,"",i,this),i._resolveCallback(a)))}},f.prototype._target=function(){for(var t=this;t._isFollowing();)t=t._followee();return t},f.prototype._followee=function(){return this._rejectionHandler0},f.prototype._setFollowee=function(t){this._rejectionHandler0=t},f.prototype._settlePromise=function(t,e,n,i){var r=t instanceof f,a=this._bitField,o=0!=(134217728&a);0!=(65536&a)?(r&&t._invokeInternalOnCancel(),n instanceof $&&n.isFinallyHandler()?(n.cancelPromise=t,A(e).call(n,i)===P&&t._reject(P.e)):e===u?t._fulfill(u.call(n)):n instanceof s?n._promiseCancelled(t):r||t instanceof S?t._cancel():n.cancel()):"function"==typeof e?r?(o&&t._setAsyncGuaranteed(),this._settlePromiseFromHandler(e,n,i,t)):e.call(n,i,t):n instanceof s?n._isResolved()||(0!=(33554432&a)?n._promiseFulfilled(i,t):n._promiseRejected(i,t)):r&&(o&&t._setAsyncGuaranteed(),0!=(33554432&a)?t._fulfill(i):t._reject(i))},f.prototype._settlePromiseLateCancellationObserver=function(t){var e=t.handler,n=t.promise,i=t.receiver,r=t.value;"function"==typeof e?n instanceof f?this._settlePromiseFromHandler(e,i,r,n):e.call(i,r,n):n instanceof f&&n._reject(r)},f.prototype._settlePromiseCtx=function(t){this._settlePromise(t.promise,t.handler,t.receiver,t.value)},f.prototype._settlePromise0=function(t,e,n){var i=this._promise0,r=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(i,t,r,e)},f.prototype._clearCallbackDataAtIndex=function(t){var e=4*t-4;this[e+2]=this[e+3]=this[e+0]=this[e+1]=void 0},f.prototype._fulfill=function(t){var e=this._bitField;if(!((117506048&e)>>>16)){if(t===this){var n=l();return this._attachExtraTrace(n),this._reject(n)}this._setFulfilled(),this._rejectionHandler0=t,0<(65535&e)&&(0!=(134217728&e)?this._settlePromises():v.settlePromises(this),this._dereferenceTrace())}},f.prototype._reject=function(t){var e=this._bitField;if(!((117506048&e)>>>16))return this._setRejected(),this._fulfillmentHandler0=t,this._isFinal()?v.fatalError(t,p.isNode):void(0<(65535&e)?v.settlePromises(this):this._ensurePossibleRejectionHandled())},f.prototype._fulfillPromises=function(t,e){for(var n=1;n<t;n++){var i=this._fulfillmentHandlerAt(n),r=this._promiseAt(n),a=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(r,i,a,e)}},f.prototype._rejectPromises=function(t,e){for(var n=1;n<t;n++){var i=this._rejectionHandlerAt(n),r=this._promiseAt(n),a=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(r,i,a,e)}},f.prototype._settlePromises=function(){var t=this._bitField,e=65535&t;if(0<e){if(0!=(16842752&t)){var n=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,n,t),this._rejectPromises(e,n)}else{var i=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,i,t),this._fulfillPromises(e,i)}this._setLength(0)}this._clearCancellationData()},f.prototype._settledValue=function(){var t=this._bitField;return 0!=(33554432&t)?this._rejectionHandler0:0!=(16777216&t)?this._fulfillmentHandler0:void 0},"undefined"!=typeof Symbol&&Symbol.toStringTag&&h.defineProperty(f.prototype,Symbol.toStringTag,{get:function(){return"Object"}}),f.defer=f.pending=function(){return M.deprecated("Promise.defer","new Promise"),{promise:new f(w),resolve:t,reject:e}},p.notEnumerableProp(f,"_makeSelfResolutionError",l),R("./method")(f,w,C,o,M),R("./bind")(f,w,C,M),R("./cancel")(f,S,o,M),R("./direct_resolve")(f),R("./synchronous_inspection")(f),R("./join")(f,S,C,w,v),(f.Promise=f).version="3.7.2",R("./call_get.js")(f),R("./generators.js")(f,o,w,C,s,M),R("./map.js")(f,S,o,C,w,M),R("./nodeify.js")(f),R("./promisify.js")(f,w),R("./props.js")(f,S,C,o),R("./race.js")(f,w,C,o),R("./reduce.js")(f,S,o,C,w,M),R("./settle.js")(f,S,M),R("./some.js")(f,S,o),R("./timers.js")(f,w,M),R("./using.js")(f,o,C,T,w,M),R("./any.js")(f),R("./each.js")(f,w),R("./filter.js")(f,w),p.toFastProperties(f),p.toFastProperties(f.prototype),n({a:1}),n({b:2}),n({c:3}),n(1),n(function(){}),n(void 0),n(!1),n(new f(w)),M.setBounds(m.firstLineError,p.lastLineError),f}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36,async_hooks:void 0}],23:[function(i,t,e){"use strict";t.exports=function(s,n,l,o,t){function e(t){var e=this._promise=new s(n);t instanceof s&&(e._propagateFrom(t,3),t.suppressUnhandledRejections()),e._setOnCancel(this),this._values=t,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var u=i("./util");return u.isArray,u.inherits(e,t),e.prototype.length=function(){return this._length},e.prototype.promise=function(){return this._promise},e.prototype._init=function t(e,n){var i=l(this._values,this._promise);if(i instanceof s){var r=(i=i._target())._bitField;if(this._values=i,0==(50397184&r))return this._promise._setAsyncGuaranteed(),i._then(t,this._reject,void 0,this,n);if(0==(33554432&r))return 0!=(16777216&r)?this._reject(i._reason()):this._cancel();i=i._value()}if(null!==(i=u.asArray(i)))return 0===i.length?void(-5===n?this._resolveEmptyArray():this._resolve(function(t){switch(t){case-2:return[];case-3:return{};case-6:return new Map}}(n))):void this._iterate(i);var a=o("expecting an array or an iterable object but got "+u.classString(i)).reason();this._promise._rejectCallback(a,!1)},e.prototype._iterate=function(t){var e=this.getActualLength(t.length);this._length=e,this._values=this.shouldCopyValues()?new Array(e):this._values;for(var n=this._promise,i=!1,r=null,a=0;a<e;++a){var o=l(t[a],n);o instanceof s?r=(o=o._target())._bitField:r=null,i?null!==r&&o.suppressUnhandledRejections():null!==r?0==(50397184&r)?(o._proxy(this,a),this._values[a]=o):i=0!=(33554432&r)?this._promiseFulfilled(o._value(),a):0!=(16777216&r)?this._promiseRejected(o._reason(),a):this._promiseCancelled(a):i=this._promiseFulfilled(o,a)}i||n._setAsyncGuaranteed()},e.prototype._isResolved=function(){return null===this._values},e.prototype._resolve=function(t){this._values=null,this._promise._fulfill(t)},e.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},e.prototype._reject=function(t){this._values=null,this._promise._rejectCallback(t,!1)},e.prototype._promiseFulfilled=function(t,e){return this._values[e]=t,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},e.prototype._promiseCancelled=function(){return this._cancel(),!0},e.prototype._promiseRejected=function(t){return this._totalResolved++,this._reject(t),!0},e.prototype._resultCancelled=function(){if(!this._isResolved()){var t=this._values;if(this._cancel(),t instanceof s)t.cancel();else for(var e=0;e<t.length;++e)t[e]instanceof s&&t[e].cancel()}},e.prototype.shouldCopyValues=function(){return!0},e.prototype.getActualLength=function(t){return t},e}},{"./util":36}],24:[function(n,t,e){"use strict";t.exports=function(u,c){function o(t){return!e.test(t)}function p(t){try{return!0===t.__isPromisified__}catch(t){return!1}}function f(t,e,n,i){for(var r=m.inheritedDataKeys(t),a=[],o=0;o<r.length;++o){var s=r[o],l=t[s],u=i===w||w(s,l,t);"function"!=typeof l||p(l)||(c=t,d=s,h=e,void 0,(f=m.getDataPropertyOrDefault(c,d+h,_))&&p(f))||!i(s,l,t,u)||a.push(s,l)}var c,d,h,f;return function(t,e,n){for(var i=0;i<t.length;i+=2){var r=t[i];if(n.test(r))for(var a=r.replace(n,""),o=0;o<t.length;o+=2)if(t[o]===a)throw new b("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",e))}}(a,e,n),a}function d(t,e,n,i,r){for(var a=new RegExp(x(e)+"$"),o=f(t,e,a,n),s=0,l=o.length;s<l;s+=2){var u=o[s],c=o[s+1],d=u+e;if(i===k)t[d]=k(u,g,u,c,e,r);else{var h=i(c,function(){return k(u,g,u,c,e,r)});m.notEnumerableProp(h,"__isPromisified__",!0),t[d]=h}}return m.toFastProperties(t),t}var g={},m=n("./util"),h=n("./nodeback"),v=m.withAppended,y=m.maybeWrapAsError,t=m.canEvaluate,b=n("./errors").TypeError,_={__isPromisified__:!0},e=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"].join("|")+")$"),w=function(t){return m.isIdentifier(t)&&"_"!==t.charAt(0)&&"constructor"!==t},x=function(t){return t.replace(/([$])/,"\\$")},k=t?void 0:function(r,a,t,e,n,o){function i(){var t=a;a===g&&(t=this);var e=new u(c);e._captureStackTrace();var n="string"==typeof l&&this!==s?this[l]:r,i=h(e,o);try{n.apply(t,v(arguments,i))}catch(t){e._rejectCallback(y(t),!0,!0)}return e._isFateSealed()||e._setAsyncGuaranteed(),e}var s=function(){return this}(),l=r;return"string"==typeof l&&(r=e),m.notEnumerableProp(i,"__isPromisified__",!0),i};u.promisify=function(t,e){if("function"!=typeof t)throw new b("expecting a function but got "+m.classString(t));if(p(t))return t;var n,i=void 0===(e=Object(e)).context?g:e.context,r=!!e.multiArgs,a=k(n=t,i,void 0,n,null,r);return m.copyDescriptors(t,a,o),a},u.promisifyAll=function(t,e){if("function"!=typeof t&&"object"!=typeof t)throw new b("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");var n=!!(e=Object(e)).multiArgs,i=e.suffix;"string"!=typeof i&&(i="Async");var r=e.filter;"function"!=typeof r&&(r=w);var a=e.promisifier;if("function"!=typeof a&&(a=k),!m.isIdentifier(i))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var o=m.inheritedDataKeys(t),s=0;s<o.length;++s){var l=t[o[s]];"constructor"!==o[s]&&m.isClass(l)&&(d(l.prototype,i,r,a,n),d(l,i,r,a,n))}return d(t,i,r,a,n)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(d,t,e){"use strict";t.exports=function(i,t,r,a){function o(t){var e,n=!1;if(void 0!==s&&t instanceof s)e=c(t),n=!0;else{var i=u.keys(t),r=i.length;e=new Array(2*r);for(var a=0;a<r;++a){var o=i[a];e[a]=t[o],e[a+r]=o}}this.constructor$(e),this._isMap=n,this._init$(void 0,n?-6:-3)}function e(t){var e,n=r(t);return l(n)?(e=n instanceof i?n._then(i.props,void 0,void 0,void 0,void 0):new o(n).promise(),n instanceof i&&e._propagateFrom(n,2),e):a("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}var s,n=d("./util"),l=n.isObject,u=d("./es5");"function"==typeof Map&&(s=Map);var c=function(){function n(t,e){this[i]=t,this[i+r]=e,i++}var i=0,r=0;return function(t){r=t.size,i=0;var e=new Array(2*t.size);return t.forEach(n,e),e}}();n.inherits(o,t),o.prototype._init=function(){},o.prototype._promiseFulfilled=function(t,e){if(this._values[e]=t,++this._totalResolved>=this._length){var n;if(this._isMap)n=function(t){for(var e=new s,n=t.length/2|0,i=0;i<n;++i){var r=t[n+i],a=t[i];e.set(r,a)}return e}(this._values);else{n={};for(var i=this.length(),r=0,a=this.length();r<a;++r)n[this._values[r+i]]=this._values[r]}return this._resolve(n),!0}return!1},o.prototype.shouldCopyValues=function(){return!1},o.prototype.getActualLength=function(t){return t>>1},i.prototype.props=function(){return e(this)},i.props=function(t){return e(t)}}},{"./es5":13,"./util":36}],26:[function(t,e,n){"use strict";function i(t){this._capacity=t,this._length=0,this._front=0}i.prototype._willBeOverCapacity=function(t){return this._capacity<t},i.prototype._pushOne=function(t){var e=this.length();this._checkCapacity(e+1),this[this._front+e&this._capacity-1]=t,this._length=e+1},i.prototype.push=function(t,e,n){var i=this.length()+3;if(this._willBeOverCapacity(i))return this._pushOne(t),this._pushOne(e),void this._pushOne(n);var r=this._front+i-3;this._checkCapacity(i);var a=this._capacity-1;this[r+0&a]=t,this[r+1&a]=e,this[r+2&a]=n,this._length=i},i.prototype.shift=function(){var t=this._front,e=this[t];return this[t]=void 0,this._front=t+1&this._capacity-1,this._length--,e},i.prototype.length=function(){return this._length},i.prototype._checkCapacity=function(t){this._capacity<t&&this._resizeTo(this._capacity<<1)},i.prototype._resizeTo=function(t){var e=this._capacity;this._capacity=t,function(t,e,n,i,r){for(var a=0;a<r;++a)n[a+i]=t[a+e],t[a+e]=void 0}(this,0,this,e,this._front+this._length&e-1)},e.exports=i},{}],27:[function(t,e,n){"use strict";e.exports=function(u,c,d,h){function n(t,e){var n=d(t);if(n instanceof u)return p(n);if(null===(t=f.asArray(t)))return h("expecting an array or an iterable object but got "+f.classString(t));var i=new u(c);void 0!==e&&i._propagateFrom(e,3);for(var r=i._fulfill,a=i._reject,o=0,s=t.length;o<s;++o){var l=t[o];(void 0!==l||o in t)&&u.cast(l)._then(r,a,void 0,i,null)}return i}var f=t("./util"),p=function(e){return e.then(function(t){return n(t,e)})};u.race=function(t){return n(t,void 0)},u.prototype.race=function(){return n(this,void 0)}}},{"./util":36}],28:[function(e,t,n){"use strict";t.exports=function(s,t,r,n,a,o){function l(t,e,n,i){this.constructor$(t);var r=s._getContext();this._fn=h.contextBind(r,e),void 0!==n&&(n=s.resolve(n))._attachCancellationCallback(this),this._initialValue=n,this._currentCancellable=null,this._eachValues=i===a?Array(this._length):0===i?null:void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function u(t,e){this.isFulfilled()?e._resolve(t):e._reject(t)}function c(t,e,n,i){return"function"!=typeof e?r("expecting a function but got "+h.classString(e)):new l(t,e,n,i).promise()}function d(t){this.accum=t,this.array._gotAccum(t);var e=n(this.value,this.array._promise);return e instanceof s?(this.array._currentCancellable=e)._then(i,void 0,void 0,this,void 0):i.call(this,e)}function i(t){var e,n=this.array,i=n._promise,r=f(n._fn);i._pushContext(),(e=void 0!==n._eachValues?r.call(i._boundValue(),t,this.index,this.length):r.call(i._boundValue(),this.accum,t,this.index,this.length))instanceof s&&(n._currentCancellable=e);var a=i._popContext();return o.checkForgottenReturns(e,a,void 0!==n._eachValues?"Promise.each":"Promise.reduce",i),e}var h=e("./util"),f=h.tryCatch;h.inherits(l,t),l.prototype._gotAccum=function(t){void 0!==this._eachValues&&null!==this._eachValues&&t!==a&&this._eachValues.push(t)},l.prototype._eachComplete=function(t){return null!==this._eachValues&&this._eachValues.push(t),this._eachValues},l.prototype._init=function(){},l.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},l.prototype.shouldCopyValues=function(){return!1},l.prototype._resolve=function(t){this._promise._resolveCallback(t),this._values=null},l.prototype._resultCancelled=function(t){return t===this._initialValue?this._cancel():void(this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof s&&this._currentCancellable.cancel(),this._initialValue instanceof s&&this._initialValue.cancel()))},l.prototype._iterate=function(t){var e,n,i=(this._values=t).length;void 0!==this._initialValue?(e=this._initialValue,n=0):(e=s.resolve(t[0]),n=1),this._currentCancellable=e;for(var r=n;r<i;++r){var a=t[r];a instanceof s&&a.suppressUnhandledRejections()}if(!e.isRejected())for(;n<i;++n){var o={accum:null,value:t[n],index:n,length:i,array:this};e=e._then(d,void 0,void 0,o,void 0),0==(127&n)&&e._setNoAsyncGuarantee()}void 0!==this._eachValues&&(e=e._then(this._eachComplete,void 0,void 0,this,void 0)),e._then(u,u,void 0,e,this)},s.prototype.reduce=function(t,e){return c(this,t,e,null)},s.reduce=function(t,e,n,i){return c(t,e,n,i)}}},{"./util":36}],29:[function(t,e,n){"use strict";var i,r=t("./util"),a=r.getNativePromise();if(r.isNode&&"undefined"==typeof MutationObserver){var o=global.setImmediate,s=process.nextTick;i=r.isRecentNode?function(t){o.call(global,t)}:function(t){s.call(process,t)}}else if("function"==typeof a&&"function"==typeof a.resolve){var l=a.resolve();i=function(t){l.then(t)}}else i="undefined"!=typeof MutationObserver&&("undefined"==typeof window||!window.navigator||!window.navigator.standalone&&!window.cordova)&&"classList"in document.documentElement?function(){var n=document.createElement("div"),i={attributes:!0},r=!1,a=document.createElement("div");new MutationObserver(function(){n.classList.toggle("foo"),r=!1}).observe(a,i);return function(t){var e=new MutationObserver(function(){e.disconnect(),t()});e.observe(n,i),r||(r=!0,a.classList.toggle("foo"))}}():"undefined"!=typeof setImmediate?function(t){setImmediate(t)}:"undefined"!=typeof setTimeout?function(t){setTimeout(t,0)}:function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")};e.exports=i},{"./util":36}],30:[function(a,t,e){"use strict";t.exports=function(t,e,n){function i(t){this.constructor$(t)}var r=t.PromiseInspection;a("./util").inherits(i,e),i.prototype._promiseResolved=function(t,e){return this._values[t]=e,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},i.prototype._promiseFulfilled=function(t,e){var n=new r;return n._bitField=33554432,n._settledValueField=t,this._promiseResolved(e,n)},i.prototype._promiseRejected=function(t,e){var n=new r;return n._bitField=16777216,n._settledValueField=t,this._promiseResolved(e,n)},t.settle=function(t){return n.deprecated(".settle()",".reflect()"),new i(t).promise()},t.allSettled=function(t){return new i(t).promise()},t.prototype.settle=function(){return t.settle(this)}}},{"./util":36}],31:[function(c,t,e){"use strict";t.exports=function(t,e,r){function a(t){this.constructor$(t),this._howMany=0,this._unwrap=!1,this._initialized=!1}function n(t,e){if((0|e)!==e||e<0)return r("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var n=new a(t),i=n.promise();return n.setHowMany(e),n.init(),i}var i=c("./util"),o=c("./errors").RangeError,s=c("./errors").AggregateError,l=i.isArray,u={};i.inherits(a,e),a.prototype._init=function(){if(this._initialized){if(0===this._howMany)return void this._resolve([]);this._init$(void 0,-5);var t=l(this._values);!this._isResolved()&&t&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},a.prototype.init=function(){this._initialized=!0,this._init()},a.prototype.setUnwrap=function(){this._unwrap=!0},a.prototype.howMany=function(){return this._howMany},a.prototype.setHowMany=function(t){this._howMany=t},a.prototype._promiseFulfilled=function(t){return this._addFulfilled(t),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},a.prototype._promiseRejected=function(t){return this._addRejected(t),this._checkOutcome()},a.prototype._promiseCancelled=function(){return this._values instanceof t||null==this._values?this._cancel():(this._addRejected(u),this._checkOutcome())},a.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var t=new s,e=this.length();e<this._values.length;++e)this._values[e]!==u&&t.push(this._values[e]);return 0<t.length?this._reject(t):this._cancel(),!0}return!1},a.prototype._fulfilled=function(){return this._totalResolved},a.prototype._rejected=function(){return this._values.length-this.length()},a.prototype._addRejected=function(t){this._values.push(t)},a.prototype._addFulfilled=function(t){this._values[this._totalResolved++]=t},a.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},a.prototype._getRangeError=function(t){var e="Input array must contain at least "+this._howMany+" items but contains only "+t+" items";return new o(e)},a.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},t.some=function(t,e){return n(t,e)},t.prototype.some=function(t){return n(this,t)},t._SomePromiseArray=a}},{"./errors":12,"./util":36}],32:[function(t,e,n){"use strict";e.exports=function(t){function e(t){void 0!==t?(t=t._target(),this._bitField=t._bitField,this._settledValueField=t._isFateSealed()?t._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}e.prototype._settledValue=function(){return this._settledValueField};var n=e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},i=e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},r=e.prototype.isFulfilled=function(){return 0!=(33554432&this._bitField)},a=e.prototype.isRejected=function(){return 0!=(16777216&this._bitField)},o=e.prototype.isPending=function(){return 0==(50397184&this._bitField)},s=e.prototype.isResolved=function(){return 0!=(50331648&this._bitField)};e.prototype.isCancelled=function(){return 0!=(8454144&this._bitField)},t.prototype.__isCancelled=function(){return 65536==(65536&this._bitField)},t.prototype._isCancelled=function(){return this._target().__isCancelled()},t.prototype.isCancelled=function(){return 0!=(8454144&this._target()._bitField)},t.prototype.isPending=function(){return o.call(this._target())},t.prototype.isRejected=function(){return a.call(this._target())},t.prototype.isFulfilled=function(){return r.call(this._target())},t.prototype.isResolved=function(){return s.call(this._target())},t.prototype.value=function(){return n.call(this._target())},t.prototype.reason=function(){var t=this._target();return t._unsetRejectionIsUnhandled(),i.call(t)},t.prototype._value=function(){return this._settledValue()},t.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},t.PromiseInspection=e}},{}],33:[function(t,e,n){"use strict";e.exports=function(s,l){var u=t("./util"),c=u.errorObj,r=u.isObject,a={}.hasOwnProperty;return function(t,e){if(r(t)){if(t instanceof s)return t;var n=function(t){try{return t.then}catch(t){return c.e=t,c}}(t);if(n===c){e&&e._pushContext();var i=s.reject(n.e);return e&&e._popContext(),i}if("function"==typeof n)return function(t){try{return a.call(t,"_promise0")}catch(t){return!1}}(t)?(i=new s(l),t._then(i._fulfill,i._reject,void 0,i,null),i):function(t,e,n){var i=new s(l),r=i;n&&n._pushContext(),i._captureStackTrace(),n&&n._popContext();var a=!0,o=u.tryCatch(e).call(t,function(t){i&&(i._resolveCallback(t),i=null)},function(t){i&&(i._rejectCallback(t,a,!0),i=null)});return a=!1,i&&o===c&&(i._rejectCallback(o.e,!0,!0),i=null),r}(t,n,e)}return t}}},{"./util":36}],34:[function(t,e,n){"use strict";e.exports=function(r,a,s){function l(t){this.handle=t}function n(t){return clearTimeout(this.handle),t}function i(t){throw clearTimeout(this.handle),t}var u=t("./util"),c=r.TimeoutError;l.prototype._resultCancelled=function(){clearTimeout(this.handle)};var o=function(t){return e(+this).thenReturn(t)},e=r.delay=function(t,e){var n,i;return void 0!==e?(n=r.resolve(e)._then(o,null,null,t,void 0),s.cancellation()&&e instanceof r&&n._setOnCancel(e)):(n=new r(a),i=setTimeout(function(){n._fulfill()},+t),s.cancellation()&&n._setOnCancel(new l(i)),n._captureStackTrace()),n._setAsyncGuaranteed(),n};r.prototype.delay=function(t){return e(t,this)};r.prototype.timeout=function(t,r){t=+t;var a,o,e=new l(setTimeout(function(){var t,e,n,i;a.isPending()&&(t=a,n=o,i="string"!=typeof(e=r)?e instanceof Error?e:new c("operation timed out"):new c(e),u.markAsOriginatingFromRejection(i),t._attachExtraTrace(i),t._reject(i),null!=n&&n.cancel())},t));return s.cancellation()?(o=this.then(),(a=o._then(n,i,void 0,e,void 0))._setOnCancel(e)):a=this._then(n,i,void 0,e,void 0),a}}},{"./util":36}],35:[function(o,t,e){"use strict";t.exports=function(h,f,p,e,t,g){function u(t){setTimeout(function(){throw t},0)}function m(r,a){var o=0,s=r.length,l=new h(t);return function t(){if(s<=o)return l._fulfill();var e,n,i=(e=r[o++],(n=p(e))!==e&&"function"==typeof e._isDisposable&&"function"==typeof e._getDisposer&&e._isDisposable()&&n._setDisposable(e._getDisposer()),n);if(i instanceof h&&i._isDisposable()){try{i=p(i._getDisposer().tryDispose(a),r.promise)}catch(t){return u(t)}if(i instanceof h)return i._then(t,u,null,null,null)}t()}(),l}function v(t,e,n){this._data=t,this._promise=e,this._context=n}function n(t,e,n){this.constructor$(t,e,n)}function y(t){return v.isDisposer(t)?(this.resources[this.index]._setDisposable(t),t.promise()):t}function b(t){this.length=t,this.promise=null,this[t-1]=null}var _=o("./util"),i=o("./errors").TypeError,r=o("./util").inherits,w=_.errorObj,x=_.tryCatch,a={};v.prototype.data=function(){return this._data},v.prototype.promise=function(){return this._promise},v.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():a},v.prototype.tryDispose=function(t){var e=this.resource(),n=this._context;void 0!==n&&n._pushContext();var i=e!==a?this.doDispose(e,t):null;return void 0!==n&&n._popContext(),this._promise._unsetDisposable(),this._data=null,i},v.isDisposer=function(t){return null!=t&&"function"==typeof t.resource&&"function"==typeof t.tryDispose},r(n,v),n.prototype.doDispose=function(t,e){return this.data().call(t,t,e)},b.prototype._resultCancelled=function(){for(var t=this.length,e=0;e<t;++e){var n=this[e];n instanceof h&&n.cancel()}},h.using=function(){var t=arguments.length;if(t<2)return f("you must pass at least 2 arguments to Promise.using");var a=arguments[t-1];if("function"!=typeof a)return f("expecting a function but got "+_.classString(a));var e,o=!0;2===t&&Array.isArray(arguments[0])?(t=(e=arguments[0]).length,o=!1):(e=arguments,t--);for(var n=new b(t),i=0;i<t;++i){var r=e[i];if(v.isDisposer(r)){var s=r;(r=r.promise())._setDisposable(s)}else{var l=p(r);l instanceof h&&(r=l._then(y,null,null,{resources:n,index:i},void 0))}n[i]=r}var u=new Array(n.length);for(i=0;i<u.length;++i)u[i]=h.resolve(n[i]).reflect();var c=h.all(u).then(function(t){for(var e=0;e<t.length;++e){var n=t[e];if(n.isRejected())return w.e=n.error(),w;if(!n.isFulfilled())return void c.cancel();t[e]=n.value()}d._pushContext(),a=x(a);var i=o?a.apply(void 0,t):a(t),r=d._popContext();return g.checkForgottenReturns(i,r,"Promise.using",d),i}),d=c.lastly(function(){var t=new h.PromiseInspection(c);return m(n,t)});return(n.promise=d)._setOnCancel(n),d},h.prototype._setDisposable=function(t){this._bitField=131072|this._bitField,this._disposer=t},h.prototype._isDisposable=function(){return 0<(131072&this._bitField)},h.prototype._getDisposer=function(){return this._disposer},h.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},h.prototype.disposer=function(t){if("function"==typeof t)return new n(t,this,e());throw new i}}},{"./errors":12,"./util":36}],36:[function(t,e,n){"use strict";function i(){try{var t=c;return c=null,t.apply(this,arguments)}catch(t){return f.e=t,f}}function r(t){return null==t||!0===t||!1===t||"string"==typeof t||"number"==typeof t}function a(t,e,n){if(r(t))return t;var i={value:n,configurable:!0,enumerable:!1,writable:!0};return d.defineProperty(t,e,i),t}function o(t){try{return t+""}catch(t){return"[no string representation]"}}function s(t){return t instanceof Error||null!==t&&"object"==typeof t&&"string"==typeof t.message&&"string"==typeof t.name}function l(t){return s(t)&&d.propertyIsWritable(t,"stack")}function u(t){return{}.toString.call(t)}var c,d=t("./es5"),h="undefined"==typeof navigator,f={e:{}},p="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:void 0!==this?this:null,g=function(){var r=[Array.prototype,Object.prototype,Function.prototype],s=function(t){for(var e=0;e<r.length;++e)if(r[e]===t)return!0;return!1};if(d.isES5){var l=Object.getOwnPropertyNames;return function(t){for(var e=[],n=Object.create(null);null!=t&&!s(t);){var i;try{i=l(t)}catch(t){return e}for(var r=0;r<i.length;++r){var a=i[r];if(!n[a]){n[a]=!0;var o=Object.getOwnPropertyDescriptor(t,a);null!=o&&null==o.get&&null==o.set&&e.push(a)}}t=d.getPrototypeOf(t)}return e}}var a={}.hasOwnProperty;return function(t){if(s(t))return[];var e=[];t:for(var n in t)if(a.call(t,n))e.push(n);else{for(var i=0;i<r.length;++i)if(a.call(r[i],n))continue t;e.push(n)}return e}}(),m=/this\s*\.\s*\S+\s*=/,v=/^[a-z$_][a-z$_0-9]*$/i,y="stack"in new Error?function(t){return l(t)?t:new Error(o(t))}:function(t){if(l(t))return t;try{throw new Error(o(t))}catch(t){return t}},b=function(t){return d.isArray(t)?t:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var _="function"==typeof Array.from?function(t){return Array.from(t)}:function(t){for(var e,n=[],i=t[Symbol.iterator]();!(e=i.next()).done;)n.push(e.value);return n};b=function(t){return d.isArray(t)?t:null!=t&&"function"==typeof t[Symbol.iterator]?_(t):null}}var w,x,k="undefined"!=typeof process&&"[object process]"===u(process).toLowerCase(),C="undefined"!=typeof process&&void 0!==process.env,S={setReflectHandler:function(t){w=t},isClass:function(t){try{if("function"==typeof t){var e=d.names(t.prototype),n=d.isES5&&1<e.length,i=0<e.length&&!(1===e.length&&"constructor"===e[0]),r=m.test(t+"")&&0<d.names(t).length;if(n||i||r)return!0}return!1}catch(t){return!1}},isIdentifier:function(t){return v.test(t)},inheritedDataKeys:g,getDataPropertyOrDefault:function(t,e,n){if(!d.isES5)return{}.hasOwnProperty.call(t,e)?t[e]:void 0;var i=Object.getOwnPropertyDescriptor(t,e);return null!=i?null==i.get&&null==i.set?i.value:n:void 0},thrower:function(t){throw t},isArray:d.isArray,asArray:b,notEnumerableProp:a,isPrimitive:r,isObject:function(t){return"function"==typeof t||"object"==typeof t&&null!==t},isError:s,canEvaluate:h,errorObj:f,tryCatch:function(t){return c=t,i},inherits:function(e,n){function t(){for(var t in this.constructor=e,(this.constructor$=n).prototype)i.call(n.prototype,t)&&"$"!==t.charAt(t.length-1)&&(this[t+"$"]=n.prototype[t])}var i={}.hasOwnProperty;return t.prototype=n.prototype,e.prototype=new t,e.prototype},withAppended:function(t,e){var n,i=t.length,r=new Array(i+1);for(n=0;n<i;++n)r[n]=t[n];return r[n]=e,r},maybeWrapAsError:function(t){return r(t)?new Error(o(t)):t},toFastProperties:function(t){function e(){}function n(){return typeof i.foo}e.prototype=t;var i=new e;return n(),n(),t},filledRange:function(t,e,n){for(var i=new Array(t),r=0;r<t;++r)i[r]=e+r+n;return i},toString:o,canAttachTrace:l,ensureErrorObject:y,originatesFromRejection:function(t){return null!=t&&(t instanceof Error.__BluebirdErrorTypes__.OperationalError||!0===t.isOperational)},markAsOriginatingFromRejection:function(t){try{a(t,"isOperational",!0)}catch(t){}},classString:u,copyDescriptors:function(t,e,n){for(var i=d.names(t),r=0;r<i.length;++r){var a=i[r];if(n(a))try{d.defineProperty(e,a,d.getDescriptor(t,a))}catch(t){}}},isNode:k,hasEnvVariables:C,env:function(t){return C?process.env[t]:void 0},global:p,getNativePromise:function(){if("function"==typeof Promise)try{if("[object Promise]"===u(new Promise(function(){})))return Promise}catch(t){}},contextBind:function(t,e){if(null===t||"function"!=typeof e||e===w)return e;null!==t.domain&&(e=t.domain.bind(e));var n=t.async;if(null!==n){var i=e;e=function(){var t=new Array(2).concat([].slice.call(arguments));return t[0]=i,t[1]=this,n.runInAsyncScope.apply(n,t)}}return e}};S.isRecentNode=S.isNode&&(process.versions&&process.versions.node?x=process.versions.node.split(".").map(Number):process.version&&(x=process.version.split(".").map(Number)),0===x[0]&&10<x[1]||0<x[0]),S.nodeSupportsAsyncResource=S.isNode&&function(){var e=!1;try{e="function"==typeof t("async_hooks").AsyncResource.prototype.runInAsyncScope}catch(t){e=!1}return e}(),S.isNode&&S.toFastProperties(process);try{throw new Error}catch(t){S.lastLineError=t}e.exports=S},{"./es5":13,async_hooks:void 0}]},{},[4])(4)}),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Sweetalert2=e()}(this,function(){"use strict";var e={title:"",titleText:"",text:"",html:"",type:null,customClass:"",target:"body",animation:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,showConfirmButton:!0,showCancelButton:!1,preConfirm:null,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:"#3085d6",confirmButtonClass:null,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:"#aaa",cancelButtonClass:null,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusCancel:!1,showCloseButton:!1,closeButtonAriaLabel:"Close this dialog",showLoaderOnConfirm:!1,imageUrl:null,imageWidth:null,imageHeight:null,imageAlt:"",imageClass:null,timer:null,width:500,padding:20,background:"#fff",input:null,inputPlaceholder:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputClass:null,inputAttributes:{},inputValidator:null,grow:!1,position:"center",progressSteps:[],currentProgressStep:null,progressStepsDistance:"40px",onBeforeOpen:null,onOpen:null,onClose:null,useRejections:!0},t=function(t){var e={};for(var n in t)e[t[n]]="swal2-"+t[n];return e},V=t(["container","shown","iosfix","modal","overlay","fade","show","hide","noanimation","close","title","content","buttonswrapper","confirm","cancel","icon","image","input","file","range","select","radio","checkbox","textarea","inputerror","validationerror","progresssteps","activeprogressstep","progresscircle","progressline","loading","styled","top","top-left","top-right","center","center-left","center-right","bottom","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen"]),S=t(["success","warning","info","question","error"]),H=function(t,e){(t=String(t).replace(/[^0-9a-f]/gi,"")).length<6&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),e=e||0;for(var n="#",i=0;i<3;i++){var r=parseInt(t.substr(2*i,2),16);n+=("00"+(r=Math.round(Math.min(Math.max(0,r+r*e),255)).toString(16))).substr(r.length)}return n},B={previousWindowKeyDown:null,previousActiveElement:null,previousBodyPadding:null},D=function(t){var e=Y();if(e&&e.parentNode.removeChild(e),"undefined"!=typeof document){var n=document.createElement("div");n.className=V.container,n.innerHTML=d,("string"==typeof t.target?document.querySelector(t.target):t.target).appendChild(n);var i=U(),r=at(i,V.input),a=at(i,V.file),o=i.querySelector("."+V.range+" input"),s=i.querySelector("."+V.range+" output"),l=at(i,V.select),u=i.querySelector("."+V.checkbox+" input"),c=at(i,V.textarea);return r.oninput=function(){T.resetValidationError()},a.onchange=function(){T.resetValidationError()},o.oninput=function(){T.resetValidationError(),s.value=o.value},o.onchange=function(){T.resetValidationError(),o.previousSibling.value=o.value},l.onchange=function(){T.resetValidationError()},u.onchange=function(){T.resetValidationError()},c.oninput=function(){T.resetValidationError()},i}},d=('\n <div role="dialog" aria-modal="true" aria-labelledby="'+V.title+'" aria-describedby="'+V.content+'" class="'+V.modal+'" tabindex="-1">\n   <ul class="'+V.progresssteps+'"></ul>\n   <div class="'+V.icon+" "+S.error+'">\n     <span class="swal2-x-mark"><span class="swal2-x-mark-line-left"></span><span class="swal2-x-mark-line-right"></span></span>\n   </div>\n   <div class="'+V.icon+" "+S.question+'">?</div>\n   <div class="'+V.icon+" "+S.warning+'">!</div>\n   <div class="'+V.icon+" "+S.info+'">i</div>\n   <div class="'+V.icon+" "+S.success+'">\n     <div class="swal2-success-circular-line-left"></div>\n     <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n     <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n     <div class="swal2-success-circular-line-right"></div>\n   </div>\n   <img class="'+V.image+'" />\n   <h2 class="'+V.title+'" id="'+V.title+'"></h2>\n   <div id="'+V.content+'" class="'+V.content+'"></div>\n   <input class="'+V.input+'" />\n   <input type="file" class="'+V.file+'" />\n   <div class="'+V.range+'">\n     <output></output>\n     <input type="range" />\n   </div>\n   <select class="'+V.select+'"></select>\n   <div class="'+V.radio+'"></div>\n   <label for="'+V.checkbox+'" class="'+V.checkbox+'">\n     <input type="checkbox" />\n   </label>\n   <textarea class="'+V.textarea+'"></textarea>\n   <div class="'+V.validationerror+'" id="'+V.validationerror+'"></div>\n   <div class="'+V.buttonswrapper+'">\n     <button type="button" class="'+V.confirm+'">OK</button>\n     <button type="button" class="'+V.cancel+'">Cancel</button>\n   </div>\n   <button type="button" class="'+V.close+'">×</button>\n </div>\n').replace(/(^|\n)\s*/g,""),Y=function(){return document.body.querySelector("."+V.container)},U=function(){return Y()?Y().querySelector("."+V.modal):null},n=function(t){return Y()?Y().querySelector("."+t):null},z=function(){return n(V.title)},W=function(){return n(V.content)},q=function(){return n(V.image)},G=function(){return n(V.progresssteps)},Z=function(){return n(V.validationerror)},X=function(){return n(V.confirm)},K=function(){return n(V.cancel)},Q=function(){return n(V.buttonswrapper)},J=function(){return n(V.close)},tt=function(){var t=Array.from(U().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort(function(t,e){return t=parseInt(t.getAttribute("tabindex")),(e=parseInt(e.getAttribute("tabindex")))<t?1:t<e?-1:0}),e=Array.prototype.slice.call(U().querySelectorAll('button, input:not([type=hidden]), textarea, select, a, [tabindex="0"]'));return function(t){var e=[];for(var n in t)-1===e.indexOf(t[n])&&e.push(t[n]);return e}(t.concat(e))},et=function(t,e){return!!t.classList&&t.classList.contains(e)},nt=function(t){if(t.focus(),"file"!==t.type){var e=t.value;t.value="",t.value=e}},it=function(e,t){e&&t&&t.split(/\s+/).filter(Boolean).forEach(function(t){e.classList.add(t)})},rt=function(e,t){e&&t&&t.split(/\s+/).filter(Boolean).forEach(function(t){e.classList.remove(t)})},at=function(t,e){for(var n=0;n<t.childNodes.length;n++)if(et(t.childNodes[n],e))return t.childNodes[n]},ot=function(t,e){e||(e="block"),t.style.opacity="",t.style.display=e},st=function(t){t.style.opacity="",t.style.display="none"},lt=function(t){return t.offsetWidth||t.offsetHeight||t.getClientRects().length},ut=function(){var t=document.createElement("div"),e={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(var n in e)if(e.hasOwnProperty(n)&&void 0!==t.style[n])return e[n];return!1}(),ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},r=i({},e),s=[],dt=function(r){("string"==typeof r.target&&!document.querySelector(r.target)||"string"!=typeof r.target&&!r.target.appendChild)&&(r.target="body");var t=void 0,e=U(),n="string"==typeof r.target?document.querySelector(r.target):r.target;for(var i in t=e&&n&&e.parentNode!==n.parentNode?D(r):e||D(r),r)T.isValidParameter(i);t.style.width="number"==typeof r.width?r.width+"px":r.width,t.style.padding=r.padding+"px",t.style.background=r.background;for(var a=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),o=0;o<a.length;o++)a[o].style.background=r.background;var s=Y(),l=z(),u=W(),c=Q(),d=X(),h=K(),f=J();if(r.titleText?l.innerText=r.titleText:l.innerHTML=r.title.split("\n").join("<br />"),r.text||r.html){if("object"===ct(r.html))if(u.innerHTML="",0 in r.html)for(var p=0;p in r.html;p++)u.appendChild(r.html[p].cloneNode(!0));else u.appendChild(r.html.cloneNode(!0));else r.html?u.innerHTML=r.html:r.text&&(u.textContent=r.text);ot(u)}else st(u);if(r.position in V&&it(s,V[r.position]),r.grow&&"string"==typeof r.grow){var g="grow-"+r.grow;g in V&&it(s,V[g])}r.showCloseButton?(f.setAttribute("aria-label",r.closeButtonAriaLabel),ot(f)):st(f),t.className=V.modal,r.customClass&&it(t,r.customClass);var m=G(),v=parseInt(null===r.currentProgressStep?T.getQueueStep():r.currentProgressStep,10);r.progressSteps.length?(ot(m),function(t){for(;t.firstChild;)t.removeChild(t.firstChild)}(m),r.progressSteps.length,r.progressSteps.forEach(function(t,e){var n=document.createElement("li");if(it(n,V.progresscircle),n.innerHTML=t,e===v&&it(n,V.activeprogressstep),m.appendChild(n),e!==r.progressSteps.length-1){var i=document.createElement("li");it(i,V.progressline),i.style.width=r.progressStepsDistance,m.appendChild(i)}})):st(m);for(var y=U().querySelectorAll("."+V.icon),b=0;b<y.length;b++)st(y[b]);if(r.type){var _=!1;for(var w in S)if(r.type===w){_=!0;break}if(!_)return r.type,!1;var x=t.querySelector("."+V.icon+"."+S[r.type]);if(ot(x),r.animation)switch(r.type){case"success":it(x,"swal2-animate-success-icon"),it(x.querySelector(".swal2-success-line-tip"),"swal2-animate-success-line-tip"),it(x.querySelector(".swal2-success-line-long"),"swal2-animate-success-line-long");break;case"error":it(x,"swal2-animate-error-icon"),it(x.querySelector(".swal2-x-mark"),"swal2-animate-x-mark")}}var k,C=q();r.imageUrl?(C.setAttribute("src",r.imageUrl),C.setAttribute("alt",r.imageAlt),ot(C),r.imageWidth?C.setAttribute("width",r.imageWidth):C.removeAttribute("width"),r.imageHeight?C.setAttribute("height",r.imageHeight):C.removeAttribute("height"),C.className=V.image,r.imageClass&&it(C,r.imageClass)):st(C),r.showCancelButton?h.style.display="inline-block":st(h),r.showConfirmButton?(k=d).style.removeProperty?k.style.removeProperty("display"):k.style.removeAttribute("display"):st(d),r.showConfirmButton||r.showCancelButton?ot(c):st(c),d.innerHTML=r.confirmButtonText,h.innerHTML=r.cancelButtonText,d.setAttribute("aria-label",r.confirmButtonAriaLabel),h.setAttribute("aria-label",r.cancelButtonAriaLabel),r.buttonsStyling&&(d.style.backgroundColor=r.confirmButtonColor,h.style.backgroundColor=r.cancelButtonColor),d.className=V.confirm,it(d,r.confirmButtonClass),h.className=V.cancel,it(h,r.cancelButtonClass),r.buttonsStyling?(it(d,V.styled),it(h,V.styled)):(rt(d,V.styled),rt(h,V.styled),d.style.backgroundColor=d.style.borderLeftColor=d.style.borderRightColor="",h.style.backgroundColor=h.style.borderLeftColor=h.style.borderRightColor=""),!0===r.animation?rt(t,V.noanimation):it(t,V.noanimation),r.showLoaderOnConfirm&&r.preConfirm},T=function F(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];if(void 0===e[0])return!1;var j=i({},r);switch(ct(e[0])){case"string":j.title=e[0],j.html=e[1],j.type=e[2];break;case"object":i(j,e[0]),j.extraParams=e[0].extraParams,"email"===j.input&&null===j.inputValidator&&(j.inputValidator=function(n){return new Promise(function(t,e){/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/.test(n)?t():e("Invalid email address")})}),"url"===j.input&&null===j.inputValidator&&(j.inputValidator=function(n){return new Promise(function(t,e){/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_+.~#?&//=]*)$/.test(n)?t():e("Invalid URL")})});break;default:return ct(e[0]),!1}dt(j);var L=Y(),N=U();return new Promise(function(l,u){j.timer&&(N.timeout=setTimeout(function(){F.closeModal(j.onClose),j.useRejections?u("timer"):l({dismiss:"timer"})},j.timer));var c=function(t){if(!(t=t||j.input))return null;switch(t){case"select":case"textarea":case"file":return at(N,V[t]);case"checkbox":return N.querySelector("."+V.checkbox+" input");case"radio":return N.querySelector("."+V.radio+" input:checked")||N.querySelector("."+V.radio+" input:first-child");case"range":return N.querySelector("."+V.range+" input");default:return at(N,V.input)}};j.input&&setTimeout(function(){var t=c();t&&nt(t)},0);for(var d=function(e){j.showLoaderOnConfirm&&F.showLoading(),j.preConfirm?j.preConfirm(e,j.extraParams).then(function(t){F.closeModal(j.onClose),l(t||e)},function(t){F.hideLoading(),t&&F.showValidationError(t)}):(F.closeModal(j.onClose),l(j.useRejections?e:{value:e}))},t=function(t){var e=t||window.event,n=e.target||e.srcElement,i=X(),r=K(),a=i&&(i===n||i.contains(n)),o=r&&(r===n||r.contains(n));switch(e.type){case"mouseover":case"mouseup":j.buttonsStyling&&(a?i.style.backgroundColor=H(j.confirmButtonColor,-.1):o&&(r.style.backgroundColor=H(j.cancelButtonColor,-.1)));break;case"mouseout":j.buttonsStyling&&(a?i.style.backgroundColor=j.confirmButtonColor:o&&(r.style.backgroundColor=j.cancelButtonColor));break;case"mousedown":j.buttonsStyling&&(a?i.style.backgroundColor=H(j.confirmButtonColor,-.2):o&&(r.style.backgroundColor=H(j.cancelButtonColor,-.2)));break;case"click":if(a&&F.isVisible())if(F.disableButtons(),j.input){var s=function(){var t=c();if(!t)return null;switch(j.input){case"checkbox":return t.checked?1:0;case"radio":return t.checked?t.value:null;case"file":return t.files.length?t.files[0]:null;default:return j.inputAutoTrim?t.value.trim():t.value}}();j.inputValidator?(F.disableInput(),j.inputValidator(s,j.extraParams).then(function(){F.enableButtons(),F.enableInput(),d(s)},function(t){F.enableButtons(),F.enableInput(),t&&F.showValidationError(t)})):d(s)}else d(!0);else o&&F.isVisible()&&(F.disableButtons(),F.closeModal(j.onClose),j.useRejections?u("cancel"):l({dismiss:"cancel"}))}},e=N.querySelectorAll("button"),n=0;n<e.length;n++)e[n].onclick=t,e[n].onmouseover=t,e[n].onmouseout=t,e[n].onmousedown=t;J().onclick=function(){F.closeModal(j.onClose),j.useRejections?u("close"):l({dismiss:"close"})},L.onclick=function(t){t.target===L&&j.allowOutsideClick&&(F.closeModal(j.onClose),j.useRejections?u("overlay"):l({dismiss:"overlay"}))};var i=Q(),o=X(),s=K();j.reverseButtons?o.parentNode.insertBefore(s,o):o.parentNode.insertBefore(o,s);var h=function(t,e){for(var n=tt(j.focusCancel),i=0;i<n.length;i++){(t+=e)===n.length?t=0:-1===t&&(t=n.length-1);var r=n[t];if(lt(r))return r.focus()}},r=function(t){var e=t||window.event;if("Enter"===e.key){if(e.target===c()){if("textarea"===e.target.tagName.toLowerCase())return;F.clickConfirm(),e.preventDefault()}}else if("Tab"===e.key){for(var n=e.target||e.srcElement,i=tt(j.focusCancel),r=-1,a=0;a<i.length;a++)if(n===i[a]){r=a;break}e.shiftKey?h(r,-1):h(r,1),e.stopPropagation(),e.preventDefault()}else-1!==["ArrowLeft","ArrowRight","ArrowUp","Arrowdown"].indexOf(e.key)?document.activeElement===o&&lt(s)?s.focus():document.activeElement===s&&lt(o)&&o.focus():"Escape"!==e.key&&"Esc"!==e.key||!0!==j.allowEscapeKey||(F.closeModal(j.onClose),j.useRejections?u("esc"):l({dismiss:"esc"}))};window.onkeydown&&window.onkeydown.toString()===r.toString()||(B.previousWindowKeyDown=window.onkeydown,window.onkeydown=r),j.buttonsStyling&&(o.style.borderLeftColor=j.confirmButtonColor,o.style.borderRightColor=j.confirmButtonColor),F.hideLoading=F.disableLoading=function(){j.showConfirmButton||(st(o),j.showCancelButton||st(Q())),rt(i,V.loading),rt(N,V.loading),N.removeAttribute("aria-busy"),o.disabled=!1,s.disabled=!1},F.getTitle=function(){return z()},F.getContent=function(){return W()},F.getInput=function(){return c()},F.getImage=function(){return q()},F.getButtonsWrapper=function(){return Q()},F.getConfirmButton=function(){return X()},F.getCancelButton=function(){return K()},F.enableButtons=function(){o.disabled=!1,s.disabled=!1},F.disableButtons=function(){o.disabled=!0,s.disabled=!0},F.enableConfirmButton=function(){o.disabled=!1},F.disableConfirmButton=function(){o.disabled=!0},F.enableInput=function(){var t=c();if(!t)return!1;if("radio"===t.type)for(var e=t.parentNode.parentNode.querySelectorAll("input"),n=0;n<e.length;n++)e[n].disabled=!1;else t.disabled=!1},F.disableInput=function(){var t=c();if(!t)return!1;if(t&&"radio"===t.type)for(var e=t.parentNode.parentNode.querySelectorAll("input"),n=0;n<e.length;n++)e[n].disabled=!0;else t.disabled=!0},F.showValidationError=function(t){var e=Z();e.innerHTML=t,ot(e);var n=c();n&&(n.setAttribute("aria-invalid",!0),n.setAttribute("aria-describedBy",V.validationerror),nt(n),it(n,V.inputerror))},F.resetValidationError=function(){var t=Z();st(t);var e=c();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedBy"),rt(e,V.inputerror))},F.getProgressSteps=function(){return j.progressSteps},F.setProgressSteps=function(t){j.progressSteps=t,dt(j)},F.showProgressSteps=function(){ot(G())},F.hideProgressSteps=function(){st(G())},F.enableButtons(),F.hideLoading(),F.resetValidationError();for(var a=["input","file","range","select","radio","checkbox","textarea"],f=void 0,p=0;p<a.length;p++){var g=V[a[p]],m=at(N,g);if(f=c(a[p])){for(var v in f.attributes)if(f.attributes.hasOwnProperty(v)){var y=f.attributes[v].name;"type"!==y&&"value"!==y&&f.removeAttribute(y)}for(var b in j.inputAttributes)f.setAttribute(b,j.inputAttributes[b])}m.className=g,j.inputClass&&it(m,j.inputClass),st(m)}var _,w,x,k,C,S=void 0;switch(j.input){case"text":case"email":case"password":case"number":case"tel":case"url":(f=at(N,V.input)).value=j.inputValue,f.placeholder=j.inputPlaceholder,f.type=j.input,ot(f);break;case"file":(f=at(N,V.file)).placeholder=j.inputPlaceholder,f.type=j.input,ot(f);break;case"range":var D=at(N,V.range),T=D.querySelector("input"),M=D.querySelector("output");T.value=j.inputValue,T.type=j.input,M.value=j.inputValue,ot(D);break;case"select":var $=at(N,V.select);if($.innerHTML="",j.inputPlaceholder){var O=document.createElement("option");O.innerHTML=j.inputPlaceholder,O.value="",O.disabled=!0,O.selected=!0,$.appendChild(O)}S=function(t){for(var e in t){var n=document.createElement("option");n.value=e,n.innerHTML=t[e],j.inputValue.toString()===e&&(n.selected=!0),$.appendChild(n)}ot($),$.focus()};break;case"radio":var E=at(N,V.radio);E.innerHTML="",S=function(t){for(var e in t){var n=document.createElement("input"),i=document.createElement("label"),r=document.createElement("span");n.type="radio",n.name=V.radio,n.value=e,j.inputValue.toString()===e&&(n.checked=!0),r.innerHTML=t[e],i.appendChild(n),i.appendChild(r),i.for=n.id,E.appendChild(i)}ot(E);var a=E.querySelectorAll("input");a.length&&a[0].focus()};break;case"checkbox":var P=at(N,V.checkbox),A=c("checkbox");A.type="checkbox",A.value=1,A.id=V.checkbox,A.checked=Boolean(j.inputValue);var R=P.getElementsByTagName("span");R.length&&P.removeChild(R[0]),(R=document.createElement("span")).innerHTML=j.inputPlaceholder,P.appendChild(R),ot(P);break;case"textarea":var I=at(N,V.textarea);I.value=j.inputValue,I.placeholder=j.inputPlaceholder,ot(I);break;case null:break;default:j.input}"select"!==j.input&&"radio"!==j.input||(j.inputOptions instanceof Promise?(F.showLoading(),j.inputOptions.then(function(t){F.hideLoading(),S(t)})):"object"===ct(j.inputOptions)?S(j.inputOptions):ct(j.inputOptions)),_=j.animation,w=j.onBeforeOpen,x=j.onOpen,k=Y(),C=U(),null!==w&&"function"==typeof w&&w(C),_?(it(C,V.show),it(k,V.fade),rt(C,V.hide)):rt(C,V.fade),ot(C),k.style.overflowY="hidden",ut&&!et(C,V.noanimation)?C.addEventListener(ut,function t(){C.removeEventListener(ut,t),k.style.overflowY="auto"}):k.style.overflowY="auto",it(document.documentElement,V.shown),it(document.body,V.shown),it(k,V.shown),null===B.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(B.previousBodyPadding=document.body.style.paddingRight,document.body.style.paddingRight=function(){if("ontouchstart"in window||navigator.msMaxTouchPoints)return 0;var t=document.createElement("div");t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t);var e=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),e}()+"px"),function(){if(/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&!et(document.body,V.iosfix)){var t=document.body.scrollTop;document.body.style.top=-1*t+"px",it(document.body,V.iosfix)}}(),B.previousActiveElement=document.activeElement,null!==x&&"function"==typeof x&&setTimeout(function(){x(C)}),j.allowEnterKey?j.focusCancel&&lt(s)?s.focus():j.focusConfirm&&lt(o)?o.focus():h(-1,1):document.activeElement&&document.activeElement.blur(),Y().scrollTop=0})};return T.isVisible=function(){return!!U()},T.queue=function(t){s=t;var a=function(){s=[],document.body.removeAttribute("data-swal2-queue-step")},o=[];return new Promise(function(t,r){!function e(n,i){n<s.length?(document.body.setAttribute("data-swal2-queue-step",n),T(s[n]).then(function(t){o.push(t),e(n+1,i)},function(t){a(),r(t)})):(a(),t(o))}(0)})},T.getQueueStep=function(){return document.body.getAttribute("data-swal2-queue-step")},T.insertQueueStep=function(t,e){return e&&e<s.length?s.splice(e,0,t):s.push(t)},T.deleteQueueStep=function(t){void 0!==s[t]&&s.splice(t,1)},T.close=T.closeModal=function(t){var e=Y(),n=U();if(n){rt(n,V.show),it(n,V.hide),clearTimeout(n.timeout),function(){if(window.onkeydown=B.previousWindowKeyDown,B.previousActiveElement&&B.previousActiveElement.focus){var t=window.scrollX,e=window.scrollY;B.previousActiveElement.focus(),t&&e&&window.scrollTo(t,e)}}();var i=function(){e.parentNode&&e.parentNode.removeChild(e),rt(document.documentElement,V.shown),rt(document.body,V.shown),null!==B.previousBodyPadding&&(document.body.style.paddingRight=B.previousBodyPadding,B.previousBodyPadding=null),function(){if(et(document.body,V.iosfix)){var t=parseInt(document.body.style.top,10);rt(document.body,V.iosfix),document.body.style.top="",document.body.scrollTop=-1*t}}()};ut&&!et(n,V.noanimation)?n.addEventListener(ut,function t(){n.removeEventListener(ut,t),et(n,V.hide)&&i()}):i(),null!==t&&"function"==typeof t&&setTimeout(function(){t(n)})}},T.clickConfirm=function(){return X().click()},T.clickCancel=function(){return K().click()},T.showLoading=T.enableLoading=function(){var t=U();t||T(""),t=U();var e=Q(),n=X(),i=K();ot(e),ot(n,"inline-block"),it(e,V.loading),it(t,V.loading),n.disabled=!0,i.disabled=!0,t.setAttribute("aria-busy",!0),t.focus()},T.isValidParameter=function(t){return e.hasOwnProperty(t)||"extraParams"===t},T.setDefaults=function(t){if(t&&"object"===(void 0===t?"undefined":ct(t))){for(var e in t)T.isValidParameter(e)||delete t[e];i(r,t)}},T.resetDefaults=function(){r=i({},e)},T.noop=function(){},T.version="6.11.5",T.default=T}),window.Sweetalert2&&(window.sweetAlert=window.swal=window.Sweetalert2),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(M,$){function O(){return new Date(Date.UTC.apply(Date,arguments))}function E(){var t=new Date;return O(t.getFullYear(),t.getMonth(),t.getDate())}function a(t,e){return t.getUTCFullYear()===e.getUTCFullYear()&&t.getUTCMonth()===e.getUTCMonth()&&t.getUTCDate()===e.getUTCDate()}function t(t,e){return function(){return e!==$&&M.fn.datepicker.deprecated(e),this[t].apply(this,arguments)}}var e,n=(e={get:function(t){return this.slice(t)[0]},contains:function(t){for(var e=t&&t.valueOf(),n=0,i=this.length;n<i;n++)if(0<=this[n].valueOf()-e&&this[n].valueOf()-e<864e5)return n;return-1},remove:function(t){this.splice(t,1)},replace:function(t){t&&(M.isArray(t)||(t=[t]),this.clear(),this.push.apply(this,t))},clear:function(){this.length=0},copy:function(){var t=new n;return t.replace(this),t}},function(){var t=[];return t.push.apply(t,arguments),M.extend(t,e),t}),w=function(t,e){M.data(t,"datepicker",this),this._events=[],this._secondaryEvents=[],this._process_options(e),this.dates=new n,this.viewDate=this.o.defaultViewDate,this.focusDate=null,this.element=M(t),this.isInput=this.element.is("input"),this.inputField=this.isInput?this.element:this.element.find("input"),this.component=!!this.element.hasClass("date")&&this.element.find(".add-on, .input-group-addon, .input-group-append, .input-group-prepend, .btn"),this.component&&0===this.component.length&&(this.component=!1),this.isInline=!this.component&&this.element.is("div"),this.picker=M(A.template),this._check_template(this.o.templates.leftArrow)&&this.picker.find(".prev").html(this.o.templates.leftArrow),this._check_template(this.o.templates.rightArrow)&&this.picker.find(".next").html(this.o.templates.rightArrow),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.o.calendarWeeks&&this.picker.find(".datepicker-days .datepicker-switch, thead .datepicker-title, tfoot .today, tfoot .clear").attr("colspan",function(t,e){return Number(e)+1}),this._process_options({startDate:this._o.startDate,endDate:this._o.endDate,daysOfWeekDisabled:this.o.daysOfWeekDisabled,daysOfWeekHighlighted:this.o.daysOfWeekHighlighted,datesDisabled:this.o.datesDisabled}),this._allow_update=!1,this.setViewMode(this.o.startView),this._allow_update=!0,this.fillDow(),this.fillMonths(),this.update(),this.isInline&&this.show()};w.prototype={constructor:w,_resolveViewName:function(n){return M.each(A.viewModes,function(t,e){if(n===t||-1!==M.inArray(n,e.names))return n=t,!1}),n},_resolveDaysOfWeek:function(t){return M.isArray(t)||(t=t.split(/[,\s]*/)),M.map(t,Number)},_check_template:function(t){try{return t!==$&&""!==t&&((t.match(/[<>]/g)||[]).length<=0||0<M(t).length)}catch(t){return!1}},_process_options:function(t){this._o=M.extend({},this._o,t);var e=this.o=M.extend({},this._o),n=e.language;P[n]||(n=n.split("-")[0],P[n]||(n=c.language)),e.language=n,e.startView=this._resolveViewName(e.startView),e.minViewMode=this._resolveViewName(e.minViewMode),e.maxViewMode=this._resolveViewName(e.maxViewMode),e.startView=Math.max(this.o.minViewMode,Math.min(this.o.maxViewMode,e.startView)),!0!==e.multidate&&(e.multidate=Number(e.multidate)||!1,!1!==e.multidate&&(e.multidate=Math.max(0,e.multidate))),e.multidateSeparator=String(e.multidateSeparator),e.weekStart%=7,e.weekEnd=(e.weekStart+6)%7;var i=A.parseFormat(e.format);e.startDate!==-1/0&&(e.startDate?e.startDate instanceof Date?e.startDate=this._local_to_utc(this._zero_time(e.startDate)):e.startDate=A.parseDate(e.startDate,i,e.language,e.assumeNearbyYear):e.startDate=-1/0),e.endDate!==1/0&&(e.endDate?e.endDate instanceof Date?e.endDate=this._local_to_utc(this._zero_time(e.endDate)):e.endDate=A.parseDate(e.endDate,i,e.language,e.assumeNearbyYear):e.endDate=1/0),e.daysOfWeekDisabled=this._resolveDaysOfWeek(e.daysOfWeekDisabled||[]),e.daysOfWeekHighlighted=this._resolveDaysOfWeek(e.daysOfWeekHighlighted||[]),e.datesDisabled=e.datesDisabled||[],M.isArray(e.datesDisabled)||(e.datesDisabled=e.datesDisabled.split(",")),e.datesDisabled=M.map(e.datesDisabled,function(t){return A.parseDate(t,i,e.language,e.assumeNearbyYear)});var r=String(e.orientation).toLowerCase().split(/\s+/g),a=e.orientation.toLowerCase();if(r=M.grep(r,function(t){return/^auto|left|right|top|bottom$/.test(t)}),e.orientation={x:"auto",y:"auto"},a&&"auto"!==a)if(1===r.length)switch(r[0]){case"top":case"bottom":e.orientation.y=r[0];break;case"left":case"right":e.orientation.x=r[0]}else a=M.grep(r,function(t){return/^left|right$/.test(t)}),e.orientation.x=a[0]||"auto",a=M.grep(r,function(t){return/^top|bottom$/.test(t)}),e.orientation.y=a[0]||"auto";if(e.defaultViewDate instanceof Date||"string"==typeof e.defaultViewDate)e.defaultViewDate=A.parseDate(e.defaultViewDate,i,e.language,e.assumeNearbyYear);else if(e.defaultViewDate){var o=e.defaultViewDate.year||(new Date).getFullYear(),s=e.defaultViewDate.month||0,l=e.defaultViewDate.day||1;e.defaultViewDate=O(o,s,l)}else e.defaultViewDate=E()},_applyEvents:function(t){for(var e,n,i,r=0;r<t.length;r++)e=t[r][0],2===t[r].length?(n=$,i=t[r][1]):3===t[r].length&&(n=t[r][1],i=t[r][2]),e.on(i,n)},_unapplyEvents:function(t){for(var e,n,i,r=0;r<t.length;r++)e=t[r][0],2===t[r].length?(i=$,n=t[r][1]):3===t[r].length&&(i=t[r][1],n=t[r][2]),e.off(n,i)},_buildEvents:function(){var t={keyup:M.proxy(function(t){-1===M.inArray(t.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:M.proxy(this.keydown,this),paste:M.proxy(this.paste,this)};!0===this.o.showOnFocus&&(t.focus=M.proxy(this.show,this)),this.isInput?this._events=[[this.element,t]]:this.component&&this.inputField.length?this._events=[[this.inputField,t],[this.component,{click:M.proxy(this.show,this)}]]:this._events=[[this.element,{click:M.proxy(this.show,this),keydown:M.proxy(this.keydown,this)}]],this._events.push([this.element,"*",{blur:M.proxy(function(t){this._focused_from=t.target},this)}],[this.element,{blur:M.proxy(function(t){this._focused_from=t.target},this)}]),this.o.immediateUpdates&&this._events.push([this.element,{"changeYear changeMonth":M.proxy(function(t){this.update(t.date)},this)}]),this._secondaryEvents=[[this.picker,{click:M.proxy(this.click,this)}],[this.picker,".prev, .next",{click:M.proxy(this.navArrowsClick,this)}],[this.picker,".day:not(.disabled)",{click:M.proxy(this.dayCellClick,this)}],[M(window),{resize:M.proxy(this.place,this)}],[M(document),{"mousedown touchstart":M.proxy(function(t){this.element.is(t.target)||this.element.find(t.target).length||this.picker.is(t.target)||this.picker.find(t.target).length||this.isInline||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(t,e){var n=e||this.dates.get(-1),i=this._utc_to_local(n);this.element.trigger({type:t,date:i,viewMode:this.viewMode,dates:M.map(this.dates,this._utc_to_local),format:M.proxy(function(t,e){0===arguments.length?(t=this.dates.length-1,e=this.o.format):"string"==typeof t&&(e=t,t=this.dates.length-1),e=e||this.o.format;var n=this.dates.get(t);return A.formatDate(n,e,this.o.language)},this)})},show:function(){if(!(this.inputField.is(":disabled")||this.inputField.prop("readonly")&&!1===this.o.enableOnReadonly))return this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&M(this.element).blur(),this},hide:function(){return this.isInline||!this.picker.is(":visible")||(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.setViewMode(this.o.startView),this.o.forceParse&&this.inputField.val()&&this.setValue(),this._trigger("hide")),this},destroy:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},paste:function(t){var e;if(t.originalEvent.clipboardData&&t.originalEvent.clipboardData.types&&-1!==M.inArray("text/plain",t.originalEvent.clipboardData.types))e=t.originalEvent.clipboardData.getData("text/plain");else{if(!window.clipboardData)return;e=window.clipboardData.getData("Text")}this.setDate(e),this.update(),t.preventDefault()},_utc_to_local:function(t){if(!t)return t;var e=new Date(t.getTime()+6e4*t.getTimezoneOffset());return e.getTimezoneOffset()!==t.getTimezoneOffset()&&(e=new Date(t.getTime()+6e4*e.getTimezoneOffset())),e},_local_to_utc:function(t){return t&&new Date(t.getTime()-6e4*t.getTimezoneOffset())},_zero_time:function(t){return t&&new Date(t.getFullYear(),t.getMonth(),t.getDate())},_zero_utc_time:function(t){return t&&O(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate())},getDates:function(){return M.map(this.dates,this._utc_to_local)},getUTCDates:function(){return M.map(this.dates,function(t){return new Date(t)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var t=this.dates.get(-1);return t!==$?new Date(t):null},clearDates:function(){this.inputField.val(""),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()},setDates:function(){var t=M.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,t),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(){var t=M.isArray(arguments[0])?arguments[0]:arguments;return this.setDates.apply(this,M.map(t,this._utc_to_local)),this},setDate:t("setDates"),setUTCDate:t("setUTCDates"),remove:t("destroy","Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead"),setValue:function(){var t=this.getFormattedDate();return this.inputField.val(t),this},getFormattedDate:function(e){e===$&&(e=this.o.format);var n=this.o.language;return M.map(this.dates,function(t){return A.formatDate(t,e,n)}).join(this.o.multidateSeparator)},getStartDate:function(){return this.o.startDate},setStartDate:function(t){return this._process_options({startDate:t}),this.update(),this.updateNavArrows(),this},getEndDate:function(){return this.o.endDate},setEndDate:function(t){return this._process_options({endDate:t}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(t){return this._process_options({daysOfWeekDisabled:t}),this.update(),this},setDaysOfWeekHighlighted:function(t){return this._process_options({daysOfWeekHighlighted:t}),this.update(),this},setDatesDisabled:function(t){return this._process_options({datesDisabled:t}),this.update(),this},place:function(){if(this.isInline)return this;var t=this.picker.outerWidth(),e=this.picker.outerHeight(),n=M(this.o.container),i=n.width(),r="body"===this.o.container?M(document).scrollTop():n.scrollTop(),a=n.offset(),o=[0];this.element.parents().each(function(){var t=M(this).css("z-index");"auto"!==t&&0!==Number(t)&&o.push(Number(t))});var s=Math.max.apply(Math,o)+this.o.zIndexOffset,l=this.component?this.component.parent().offset():this.element.offset(),u=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),c=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),d=l.left-a.left,h=l.top-a.top;"body"!==this.o.container&&(h+=r),this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(d-=t-c)):l.left<0?(this.picker.addClass("datepicker-orient-left"),d-=l.left-10):i<d+t?(this.picker.addClass("datepicker-orient-right"),d+=c-t):this.o.rtl?this.picker.addClass("datepicker-orient-right"):this.picker.addClass("datepicker-orient-left");var f=this.o.orientation.y;if("auto"===f&&(f=-r+h-e<0?"bottom":"top"),this.picker.addClass("datepicker-orient-"+f),"top"===f?h-=e+parseInt(this.picker.css("padding-top")):h+=u,this.o.rtl){var p=i-(d+c);this.picker.css({top:h,right:p,zIndex:s})}else this.picker.css({top:h,left:d,zIndex:s});return this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var t=this.dates.copy(),n=[],e=!1;return arguments.length?(M.each(arguments,M.proxy(function(t,e){e instanceof Date&&(e=this._local_to_utc(e)),n.push(e)},this)),e=!0):(n=(n=this.isInput?this.element.val():this.element.data("date")||this.inputField.val())&&this.o.multidate?n.split(this.o.multidateSeparator):[n],delete this.element.data().date),n=M.map(n,M.proxy(function(t){return A.parseDate(t,this.o.format,this.o.language,this.o.assumeNearbyYear)},this)),n=M.grep(n,M.proxy(function(t){return!this.dateWithinRange(t)||!t},this),!0),this.dates.replace(n),this.o.updateViewDate&&(this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate?this.viewDate=new Date(this.o.endDate):this.viewDate=this.o.defaultViewDate),e?(this.setValue(),this.element.change()):this.dates.length&&String(t)!==String(this.dates)&&e&&(this._trigger("changeDate"),this.element.change()),!this.dates.length&&t.length&&(this._trigger("clearDate"),this.element.change()),this.fill(),this},fillDow:function(){if(this.o.showWeekDays){var t=this.o.weekStart,e="<tr>";for(this.o.calendarWeeks&&(e+='<th class="cw">&#160;</th>');t<this.o.weekStart+7;)e+='<th class="dow',-1!==M.inArray(t,this.o.daysOfWeekDisabled)&&(e+=" disabled"),e+='">'+P[this.o.language].daysMin[t++%7]+"</th>";e+="</tr>",this.picker.find(".datepicker-days thead").append(e)}},fillMonths:function(){for(var t=this._utc_to_local(this.viewDate),e="",n=0;n<12;n++)e+='<span class="month'+(t&&t.getMonth()===n?" focused":"")+'">'+P[this.o.language].monthsShort[n]+"</span>";this.picker.find(".datepicker-months td").html(e)},setRange:function(t){t&&t.length?this.range=M.map(t,function(t){return t.valueOf()}):delete this.range,this.fill()},getClassNames:function(t){var e=[],n=this.viewDate.getUTCFullYear(),i=this.viewDate.getUTCMonth(),r=E();return t.getUTCFullYear()<n||t.getUTCFullYear()===n&&t.getUTCMonth()<i?e.push("old"):(t.getUTCFullYear()>n||t.getUTCFullYear()===n&&t.getUTCMonth()>i)&&e.push("new"),this.focusDate&&t.valueOf()===this.focusDate.valueOf()&&e.push("focused"),this.o.todayHighlight&&a(t,r)&&e.push("today"),-1!==this.dates.contains(t)&&e.push("active"),this.dateWithinRange(t)||e.push("disabled"),this.dateIsDisabled(t)&&e.push("disabled","disabled-date"),-1!==M.inArray(t.getUTCDay(),this.o.daysOfWeekHighlighted)&&e.push("highlighted"),this.range&&(t>this.range[0]&&t<this.range[this.range.length-1]&&e.push("range"),-1!==M.inArray(t.valueOf(),this.range)&&e.push("selected"),t.valueOf()===this.range[0]&&e.push("range-start"),t.valueOf()===this.range[this.range.length-1]&&e.push("range-end")),e},_fill_yearsView:function(t,e,n,i,r,a,o){for(var s,l,u,c="",d=n/10,h=this.picker.find(t),f=Math.floor(i/n)*n,p=f+9*d,g=Math.floor(this.viewDate.getFullYear()/d)*d,m=M.map(this.dates,function(t){return Math.floor(t.getUTCFullYear()/d)*d}),v=f-d;v<=p+d;v+=d)s=[e],l=null,v===f-d?s.push("old"):v===p+d&&s.push("new"),-1!==M.inArray(v,m)&&s.push("active"),(v<r||a<v)&&s.push("disabled"),v===g&&s.push("focused"),o!==M.noop&&((u=o(new Date(v,0,1)))===$?u={}:"boolean"==typeof u?u={enabled:u}:"string"==typeof u&&(u={classes:u}),!1===u.enabled&&s.push("disabled"),u.classes&&(s=s.concat(u.classes.split(/\s+/))),u.tooltip&&(l=u.tooltip)),c+='<span class="'+s.join(" ")+'"'+(l?' title="'+l+'"':"")+">"+v+"</span>";h.find(".datepicker-switch").text(f+"-"+p),h.find("td").html(c)},fill:function(){var t,e,n=new Date(this.viewDate),r=n.getUTCFullYear(),i=n.getUTCMonth(),a=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,o=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,s=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,l=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,u=P[this.o.language].today||P.en.today||"",c=P[this.o.language].clear||P.en.clear||"",d=P[this.o.language].titleFormat||P.en.titleFormat,h=E(),f=(!0===this.o.todayBtn||"linked"===this.o.todayBtn)&&h>=this.o.startDate&&h<=this.o.endDate&&!this.weekOfDateIsDisabled(h);if(!isNaN(r)&&!isNaN(i)){this.picker.find(".datepicker-days .datepicker-switch").text(A.formatDate(n,d,this.o.language)),this.picker.find("tfoot .today").text(u).css("display",f?"table-cell":"none"),this.picker.find("tfoot .clear").text(c).css("display",!0===this.o.clearBtn?"table-cell":"none"),this.picker.find("thead .datepicker-title").text(this.o.title).css("display","string"==typeof this.o.title&&""!==this.o.title?"table-cell":"none"),this.updateNavArrows(),this.fillMonths();var p=O(r,i,0),g=p.getUTCDate();p.setUTCDate(g-(p.getUTCDay()-this.o.weekStart+7)%7);var m=new Date(p);p.getUTCFullYear()<100&&m.setUTCFullYear(p.getUTCFullYear()),m.setUTCDate(m.getUTCDate()+42),m=m.valueOf();for(var v,y,b=[];p.valueOf()<m;){if((v=p.getUTCDay())===this.o.weekStart&&(b.push("<tr>"),this.o.calendarWeeks)){var _=new Date(+p+(this.o.weekStart-v-7)%7*864e5),w=new Date(Number(_)+(11-_.getUTCDay())%7*864e5),x=new Date(Number(x=O(w.getUTCFullYear(),0,1))+(11-x.getUTCDay())%7*864e5),k=(w-x)/864e5/7+1;b.push('<td class="cw">'+k+"</td>")}(y=this.getClassNames(p)).push("day");var C=p.getUTCDate();this.o.beforeShowDay!==M.noop&&((e=this.o.beforeShowDay(this._utc_to_local(p)))===$?e={}:"boolean"==typeof e?e={enabled:e}:"string"==typeof e&&(e={classes:e}),!1===e.enabled&&y.push("disabled"),e.classes&&(y=y.concat(e.classes.split(/\s+/))),e.tooltip&&(t=e.tooltip),e.content&&(C=e.content)),y=M.isFunction(M.uniqueSort)?M.uniqueSort(y):M.unique(y),b.push('<td class="'+y.join(" ")+'"'+(t?' title="'+t+'"':"")+' data-date="'+p.getTime().toString()+'">'+C+"</td>"),t=null,v===this.o.weekEnd&&b.push("</tr>"),p.setUTCDate(p.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").html(b.join(""));var S=P[this.o.language].monthsTitle||P.en.monthsTitle||"Months",D=this.picker.find(".datepicker-months").find(".datepicker-switch").text(this.o.maxViewMode<2?S:r).end().find("tbody span").removeClass("active");if(M.each(this.dates,function(t,e){e.getUTCFullYear()===r&&D.eq(e.getUTCMonth()).addClass("active")}),(r<a||s<r)&&D.addClass("disabled"),r===a&&D.slice(0,o).addClass("disabled"),r===s&&D.slice(l+1).addClass("disabled"),this.o.beforeShowMonth!==M.noop){var T=this;M.each(D,function(t,e){var n=new Date(r,t,1),i=T.o.beforeShowMonth(n);i===$?i={}:"boolean"==typeof i?i={enabled:i}:"string"==typeof i&&(i={classes:i}),!1!==i.enabled||M(e).hasClass("disabled")||M(e).addClass("disabled"),i.classes&&M(e).addClass(i.classes),i.tooltip&&M(e).prop("title",i.tooltip)})}this._fill_yearsView(".datepicker-years","year",10,r,a,s,this.o.beforeShowYear),this._fill_yearsView(".datepicker-decades","decade",100,r,a,s,this.o.beforeShowDecade),this._fill_yearsView(".datepicker-centuries","century",1e3,r,a,s,this.o.beforeShowCentury)}},updateNavArrows:function(){if(this._allow_update){var t,e,n=new Date(this.viewDate),i=n.getUTCFullYear(),r=n.getUTCMonth(),a=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,o=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,s=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,l=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,u=1;switch(this.viewMode){case 4:u*=10;case 3:u*=10;case 2:u*=10;case 1:t=Math.floor(i/u)*u<=a,e=Math.floor(i/u)*u+u>s;break;case 0:t=i<=a&&r<=o,e=s<=i&&l<=r}this.picker.find(".prev").toggleClass("disabled",t),this.picker.find(".next").toggleClass("disabled",e)}},click:function(t){var e,n,i;t.preventDefault(),t.stopPropagation(),(e=M(t.target)).hasClass("datepicker-switch")&&this.viewMode!==this.o.maxViewMode&&this.setViewMode(this.viewMode+1),e.hasClass("today")&&!e.hasClass("day")&&(this.setViewMode(0),this._setDate(E(),"linked"===this.o.todayBtn?null:"view")),e.hasClass("clear")&&this.clearDates(),e.hasClass("disabled")||(e.hasClass("month")||e.hasClass("year")||e.hasClass("decade")||e.hasClass("century"))&&(this.viewDate.setUTCDate(1),1===this.viewMode?(i=e.parent().find("span").index(e),n=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(i)):(i=0,n=Number(e.text()),this.viewDate.setUTCFullYear(n)),this._trigger(A.viewModes[this.viewMode-1].e,this.viewDate),this.viewMode===this.o.minViewMode?this._setDate(O(n,i,1)):(this.setViewMode(this.viewMode-1),this.fill())),this.picker.is(":visible")&&this._focused_from&&this._focused_from.focus(),delete this._focused_from},dayCellClick:function(t){var e=M(t.currentTarget).data("date"),n=new Date(e);this.o.updateViewDate&&(n.getUTCFullYear()!==this.viewDate.getUTCFullYear()&&this._trigger("changeYear",this.viewDate),n.getUTCMonth()!==this.viewDate.getUTCMonth()&&this._trigger("changeMonth",this.viewDate)),this._setDate(n)},navArrowsClick:function(t){var e=M(t.currentTarget).hasClass("prev")?-1:1;0!==this.viewMode&&(e*=12*A.viewModes[this.viewMode].navStep),this.viewDate=this.moveMonth(this.viewDate,e),this._trigger(A.viewModes[this.viewMode].e,this.viewDate),this.fill()},_toggle_multidate:function(t){var e=this.dates.contains(t);if(t||this.dates.clear(),-1!==e?(!0===this.o.multidate||1<this.o.multidate||this.o.toggleActive)&&this.dates.remove(e):(!1===this.o.multidate&&this.dates.clear(),this.dates.push(t)),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(t,e){e&&"date"!==e||this._toggle_multidate(t&&new Date(t)),(!e&&this.o.updateViewDate||"view"===e)&&(this.viewDate=t&&new Date(t)),this.fill(),this.setValue(),e&&"view"===e||this._trigger("changeDate"),this.inputField.trigger("change"),!this.o.autoclose||e&&"date"!==e||this.hide()},moveDay:function(t,e){var n=new Date(t);return n.setUTCDate(t.getUTCDate()+e),n},moveWeek:function(t,e){return this.moveDay(t,7*e)},moveMonth:function(t,e){if(!(n=t)||isNaN(n.getTime()))return this.o.defaultViewDate;var n;if(!e)return t;var i,r,a=new Date(t.valueOf()),o=a.getUTCDate(),s=a.getUTCMonth(),l=Math.abs(e);if(e=0<e?1:-1,1===l)r=-1===e?function(){return a.getUTCMonth()===s}:function(){return a.getUTCMonth()!==i},i=s+e,a.setUTCMonth(i),i=(i+12)%12;else{for(var u=0;u<l;u++)a=this.moveMonth(a,e);i=a.getUTCMonth(),a.setUTCDate(o),r=function(){return i!==a.getUTCMonth()}}for(;r();)a.setUTCDate(--o),a.setUTCMonth(i);return a},moveYear:function(t,e){return this.moveMonth(t,12*e)},moveAvailableDate:function(t,e,n){do{if(t=this[n](t,e),!this.dateWithinRange(t))return!1;n="moveDay"}while(this.dateIsDisabled(t));return t},weekOfDateIsDisabled:function(t){return-1!==M.inArray(t.getUTCDay(),this.o.daysOfWeekDisabled)},dateIsDisabled:function(e){return this.weekOfDateIsDisabled(e)||0<M.grep(this.o.datesDisabled,function(t){return a(e,t)}).length},dateWithinRange:function(t){return t>=this.o.startDate&&t<=this.o.endDate},keydown:function(t){if(this.picker.is(":visible")){var e,n,i=!1,r=this.focusDate||this.viewDate;switch(t.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),t.preventDefault(),t.stopPropagation();break;case 37:case 38:case 39:case 40:if(!this.o.keyboardNavigation||7===this.o.daysOfWeekDisabled.length)break;e=37===t.keyCode||38===t.keyCode?-1:1,0===this.viewMode?t.ctrlKey?(n=this.moveAvailableDate(r,e,"moveYear"))&&this._trigger("changeYear",this.viewDate):t.shiftKey?(n=this.moveAvailableDate(r,e,"moveMonth"))&&this._trigger("changeMonth",this.viewDate):37===t.keyCode||39===t.keyCode?n=this.moveAvailableDate(r,e,"moveDay"):this.weekOfDateIsDisabled(r)||(n=this.moveAvailableDate(r,e,"moveWeek")):1===this.viewMode?(38!==t.keyCode&&40!==t.keyCode||(e*=4),n=this.moveAvailableDate(r,e,"moveMonth")):2===this.viewMode&&(38!==t.keyCode&&40!==t.keyCode||(e*=4),n=this.moveAvailableDate(r,e,"moveYear")),n&&(this.focusDate=this.viewDate=n,this.setValue(),this.fill(),t.preventDefault());break;case 13:if(!this.o.forceParse)break;r=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(r),i=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(t.preventDefault(),t.stopPropagation(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}i&&(this.dates.length?this._trigger("changeDate"):this._trigger("clearDate"),this.inputField.trigger("change"))}else 40!==t.keyCode&&27!==t.keyCode||(this.show(),t.stopPropagation())},setViewMode:function(t){this.viewMode=t,this.picker.children("div").hide().filter(".datepicker-"+A.viewModes[this.viewMode].clsName).show(),this.updateNavArrows(),this._trigger("changeViewMode",new Date(this.viewDate))}};var u=function(t,e){M.data(t,"datepicker",this),this.element=M(t),this.inputs=M.map(e.inputs,function(t){return t.jquery?t[0]:t}),delete e.inputs,this.keepEmptyValues=e.keepEmptyValues,delete e.keepEmptyValues,r.call(M(this.inputs),e).on("changeDate",M.proxy(this.dateUpdated,this)),this.pickers=M.map(this.inputs,function(t){return M.data(t,"datepicker")}),this.updateDates()};u.prototype={updateDates:function(){this.dates=M.map(this.pickers,function(t){return t.getUTCDate()}),this.updateRanges()},updateRanges:function(){var n=M.map(this.dates,function(t){return t.valueOf()});M.each(this.pickers,function(t,e){e.setRange(n)})},clearDates:function(){M.each(this.pickers,function(t,e){e.clearDates()})},dateUpdated:function(t){if(!this.updating){this.updating=!0;var n=M.data(t.target,"datepicker");if(n!==$){var i=n.getUTCDate(),r=this.keepEmptyValues,e=M.inArray(t.target,this.inputs),a=e-1,o=e+1,s=this.inputs.length;if(-1!==e){if(M.each(this.pickers,function(t,e){e.getUTCDate()||e!==n&&r||e.setUTCDate(i)}),i<this.dates[a])for(;0<=a&&i<this.dates[a];)this.pickers[a--].setUTCDate(i);else if(i>this.dates[o])for(;o<s&&i>this.dates[o];)this.pickers[o++].setUTCDate(i);this.updateDates(),delete this.updating}}}},destroy:function(){M.map(this.pickers,function(t){t.destroy()}),M(this.inputs).off("changeDate",this.dateUpdated),delete this.element.data().datepicker},remove:t("destroy","Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead")};var i=M.fn.datepicker,r=function(o){var s,l=Array.apply(null,arguments);if(l.shift(),this.each(function(){var t=M(this),e=t.data("datepicker"),n="object"==typeof o&&o;if(!e){var i=function(t,e){function n(t,e){return e.toLowerCase()}var i=M(t).data(),r={},a=new RegExp("^"+e.toLowerCase()+"([A-Z])");for(var o in e=new RegExp("^"+e.toLowerCase()),i)e.test(o)&&(r[o.replace(a,n)]=i[o]);return r}(this,"date"),r=function(t){var n={};if(P[t]||(t=t.split("-")[0],P[t])){var i=P[t];return M.each(d,function(t,e){e in i&&(n[e]=i[e])}),n}}(M.extend({},c,i,n).language),a=M.extend({},c,r,i,n);t.hasClass("input-daterange")||a.inputs?(M.extend(a,{inputs:a.inputs||t.find("input").toArray()}),e=new u(this,a)):e=new w(this,a),t.data("datepicker",e)}"string"==typeof o&&"function"==typeof e[o]&&(s=e[o].apply(e,l))}),s===$||s instanceof w||s instanceof u)return this;if(1<this.length)throw new Error("Using only allowed for the collection of a single element ("+o+" function)");return s};M.fn.datepicker=r;var c=M.fn.datepicker.defaults={assumeNearbyYear:!1,autoclose:!1,beforeShowDay:M.noop,beforeShowMonth:M.noop,beforeShowYear:M.noop,beforeShowDecade:M.noop,beforeShowCentury:M.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],daysOfWeekHighlighted:[],datesDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keepEmptyValues:!1,keyboardNavigation:!0,language:"en",minViewMode:0,maxViewMode:4,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,updateViewDate:!0,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,showOnFocus:!0,zIndexOffset:10,container:"body",immediateUpdates:!1,title:"",templates:{leftArrow:"&#x00AB;",rightArrow:"&#x00BB;"},showWeekDays:!0},d=M.fn.datepicker.locale_opts=["format","rtl","weekStart"];M.fn.datepicker.Constructor=w;var P=M.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM yyyy"}},A={viewModes:[{names:["days","month"],clsName:"days",e:"changeMonth"},{names:["months","year"],clsName:"months",e:"changeYear",navStep:1},{names:["years","decade"],clsName:"years",e:"changeDecade",navStep:10},{names:["decades","century"],clsName:"decades",e:"changeCentury",navStep:100},{names:["centuries","millennium"],clsName:"centuries",e:"changeMillennium",navStep:1e3}],validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\u5e74\u6708\u65e5\[-`{-~\t\n\r]+/g,parseFormat:function(t){if("function"==typeof t.toValue&&"function"==typeof t.toDisplay)return t;var e=t.replace(this.validParts,"\0").split("\0"),n=t.match(this.validParts);if(!e||!e.length||!n||0===n.length)throw new Error("Invalid date format.");return{separators:e,parts:n}},parseDate:function(t,e,n,r){function i(){var t=this.slice(0,a[l].length),e=a[l].slice(0,t.length);return t.toLowerCase()===e.toLowerCase()}if(!t)return $;if(t instanceof Date)return t;if("string"==typeof e&&(e=A.parseFormat(e)),e.toValue)return e.toValue(t,e,n);var a,o,s,l,u,c={d:"moveDay",m:"moveMonth",w:"moveWeek",y:"moveYear"},d={yesterday:"-1d",today:"+0d",tomorrow:"+1d"};if(t in d&&(t=d[t]),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/i.test(t)){for(a=t.match(/([\-+]\d+)([dmwy])/gi),t=new Date,l=0;l<a.length;l++)o=a[l].match(/([\-+]\d+)([dmwy])/i),s=Number(o[1]),u=c[o[2].toLowerCase()],t=w.prototype[u](t,s);return w.prototype._zero_utc_time(t)}a=t&&t.match(this.nonpunctuation)||[];var h,f,p={},g=["yyyy","yy","M","MM","m","mm","d","dd"],m={yyyy:function(t,e){return t.setUTCFullYear(r?(!0===(i=r)&&(i=10),(n=e)<100&&(n+=2e3)>(new Date).getFullYear()+i&&(n-=100),n):e);var n,i},m:function(t,e){if(isNaN(t))return t;for(e-=1;e<0;)e+=12;for(e%=12,t.setUTCMonth(e);t.getUTCMonth()!==e;)t.setUTCDate(t.getUTCDate()-1);return t},d:function(t,e){return t.setUTCDate(e)}};m.yy=m.yyyy,m.M=m.MM=m.mm=m.m,m.dd=m.d,t=E();var v=e.parts.slice();if(a.length!==v.length&&(v=M(v).filter(function(t,e){return-1!==M.inArray(e,g)}).toArray()),a.length===v.length){var y,b,_;for(l=0,y=v.length;l<y;l++){if(h=parseInt(a[l],10),o=v[l],isNaN(h))switch(o){case"MM":f=M(P[n].months).filter(i),h=M.inArray(f[0],P[n].months)+1;break;case"M":f=M(P[n].monthsShort).filter(i),h=M.inArray(f[0],P[n].monthsShort)+1}p[o]=h}for(l=0;l<g.length;l++)(_=g[l])in p&&!isNaN(p[_])&&(b=new Date(t),m[_](b,p[_]),isNaN(b)||(t=b))}return t},formatDate:function(t,e,n){if(!t)return"";if("string"==typeof e&&(e=A.parseFormat(e)),e.toDisplay)return e.toDisplay(t,e,n);var i={d:t.getUTCDate(),D:P[n].daysShort[t.getUTCDay()],DD:P[n].days[t.getUTCDay()],m:t.getUTCMonth()+1,M:P[n].monthsShort[t.getUTCMonth()],MM:P[n].months[t.getUTCMonth()],yy:t.getUTCFullYear().toString().substring(2),yyyy:t.getUTCFullYear()};i.dd=(i.d<10?"0":"")+i.d,i.mm=(i.m<10?"0":"")+i.m,t=[];for(var r=M.extend([],e.separators),a=0,o=e.parts.length;a<=o;a++)r.length&&t.push(r.shift()),t.push(i[e.parts[a]]);return t.join("")},headTemplate:'<thead><tr><th colspan="7" class="datepicker-title"></th></tr><tr><th class="prev">'+c.templates.leftArrow+'</th><th colspan="5" class="datepicker-switch"></th><th class="next">'+c.templates.rightArrow+"</th></tr></thead>",contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};A.template='<div class="datepicker"><div class="datepicker-days"><table class="table-condensed">'+A.headTemplate+"<tbody></tbody>"+A.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+A.headTemplate+A.contTemplate+A.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+A.headTemplate+A.contTemplate+A.footTemplate+'</table></div><div class="datepicker-decades"><table class="table-condensed">'+A.headTemplate+A.contTemplate+A.footTemplate+'</table></div><div class="datepicker-centuries"><table class="table-condensed">'+A.headTemplate+A.contTemplate+A.footTemplate+"</table></div></div>",M.fn.datepicker.DPGlobal=A,M.fn.datepicker.noConflict=function(){return M.fn.datepicker=i,this},M.fn.datepicker.version="1.9.0",M.fn.datepicker.deprecated=function(t){var e=window.console;e&&e.warn&&e.warn("DEPRECATED: "+t)},M(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(t){var e=M(this);e.data("datepicker")||(t.preventDefault(),r.call(e,"show"))}),M(function(){r.call(M('[data-provide="datepicker-inline"]'))})}),function(t){"use strict";if("function"==typeof define&&define.amd)define(["jquery","moment"],t);else if("object"==typeof exports)module.exports=t(require("jquery"),require("moment"));else{if("undefined"==typeof jQuery)throw"bootstrap-datetimepicker requires jQuery to be loaded first";if("undefined"==typeof moment)throw"bootstrap-datetimepicker requires Moment.js to be loaded first";t(jQuery,moment)}}(function(X,K){"use strict";if(!K)throw new Error("bootstrap-datetimepicker requires Moment.js to be loaded first");function a(a,g){function n(){return void 0!==K.tz&&void 0!==g.timeZone&&null!==g.timeZone&&""!==g.timeZone}function c(t){var e;return e=null==t?K():K.isDate(t)||K.isMoment(t)?K(t):n()?K.tz(t,A,g.useStrict,g.timeZone):K(t,A,g.useStrict),n()&&e.tz(g.timeZone),e}function m(t){if("string"!=typeof t||1<t.length)throw new TypeError("isEnabled expects a single character string parameter");switch(t){case"y":return-1!==P.indexOf("Y");case"M":return-1!==P.indexOf("M");case"d":return-1!==P.toLowerCase().indexOf("d");case"h":case"H":return-1!==P.toLowerCase().indexOf("h");case"m":return-1!==P.indexOf("m");case"s":return-1!==P.indexOf("s");default:return!1}}function v(){return m("h")||m("m")||m("s")}function y(){return m("y")||m("M")||m("d")}function e(){var t,e,n,i,r,a,o,s,l,u,c=X("<div>").addClass("bootstrap-datetimepicker-widget dropdown-menu"),d=X("<div>").addClass("datepicker").append((e=X("<thead>").append(X("<tr>").append(X("<th>").addClass("prev").attr("data-action","previous").append(X("<span>").addClass(g.icons.previous))).append(X("<th>").addClass("picker-switch").attr("data-action","pickerSwitch").attr("colspan",g.calendarWeeks?"6":"5")).append(X("<th>").addClass("next").attr("data-action","next").append(X("<span>").addClass(g.icons.next)))),n=X("<tbody>").append(X("<tr>").append(X("<td>").attr("colspan",g.calendarWeeks?"8":"7"))),[X("<div>").addClass("datepicker-days").append(X("<table>").addClass("table-condensed").append(e).append(X("<tbody>"))),X("<div>").addClass("datepicker-months").append(X("<table>").addClass("table-condensed").append(e.clone()).append(n.clone())),X("<div>").addClass("datepicker-years").append(X("<table>").addClass("table-condensed").append(e.clone()).append(n.clone())),X("<div>").addClass("datepicker-decades").append(X("<table>").addClass("table-condensed").append(e.clone()).append(n.clone()))])),h=X("<div>").addClass("timepicker").append((o=X("<div>").addClass("timepicker-hours").append(X("<table>").addClass("table-condensed")),s=X("<div>").addClass("timepicker-minutes").append(X("<table>").addClass("table-condensed")),l=X("<div>").addClass("timepicker-seconds").append(X("<table>").addClass("table-condensed")),u=[(i=X("<tr>"),r=X("<tr>"),a=X("<tr>"),m("h")&&(i.append(X("<td>").append(X("<a>").attr({href:"#",tabindex:"-1",title:g.tooltips.incrementHour}).addClass("btn").attr("data-action","incrementHours").append(X("<span>").addClass(g.icons.up)))),r.append(X("<td>").append(X("<span>").addClass("timepicker-hour").attr({"data-time-component":"hours",title:g.tooltips.pickHour}).attr("data-action","showHours"))),a.append(X("<td>").append(X("<a>").attr({href:"#",tabindex:"-1",title:g.tooltips.decrementHour}).addClass("btn").attr("data-action","decrementHours").append(X("<span>").addClass(g.icons.down))))),m("m")&&(m("h")&&(i.append(X("<td>").addClass("separator")),r.append(X("<td>").addClass("separator").html(":")),a.append(X("<td>").addClass("separator"))),i.append(X("<td>").append(X("<a>").attr({href:"#",tabindex:"-1",title:g.tooltips.incrementMinute}).addClass("btn").attr("data-action","incrementMinutes").append(X("<span>").addClass(g.icons.up)))),r.append(X("<td>").append(X("<span>").addClass("timepicker-minute").attr({"data-time-component":"minutes",title:g.tooltips.pickMinute}).attr("data-action","showMinutes"))),a.append(X("<td>").append(X("<a>").attr({href:"#",tabindex:"-1",title:g.tooltips.decrementMinute}).addClass("btn").attr("data-action","decrementMinutes").append(X("<span>").addClass(g.icons.down))))),m("s")&&(m("m")&&(i.append(X("<td>").addClass("separator")),r.append(X("<td>").addClass("separator").html(":")),a.append(X("<td>").addClass("separator"))),i.append(X("<td>").append(X("<a>").attr({href:"#",tabindex:"-1",title:g.tooltips.incrementSecond}).addClass("btn").attr("data-action","incrementSeconds").append(X("<span>").addClass(g.icons.up)))),r.append(X("<td>").append(X("<span>").addClass("timepicker-second").attr({"data-time-component":"seconds",title:g.tooltips.pickSecond}).attr("data-action","showSeconds"))),a.append(X("<td>").append(X("<a>").attr({href:"#",tabindex:"-1",title:g.tooltips.decrementSecond}).addClass("btn").attr("data-action","decrementSeconds").append(X("<span>").addClass(g.icons.down))))),E||(i.append(X("<td>").addClass("separator")),r.append(X("<td>").append(X("<button>").addClass("btn btn-primary").attr({"data-action":"togglePeriod",tabindex:"-1",title:g.tooltips.togglePeriod}))),a.append(X("<td>").addClass("separator"))),X("<div>").addClass("timepicker-picker").append(X("<table>").addClass("table-condensed").append([i,r,a])))],m("h")&&u.push(o),m("m")&&u.push(s),m("s")&&u.push(l),u)),f=X("<ul>").addClass("list-unstyled"),p=X("<li>").addClass("picker-switch"+(g.collapse?" accordion-toggle":"")).append((t=[],g.showTodayButton&&t.push(X("<td>").append(X("<a>").attr({"data-action":"today",title:g.tooltips.today}).append(X("<span>").addClass(g.icons.today)))),!g.sideBySide&&y()&&v()&&t.push(X("<td>").append(X("<a>").attr({"data-action":"togglePicker",title:g.tooltips.selectTime}).append(X("<span>").addClass(g.icons.time)))),g.showClear&&t.push(X("<td>").append(X("<a>").attr({"data-action":"clear",title:g.tooltips.clear}).append(X("<span>").addClass(g.icons.clear)))),g.showClose&&t.push(X("<td>").append(X("<a>").attr({"data-action":"close",title:g.tooltips.close}).append(X("<span>").addClass(g.icons.close)))),X("<table>").addClass("table-condensed").append(X("<tbody>").append(X("<tr>").append(t)))));return g.inline&&c.removeClass("dropdown-menu"),E&&c.addClass("usetwentyfour"),m("s")&&!E&&c.addClass("wider"),g.sideBySide&&y()&&v()?(c.addClass("timepicker-sbs"),"top"===g.toolbarPlacement&&c.append(p),c.append(X("<div>").addClass("row").append(d.addClass("col-md-6")).append(h.addClass("col-md-6"))),"bottom"===g.toolbarPlacement&&c.append(p),c):("top"===g.toolbarPlacement&&f.append(p),y()&&f.append(X("<li>").addClass(g.collapse&&v()?"collapse in":"").append(d)),"default"===g.toolbarPlacement&&f.append(p),v()&&f.append(X("<li>").addClass(g.collapse&&y()?"collapse":"").append(h)),"bottom"===g.toolbarPlacement&&f.append(p),c.append(f))}function i(){var t,e=(N||a).position(),n=(N||a).offset(),i=g.widgetPositioning.vertical,r=g.widgetPositioning.horizontal;if(g.widgetParent)t=g.widgetParent.append(V);else if(a.is("input"))t=a.after(V).parent();else{if(g.inline)return void(t=a.append(V));(t=a).children().first().after(V)}if("auto"===i&&(i=n.top+1.5*V.height()>=X(window).height()+X(window).scrollTop()&&V.height()+a.outerHeight()<n.top?"top":"bottom"),"auto"===r&&(r=t.width()<n.left+V.outerWidth()/2&&n.left+V.outerWidth()>X(window).width()?"right":"left"),"top"===i?V.addClass("top").removeClass("bottom"):V.addClass("bottom").removeClass("top"),"right"===r?V.addClass("pull-right"):V.removeClass("pull-right"),"static"===t.css("position")&&(t=t.parents().filter(function(){return"static"!==X(this).css("position")}).first()),0===t.length)throw new Error("datetimepicker component should be placed within a non-static positioned container");V.css({top:"top"===i?"auto":e.top+a.outerHeight(),bottom:"top"===i?t.outerHeight()-(t===a?0:e.top):"auto",left:"left"===r?t===a?0:e.left:"auto",right:"left"===r?"auto":t.outerWidth()-a.outerWidth()-(t===a?0:e.left)})}function d(t){"dp.change"===t.type&&(t.date&&t.date.isSame(t.oldDate)||!t.date&&!t.oldDate)||a.trigger(t)}function r(t){"y"===t&&(t="YYYY"),d({type:"dp.update",change:t,viewDate:$.clone()})}function o(t){V&&(t&&(R=Math.max(H,Math.min(3,R+t))),V.find(".datepicker > div").hide().filter(".datepicker-"+B[R].clsName).show())}function h(t,e){var n,i,r,a;if(t.isValid()&&!(g.disabledDates&&"d"===e&&(n=t,!0===g.disabledDates[n.format("YYYY-MM-DD")])||g.enabledDates&&"d"===e&&(i=t,!0!==g.enabledDates[i.format("YYYY-MM-DD")])||g.minDate&&t.isBefore(g.minDate,e)||g.maxDate&&t.isAfter(g.maxDate,e)||g.daysOfWeekDisabled&&"d"===e&&-1!==g.daysOfWeekDisabled.indexOf(t.day())||g.disabledHours&&("h"===e||"m"===e||"s"===e)&&(r=t,!0===g.disabledHours[r.format("H")])||g.enabledHours&&("h"===e||"m"===e||"s"===e)&&(a=t,!0!==g.enabledHours[a.format("H")]))){if(g.disabledTimeIntervals&&("h"===e||"m"===e||"s"===e)){var o=!1;if(X.each(g.disabledTimeIntervals,function(){if(t.isBetween(this[0],this[1]))return!(o=!0)}),o)return}return 1}}function s(){var t,e,n,i=V.find(".datepicker-days"),r=i.find("th"),a=[],o=[];if(y()){for(r.eq(0).find("span").attr("title",g.tooltips.prevMonth),r.eq(1).attr("title",g.tooltips.selectMonth),r.eq(2).find("span").attr("title",g.tooltips.nextMonth),i.find(".disabled").removeClass("disabled"),r.eq(1).text($.format(g.dayViewHeaderFormat)),h($.clone().subtract(1,"M"),"M")||r.eq(0).addClass("disabled"),h($.clone().add(1,"M"),"M")||r.eq(2).addClass("disabled"),t=$.clone().startOf("M").startOf("w").startOf("d"),n=0;n<42;n++)0===t.weekday()&&(e=X("<tr>"),g.calendarWeeks&&e.append('<td class="cw">'+t.week()+"</td>"),a.push(e)),o=["day"],t.isBefore($,"M")&&o.push("old"),t.isAfter($,"M")&&o.push("new"),t.isSame(M,"d")&&!L&&o.push("active"),h(t,"d")||o.push("disabled"),t.isSame(c(),"d")&&o.push("today"),0!==t.day()&&6!==t.day()||o.push("weekend"),d({type:"dp.classify",date:t,classNames:o}),e.append('<td data-action="selectDay" data-day="'+t.format("L")+'" class="'+o.join(" ")+'">'+t.date()+"</td>"),t.add(1,"d");var s,l,u;i.find("tbody").empty().append(a),l=(s=V.find(".datepicker-months")).find("th"),u=s.find("tbody").find("span"),l.eq(0).find("span").attr("title",g.tooltips.prevYear),l.eq(1).attr("title",g.tooltips.selectYear),l.eq(2).find("span").attr("title",g.tooltips.nextYear),s.find(".disabled").removeClass("disabled"),h($.clone().subtract(1,"y"),"y")||l.eq(0).addClass("disabled"),l.eq(1).text($.year()),h($.clone().add(1,"y"),"y")||l.eq(2).addClass("disabled"),u.removeClass("active"),M.isSame($,"y")&&!L&&u.eq(M.month()).addClass("active"),u.each(function(t){h($.clone().month(t),"M")||X(this).addClass("disabled")}),function(){var t=V.find(".datepicker-years"),e=t.find("th"),n=$.clone().subtract(5,"y"),i=$.clone().add(6,"y"),r="";for(e.eq(0).find("span").attr("title",g.tooltips.prevDecade),e.eq(1).attr("title",g.tooltips.selectDecade),e.eq(2).find("span").attr("title",g.tooltips.nextDecade),t.find(".disabled").removeClass("disabled"),g.minDate&&g.minDate.isAfter(n,"y")&&e.eq(0).addClass("disabled"),e.eq(1).text(n.year()+"-"+i.year()),g.maxDate&&g.maxDate.isBefore(i,"y")&&e.eq(2).addClass("disabled");!n.isAfter(i,"y");)r+='<span data-action="selectYear" class="year'+(n.isSame(M,"y")&&!L?" active":"")+(h(n,"y")?"":" disabled")+'">'+n.year()+"</span>",n.add(1,"y");t.find("td").html(r)}(),function(){var t,e=V.find(".datepicker-decades"),n=e.find("th"),i=K({y:$.year()-$.year()%100-1}),r=i.clone().add(100,"y"),a=i.clone(),o=!1,s=!1,l="";for(n.eq(0).find("span").attr("title",g.tooltips.prevCentury),n.eq(2).find("span").attr("title",g.tooltips.nextCentury),e.find(".disabled").removeClass("disabled"),(i.isSame(K({y:1900}))||g.minDate&&g.minDate.isAfter(i,"y"))&&n.eq(0).addClass("disabled"),n.eq(1).text(i.year()+"-"+r.year()),(i.isSame(K({y:2e3}))||g.maxDate&&g.maxDate.isBefore(r,"y"))&&n.eq(2).addClass("disabled");!i.isAfter(r,"y");)t=i.year()+12,o=g.minDate&&g.minDate.isAfter(i,"y")&&g.minDate.year()<=t,s=g.maxDate&&g.maxDate.isAfter(i,"y")&&g.maxDate.year()<=t,l+='<span data-action="selectDecade" class="decade'+(M.isAfter(i)&&M.year()<=t?" active":"")+(h(i,"y")||o||s?"":" disabled")+'" data-selection="'+(i.year()+6)+'">'+(i.year()+1)+" - "+(i.year()+12)+"</span>",i.add(12,"y");l+="<span></span><span></span><span></span>",e.find("td").html(l),n.eq(1).text(a.year()+1+"-"+i.year())}()}}function l(){var t,e,n;V&&(s(),n=V.find(".timepicker span[data-time-component]"),E||(t=V.find(".timepicker [data-action=togglePeriod]"),e=M.clone().add(12<=M.hours()?-12:12,"h"),t.text(M.format("A")),h(e,"h")?t.removeClass("disabled"):t.addClass("disabled")),n.filter("[data-time-component=hours]").text(M.format(E?"HH":"hh")),n.filter("[data-time-component=minutes]").text(M.format("mm")),n.filter("[data-time-component=seconds]").text(M.format("ss")),function(){var t=V.find(".timepicker-hours table"),e=$.clone().startOf("d"),n=[],i=X("<tr>");for(11<$.hour()&&!E&&e.hour(12);e.isSame($,"d")&&(E||$.hour()<12&&e.hour()<12||11<$.hour());)e.hour()%4==0&&(i=X("<tr>"),n.push(i)),i.append('<td data-action="selectHour" class="hour'+(h(e,"h")?"":" disabled")+'">'+e.format(E?"HH":"hh")+"</td>"),e.add(1,"h");t.empty().append(n)}(),function(){for(var t=V.find(".timepicker-minutes table"),e=$.clone().startOf("h"),n=[],i=X("<tr>"),r=1===g.stepping?5:g.stepping;$.isSame(e,"h");)e.minute()%(4*r)==0&&(i=X("<tr>"),n.push(i)),i.append('<td data-action="selectMinute" class="minute'+(h(e,"m")?"":" disabled")+'">'+e.format("mm")+"</td>"),e.add(r,"m");t.empty().append(n)}(),function(){for(var t=V.find(".timepicker-seconds table"),e=$.clone().startOf("m"),n=[],i=X("<tr>");$.isSame(e,"m");)e.second()%20==0&&(i=X("<tr>"),n.push(i)),i.append('<td data-action="selectSecond" class="second'+(h(e,"s")?"":" disabled")+'">'+e.format("ss")+"</td>"),e.add(5,"s");t.empty().append(n)}())}function u(t){var e=L?null:M;if(!t)return L=!0,O.val(""),a.data("date",""),d({type:"dp.change",date:!1,oldDate:e}),void l();if(t=t.clone().locale(g.locale),n()&&t.tz(g.timeZone),1!==g.stepping)for(t.minutes(Math.round(t.minutes()/g.stepping)*g.stepping).seconds(0);g.minDate&&t.isBefore(g.minDate);)t.add(g.stepping,"minutes");h(t)?($=(M=t).clone(),O.val(M.format(P)),a.data("date",M.format(P)),L=!1,l(),d({type:"dp.change",date:M.clone(),oldDate:e})):(g.keepInvalid?d({type:"dp.change",date:t,oldDate:e}):O.val(L?"":M.format(P)),d({type:"dp.error",date:t,oldDate:e}))}function f(){var e=!1;return V&&(V.find(".collapse").each(function(){var t=X(this).data("collapse");return!t||!t.transitioning||!(e=!0)}),e||(N&&N.hasClass("btn")&&N.toggleClass("active"),V.hide(),X(window).off("resize",i),V.off("click","[data-action]"),V.off("mousedown",!1),V.remove(),V=!1,d({type:"dp.hide",date:M.clone()}),O.blur(),$=M.clone())),j}function t(){u(null)}function p(t){return void 0===g.parseInputDate?(!K.isMoment(t)||t instanceof Date)&&(t=c(t)):t=g.parseInputDate(t),t}function b(t){return X(t.currentTarget).is(".disabled")||Z[X(t.currentTarget).data("action")].apply(j,arguments),!1}function _(){var t;return O.prop("disabled")||!g.ignoreReadonly&&O.prop("readonly")||V||(void 0!==O.val()&&0!==O.val().trim().length?u(p(O.val().trim())):L&&g.useCurrent&&(g.inline||O.is("input")&&0===O.val().trim().length)&&(t=c(),"string"==typeof g.useCurrent&&(t={year:function(t){return t.month(0).date(1).hours(0).seconds(0).minutes(0)},month:function(t){return t.date(1).hours(0).seconds(0).minutes(0)},day:function(t){return t.hours(0).seconds(0).minutes(0)},hour:function(t){return t.seconds(0).minutes(0)},minute:function(t){return t.seconds(0)}}[g.useCurrent](t)),u(t)),V=e(),function(){var t=X("<tr>"),e=$.clone().startOf("w").startOf("d");for(!0===g.calendarWeeks&&t.append(X("<th>").addClass("cw").text("#"));e.isBefore($.clone().endOf("w"));)t.append(X("<th>").addClass("dow").text(e.format("dd"))),e.add(1,"d");V.find(".datepicker-days thead").append(t)}(),function(){for(var t=[],e=$.clone().startOf("y").startOf("d");e.isSame($,"y");)t.push(X("<span>").attr("data-action","selectMonth").addClass("month").text(e.format("MMM"))),e.add(1,"M");V.find(".datepicker-months td").empty().append(t)}(),V.find(".timepicker-hours").hide(),V.find(".timepicker-minutes").hide(),V.find(".timepicker-seconds").hide(),l(),o(),X(window).on("resize",i),V.on("click","[data-action]",b),V.on("mousedown",!1),N&&N.hasClass("btn")&&N.toggleClass("active"),i(),V.show(),g.focusOnShow&&!O.is(":focus")&&O.focus(),d({type:"dp.show"})),j}function w(){return(V?f:_)()}function x(t){var e,n,i,r,a=null,o=[],s={},l=t.which;for(e in G[l]="p",G)G.hasOwnProperty(e)&&"p"===G[e]&&(o.push(e),parseInt(e,10)!==l&&(s[e]=!0));for(e in g.keyBinds)if(g.keyBinds.hasOwnProperty(e)&&"function"==typeof g.keyBinds[e]&&(i=e.split(" ")).length===o.length&&q[l]===i[i.length-1]){for(r=!0,n=i.length-2;0<=n;n--)if(!(q[i[n]]in s)){r=!1;break}if(r){a=g.keyBinds[e];break}}a&&(a.call(j,V),t.stopPropagation(),t.preventDefault())}function k(t){G[t.which]="r",t.stopPropagation(),t.preventDefault()}function C(t){var e=X(t.target).val().trim();return u(e?p(e):null),t.stopImmediatePropagation(),!1}function S(t){var e={};return X.each(t,function(){var t=p(this);t.isValid()&&(e[t.format("YYYY-MM-DD")]=!0)}),!!Object.keys(e).length&&e}function D(t){var e={};return X.each(t,function(){e[this]=!0}),!!Object.keys(e).length&&e}function T(){var t=g.format||"L LT";P=t.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(t){return(M.localeData().longDateFormat(t)||t).replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(t){return M.localeData().longDateFormat(t)||t})}),(A=g.extraFormats?g.extraFormats.slice():[]).indexOf(t)<0&&A.indexOf(P)<0&&A.push(P),E=P.toLowerCase().indexOf("a")<1&&P.replace(/\[.*?\]/g,"").indexOf("h")<1,m("y")&&(H=2),m("M")&&(H=1),m("d")&&(H=0),R=Math.max(H,R),L||u(M)}var M,$,O,E,P,A,R,I,F,j={},L=!0,N=!1,V=!1,H=0,B=[{clsName:"days",navFnc:"M",navStep:1},{clsName:"months",navFnc:"y",navStep:1},{clsName:"years",navFnc:"y",navStep:10},{clsName:"decades",navFnc:"y",navStep:100}],Y=["days","months","years","decades"],U=["top","bottom","auto"],z=["left","right","auto"],W=["default","top","bottom"],q={up:38,38:"up",down:40,40:"down",left:37,37:"left",right:39,39:"right",tab:9,9:"tab",escape:27,27:"escape",enter:13,13:"enter",pageUp:33,33:"pageUp",pageDown:34,34:"pageDown",shift:16,16:"shift",control:17,17:"control",space:32,32:"space",t:84,84:"t",delete:46,46:"delete"},G={},Z={next:function(){var t=B[R].navFnc;$.add(B[R].navStep,t),s(),r(t)},previous:function(){var t=B[R].navFnc;$.subtract(B[R].navStep,t),s(),r(t)},pickerSwitch:function(){o(1)},selectMonth:function(t){var e=X(t.target).closest("tbody").find("span").index(X(t.target));$.month(e),R===H?(u(M.clone().year($.year()).month($.month())),g.inline||f()):(o(-1),s()),r("M")},selectYear:function(t){var e=parseInt(X(t.target).text(),10)||0;$.year(e),R===H?(u(M.clone().year($.year())),g.inline||f()):(o(-1),s()),r("YYYY")},selectDecade:function(t){var e=parseInt(X(t.target).data("selection"),10)||0;$.year(e),R===H?(u(M.clone().year($.year())),g.inline||f()):(o(-1),s()),r("YYYY")},selectDay:function(t){var e=$.clone();X(t.target).is(".old")&&e.subtract(1,"M"),X(t.target).is(".new")&&e.add(1,"M"),u(e.date(parseInt(X(t.target).text(),10))),v()||g.keepOpen||g.inline||f()},incrementHours:function(){var t=M.clone().add(1,"h");h(t,"h")&&u(t)},incrementMinutes:function(){var t=M.clone().add(g.stepping,"m");h(t,"m")&&u(t)},incrementSeconds:function(){var t=M.clone().add(1,"s");h(t,"s")&&u(t)},decrementHours:function(){var t=M.clone().subtract(1,"h");h(t,"h")&&u(t)},decrementMinutes:function(){var t=M.clone().subtract(g.stepping,"m");h(t,"m")&&u(t)},decrementSeconds:function(){var t=M.clone().subtract(1,"s");h(t,"s")&&u(t)},togglePeriod:function(){u(M.clone().add(12<=M.hours()?-12:12,"h"))},togglePicker:function(t){var e,n=X(t.target),i=n.closest("ul"),r=i.find(".in"),a=i.find(".collapse:not(.in)");if(r&&r.length){if((e=r.data("collapse"))&&e.transitioning)return;r.collapse?(r.collapse("hide"),a.collapse("show")):(r.removeClass("in"),a.addClass("in")),n.is("span")?n.toggleClass(g.icons.time+" "+g.icons.date):n.find("span").toggleClass(g.icons.time+" "+g.icons.date)}},showPicker:function(){V.find(".timepicker > div:not(.timepicker-picker)").hide(),V.find(".timepicker .timepicker-picker").show()},showHours:function(){V.find(".timepicker .timepicker-picker").hide(),V.find(".timepicker .timepicker-hours").show()},showMinutes:function(){V.find(".timepicker .timepicker-picker").hide(),V.find(".timepicker .timepicker-minutes").show()},showSeconds:function(){V.find(".timepicker .timepicker-picker").hide(),V.find(".timepicker .timepicker-seconds").show()},selectHour:function(t){var e=parseInt(X(t.target).text(),10);E||(12<=M.hours()?12!==e&&(e+=12):12===e&&(e=0)),u(M.clone().hours(e)),Z.showPicker.call(j)},selectMinute:function(t){u(M.clone().minutes(parseInt(X(t.target).text(),10))),Z.showPicker.call(j)},selectSecond:function(t){u(M.clone().seconds(parseInt(X(t.target).text(),10))),Z.showPicker.call(j)},clear:t,today:function(){var t=c();h(t,"d")&&u(t)},close:f};if(j.destroy=function(){f(),O.off({change:C,blur:blur,keydown:x,keyup:k,focus:g.allowInputToggle?f:""}),a.is("input")?O.off({focus:_}):N&&(N.off("click",w),N.off("mousedown",!1)),a.removeData("DateTimePicker"),a.removeData("date")},j.toggle=w,j.show=_,j.hide=f,j.disable=function(){return f(),N&&N.hasClass("btn")&&N.addClass("disabled"),O.prop("disabled",!0),j},j.enable=function(){return N&&N.hasClass("btn")&&N.removeClass("disabled"),O.prop("disabled",!1),j},j.ignoreReadonly=function(t){if(0===arguments.length)return g.ignoreReadonly;if("boolean"!=typeof t)throw new TypeError("ignoreReadonly () expects a boolean parameter");return g.ignoreReadonly=t,j},j.options=function(t){if(0===arguments.length)return X.extend(!0,{},g);if(!(t instanceof Object))throw new TypeError("options() options parameter should be an object");return X.extend(!0,g,t),X.each(g,function(t,e){if(void 0===j[t])throw new TypeError("option "+t+" is not recognized!");j[t](e)}),j},j.date=function(t){if(0===arguments.length)return L?null:M.clone();if(!(null===t||"string"==typeof t||K.isMoment(t)||t instanceof Date))throw new TypeError("date() parameter must be one of [null, string, moment or Date]");return u(null===t?null:p(t)),j},j.format=function(t){if(0===arguments.length)return g.format;if("string"!=typeof t&&("boolean"!=typeof t||!1!==t))throw new TypeError("format() expects a string or boolean:false parameter "+t);return g.format=t,P&&T(),j},j.timeZone=function(t){if(0===arguments.length)return g.timeZone;if("string"!=typeof t)throw new TypeError("newZone() expects a string parameter");return g.timeZone=t,j},j.dayViewHeaderFormat=function(t){if(0===arguments.length)return g.dayViewHeaderFormat;if("string"!=typeof t)throw new TypeError("dayViewHeaderFormat() expects a string parameter");return g.dayViewHeaderFormat=t,j},j.extraFormats=function(t){if(0===arguments.length)return g.extraFormats;if(!1!==t&&!(t instanceof Array))throw new TypeError("extraFormats() expects an array or false parameter");return g.extraFormats=t,A&&T(),j},j.disabledDates=function(t){if(0===arguments.length)return g.disabledDates?X.extend({},g.disabledDates):g.disabledDates;if(!t)return g.disabledDates=!1,l(),j;if(!(t instanceof Array))throw new TypeError("disabledDates() expects an array parameter");return g.disabledDates=S(t),g.enabledDates=!1,l(),j},j.enabledDates=function(t){if(0===arguments.length)return g.enabledDates?X.extend({},g.enabledDates):g.enabledDates;if(!t)return g.enabledDates=!1,l(),j;if(!(t instanceof Array))throw new TypeError("enabledDates() expects an array parameter");return g.enabledDates=S(t),g.disabledDates=!1,l(),j},j.daysOfWeekDisabled=function(t){if(0===arguments.length)return g.daysOfWeekDisabled.splice(0);if("boolean"==typeof t&&!t)return g.daysOfWeekDisabled=!1,l(),j;if(!(t instanceof Array))throw new TypeError("daysOfWeekDisabled() expects an array parameter");if(g.daysOfWeekDisabled=t.reduce(function(t,e){return 6<(e=parseInt(e,10))||e<0||isNaN(e)||-1===t.indexOf(e)&&t.push(e),t},[]).sort(),g.useCurrent&&!g.keepInvalid){for(var e=0;!h(M,"d");){if(M.add(1,"d"),31===e)throw"Tried 31 times to find a valid date";e++}u(M)}return l(),j},j.maxDate=function(t){if(0===arguments.length)return g.maxDate?g.maxDate.clone():g.maxDate;if("boolean"==typeof t&&!1===t)return g.maxDate=!1,l(),j;"string"==typeof t&&("now"!==t&&"moment"!==t||(t=c()));var e=p(t);if(!e.isValid())throw new TypeError("maxDate() Could not parse date parameter: "+t);if(g.minDate&&e.isBefore(g.minDate))throw new TypeError("maxDate() date parameter is before options.minDate: "+e.format(P));return g.maxDate=e,g.useCurrent&&!g.keepInvalid&&M.isAfter(t)&&u(g.maxDate),$.isAfter(e)&&($=e.clone().subtract(g.stepping,"m")),l(),j},j.minDate=function(t){if(0===arguments.length)return g.minDate?g.minDate.clone():g.minDate;if("boolean"==typeof t&&!1===t)return g.minDate=!1,l(),j;"string"==typeof t&&("now"!==t&&"moment"!==t||(t=c()));var e=p(t);if(!e.isValid())throw new TypeError("minDate() Could not parse date parameter: "+t);if(g.maxDate&&e.isAfter(g.maxDate))throw new TypeError("minDate() date parameter is after options.maxDate: "+e.format(P));return g.minDate=e,g.useCurrent&&!g.keepInvalid&&M.isBefore(t)&&u(g.minDate),$.isBefore(e)&&($=e.clone().add(g.stepping,"m")),l(),j},j.defaultDate=function(t){if(0===arguments.length)return g.defaultDate?g.defaultDate.clone():g.defaultDate;if(!t)return g.defaultDate=!1,j;"string"==typeof t&&(t="now"===t||"moment"===t?c():c(t));var e=p(t);if(!e.isValid())throw new TypeError("defaultDate() Could not parse date parameter: "+t);if(!h(e))throw new TypeError("defaultDate() date passed is invalid according to component setup validations");return g.defaultDate=e,(g.defaultDate&&g.inline||""===O.val().trim())&&u(g.defaultDate),j},j.locale=function(t){if(0===arguments.length)return g.locale;if(!K.localeData(t))throw new TypeError("locale() locale "+t+" is not loaded from moment locales!");return g.locale=t,M.locale(g.locale),$.locale(g.locale),P&&T(),V&&(f(),_()),j},j.stepping=function(t){return 0===arguments.length?g.stepping:(t=parseInt(t,10),(isNaN(t)||t<1)&&(t=1),g.stepping=t,j)},j.useCurrent=function(t){var e=["year","month","day","hour","minute"];if(0===arguments.length)return g.useCurrent;if("boolean"!=typeof t&&"string"!=typeof t)throw new TypeError("useCurrent() expects a boolean or string parameter");if("string"==typeof t&&-1===e.indexOf(t.toLowerCase()))throw new TypeError("useCurrent() expects a string parameter of "+e.join(", "));return g.useCurrent=t,j},j.collapse=function(t){if(0===arguments.length)return g.collapse;if("boolean"!=typeof t)throw new TypeError("collapse() expects a boolean parameter");return g.collapse===t||(g.collapse=t,V&&(f(),_())),j},j.icons=function(t){if(0===arguments.length)return X.extend({},g.icons);if(!(t instanceof Object))throw new TypeError("icons() expects parameter to be an Object");return X.extend(g.icons,t),V&&(f(),_()),j},j.tooltips=function(t){if(0===arguments.length)return X.extend({},g.tooltips);if(!(t instanceof Object))throw new TypeError("tooltips() expects parameter to be an Object");return X.extend(g.tooltips,t),V&&(f(),_()),j},j.useStrict=function(t){if(0===arguments.length)return g.useStrict;if("boolean"!=typeof t)throw new TypeError("useStrict() expects a boolean parameter");return g.useStrict=t,j},j.sideBySide=function(t){if(0===arguments.length)return g.sideBySide;if("boolean"!=typeof t)throw new TypeError("sideBySide() expects a boolean parameter");return g.sideBySide=t,V&&(f(),_()),j},j.viewMode=function(t){if(0===arguments.length)return g.viewMode;if("string"!=typeof t)throw new TypeError("viewMode() expects a string parameter");if(-1===Y.indexOf(t))throw new TypeError("viewMode() parameter must be one of ("+Y.join(", ")+") value");return g.viewMode=t,R=Math.max(Y.indexOf(t),H),o(),j},j.toolbarPlacement=function(t){if(0===arguments.length)return g.toolbarPlacement;if("string"!=typeof t)throw new TypeError("toolbarPlacement() expects a string parameter");if(-1===W.indexOf(t))throw new TypeError("toolbarPlacement() parameter must be one of ("+W.join(", ")+") value");return g.toolbarPlacement=t,V&&(f(),_()),j},j.widgetPositioning=function(t){if(0===arguments.length)return X.extend({},g.widgetPositioning);if("[object Object]"!=={}.toString.call(t))throw new TypeError("widgetPositioning() expects an object variable");if(t.horizontal){if("string"!=typeof t.horizontal)throw new TypeError("widgetPositioning() horizontal variable must be a string");if(t.horizontal=t.horizontal.toLowerCase(),-1===z.indexOf(t.horizontal))throw new TypeError("widgetPositioning() expects horizontal parameter to be one of ("+z.join(", ")+")");g.widgetPositioning.horizontal=t.horizontal}if(t.vertical){if("string"!=typeof t.vertical)throw new TypeError("widgetPositioning() vertical variable must be a string");if(t.vertical=t.vertical.toLowerCase(),-1===U.indexOf(t.vertical))throw new TypeError("widgetPositioning() expects vertical parameter to be one of ("+U.join(", ")+")");g.widgetPositioning.vertical=t.vertical}return l(),j},j.calendarWeeks=function(t){if(0===arguments.length)return g.calendarWeeks;if("boolean"!=typeof t)throw new TypeError("calendarWeeks() expects parameter to be a boolean value");return g.calendarWeeks=t,l(),j},j.showTodayButton=function(t){if(0===arguments.length)return g.showTodayButton;if("boolean"!=typeof t)throw new TypeError("showTodayButton() expects a boolean parameter");return g.showTodayButton=t,V&&(f(),_()),j},j.showClear=function(t){if(0===arguments.length)return g.showClear;if("boolean"!=typeof t)throw new TypeError("showClear() expects a boolean parameter");return g.showClear=t,V&&(f(),_()),j},j.widgetParent=function(t){if(0===arguments.length)return g.widgetParent;if("string"==typeof t&&(t=X(t)),null!==t&&"string"!=typeof t&&!(t instanceof X))throw new TypeError("widgetParent() expects a string or a jQuery object parameter");return g.widgetParent=t,V&&(f(),_()),j},j.keepOpen=function(t){if(0===arguments.length)return g.keepOpen;if("boolean"!=typeof t)throw new TypeError("keepOpen() expects a boolean parameter");return g.keepOpen=t,j},j.focusOnShow=function(t){if(0===arguments.length)return g.focusOnShow;if("boolean"!=typeof t)throw new TypeError("focusOnShow() expects a boolean parameter");return g.focusOnShow=t,j},j.inline=function(t){if(0===arguments.length)return g.inline;if("boolean"!=typeof t)throw new TypeError("inline() expects a boolean parameter");return g.inline=t,j},j.clear=function(){return t(),j},j.keyBinds=function(t){return 0===arguments.length?g.keyBinds:(g.keyBinds=t,j)},j.getMoment=function(t){return c(t)},j.debug=function(t){if("boolean"!=typeof t)throw new TypeError("debug() expects a boolean parameter");return g.debug=t,j},j.allowInputToggle=function(t){if(0===arguments.length)return g.allowInputToggle;if("boolean"!=typeof t)throw new TypeError("allowInputToggle() expects a boolean parameter");return g.allowInputToggle=t,j},j.showClose=function(t){if(0===arguments.length)return g.showClose;if("boolean"!=typeof t)throw new TypeError("showClose() expects a boolean parameter");return g.showClose=t,j},j.keepInvalid=function(t){if(0===arguments.length)return g.keepInvalid;if("boolean"!=typeof t)throw new TypeError("keepInvalid() expects a boolean parameter");return g.keepInvalid=t,j},j.datepickerInput=function(t){if(0===arguments.length)return g.datepickerInput;if("string"!=typeof t)throw new TypeError("datepickerInput() expects a string parameter");return g.datepickerInput=t,j},j.parseInputDate=function(t){if(0===arguments.length)return g.parseInputDate;if("function"!=typeof t)throw new TypeError("parseInputDate() sholud be as function");return g.parseInputDate=t,j},j.disabledTimeIntervals=function(t){if(0===arguments.length)return g.disabledTimeIntervals?X.extend({},g.disabledTimeIntervals):g.disabledTimeIntervals;if(!t)return g.disabledTimeIntervals=!1,l(),j;if(!(t instanceof Array))throw new TypeError("disabledTimeIntervals() expects an array parameter");return g.disabledTimeIntervals=t,l(),j},j.disabledHours=function(t){if(0===arguments.length)return g.disabledHours?X.extend({},g.disabledHours):g.disabledHours;if(!t)return g.disabledHours=!1,l(),j;if(!(t instanceof Array))throw new TypeError("disabledHours() expects an array parameter");if(g.disabledHours=D(t),g.enabledHours=!1,g.useCurrent&&!g.keepInvalid){for(var e=0;!h(M,"h");){if(M.add(1,"h"),24===e)throw"Tried 24 times to find a valid date";e++}u(M)}return l(),j},j.enabledHours=function(t){if(0===arguments.length)return g.enabledHours?X.extend({},g.enabledHours):g.enabledHours;if(!t)return g.enabledHours=!1,l(),j;if(!(t instanceof Array))throw new TypeError("enabledHours() expects an array parameter");if(g.enabledHours=D(t),g.disabledHours=!1,g.useCurrent&&!g.keepInvalid){for(var e=0;!h(M,"h");){if(M.add(1,"h"),24===e)throw"Tried 24 times to find a valid date";e++}u(M)}return l(),j},j.viewDate=function(t){if(0===arguments.length)return $.clone();if(!t)return $=M.clone(),j;if(!("string"==typeof t||K.isMoment(t)||t instanceof Date))throw new TypeError("viewDate() parameter must be one of [string, moment or Date]");return $=p(t),r(),j},a.is("input"))O=a;else if(0===(O=a.find(g.datepickerInput)).length)O=a.find("input");else if(!O.is("input"))throw new Error('CSS class "'+g.datepickerInput+'" cannot be applied to non input element');if(a.hasClass("input-group")&&(N=0===a.find(".datepickerbutton").length?a.find(".input-group-addon"):a.find(".datepickerbutton")),!g.inline&&!O.is("input"))throw new Error("Could not initialize DateTimePicker without an input element");return M=c(),$=M.clone(),X.extend(!0,g,(F={},(I=a.is("input")||g.inline?a.data():a.find("input").data()).dateOptions&&I.dateOptions instanceof Object&&(F=X.extend(!0,F,I.dateOptions)),X.each(g,function(t){var e="date"+t.charAt(0).toUpperCase()+t.slice(1);void 0!==I[e]&&(F[t]=I[e])}),F)),j.options(g),T(),O.on({change:C,blur:g.debug?"":f,keydown:x,keyup:k,focus:g.allowInputToggle?_:""}),a.is("input")?O.on({focus:_}):N&&(N.on("click",w),N.on("mousedown",!1)),O.prop("disabled")&&j.disable(),O.is("input")&&0!==O.val().trim().length?u(p(O.val().trim())):g.defaultDate&&void 0===O.attr("placeholder")&&u(g.defaultDate),g.inline&&_(),j}return X.fn.datetimepicker=function(n){n=n||{};var e,i=Array.prototype.slice.call(arguments,1),r=!0;if("object"==typeof n)return this.each(function(){var t,e=X(this);e.data("DateTimePicker")||(t=X.extend(!0,{},X.fn.datetimepicker.defaults,n),e.data("DateTimePicker",a(e,t)))});if("string"==typeof n)return this.each(function(){var t=X(this).data("DateTimePicker");if(!t)throw new Error('bootstrap-datetimepicker("'+n+'") method was called on an element that is not using DateTimePicker');e=t[n].apply(t,i),r=e===t}),r||-1<X.inArray(n,["destroy","hide","show","toggle"])?this:e;throw new TypeError("Invalid arguments for DateTimePicker: "+n)},X.fn.datetimepicker.defaults={timeZone:"",format:!1,dayViewHeaderFormat:"MMMM YYYY",extraFormats:!1,stepping:1,minDate:!1,maxDate:!1,useCurrent:!0,collapse:!0,locale:K.locale(),defaultDate:!1,disabledDates:!1,enabledDates:!1,icons:{time:"glyphicon glyphicon-time",date:"glyphicon glyphicon-calendar",up:"glyphicon glyphicon-chevron-up",down:"glyphicon glyphicon-chevron-down",previous:"glyphicon glyphicon-chevron-left",next:"glyphicon glyphicon-chevron-right",today:"glyphicon glyphicon-screenshot",clear:"glyphicon glyphicon-trash",close:"glyphicon glyphicon-remove"},tooltips:{today:"Go to today",clear:"Clear selection",close:"Close the picker",selectMonth:"Select Month",prevMonth:"Previous Month",nextMonth:"Next Month",selectYear:"Select Year",prevYear:"Previous Year",nextYear:"Next Year",selectDecade:"Select Decade",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevCentury:"Previous Century",nextCentury:"Next Century",pickHour:"Pick Hour",incrementHour:"Increment Hour",decrementHour:"Decrement Hour",pickMinute:"Pick Minute",incrementMinute:"Increment Minute",decrementMinute:"Decrement Minute",pickSecond:"Pick Second",incrementSecond:"Increment Second",decrementSecond:"Decrement Second",togglePeriod:"Toggle Period",selectTime:"Select Time"},useStrict:!1,sideBySide:!1,daysOfWeekDisabled:!1,calendarWeeks:!1,viewMode:"days",toolbarPlacement:"default",showTodayButton:!1,showClear:!1,showClose:!1,widgetPositioning:{horizontal:"auto",vertical:"auto"},widgetParent:null,ignoreReadonly:!1,keepOpen:!1,focusOnShow:!0,inline:!1,keepInvalid:!1,datepickerInput:".datepickerinput",keyBinds:{up:function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")?this.date(e.clone().subtract(7,"d")):this.date(e.clone().add(this.stepping(),"m"))}},down:function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")?this.date(e.clone().add(7,"d")):this.date(e.clone().subtract(this.stepping(),"m"))}else this.show()},"control up":function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")?this.date(e.clone().subtract(1,"y")):this.date(e.clone().add(1,"h"))}},"control down":function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")?this.date(e.clone().add(1,"y")):this.date(e.clone().subtract(1,"h"))}},left:function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")&&this.date(e.clone().subtract(1,"d"))}},right:function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")&&this.date(e.clone().add(1,"d"))}},pageUp:function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")&&this.date(e.clone().subtract(1,"M"))}},pageDown:function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")&&this.date(e.clone().add(1,"M"))}},enter:function(){this.hide()},escape:function(){this.hide()},"control space":function(t){t&&t.find(".timepicker").is(":visible")&&t.find('.btn[data-action="togglePeriod"]').click()},t:function(){this.date(this.getMoment())},delete:function(){this.clear()}},debug:!1,allowInputToggle:!1,disabledTimeIntervals:!1,disabledHours:!1,enabledHours:!1,viewDate:!1},X.fn.datetimepicker}),angular.module("videosharing-embed",[]),angular.module("videosharing-embed").service("PlayerConfig",function(){"use strict";this.createInstance=function(t){return new function(t){this.type=t.type,this.playerRegExp=t.playerRegExp,this.timeRegExp=t.timeRegExp,this.whitelist=t.whitelist,this.playerID=t.playerID,this.settings=t.settings,this.transformAttrMap=t.transformAttrMap,this.processSettings=t.processSettings,this.isPlayerFromURL=function(t){return null!=t.match(this.playerRegExp)},this.buildSrcURL=t.buildSrcURL,this.isAdditionaResRequired=t.isAdditionaResRequired,this.additionalRes=t.additionalRes}(t)}}),angular.module("videosharing-embed").factory("RegisteredPlayers",["PlayerConfig","$filter","$window",function(e,i,t){"use strict";var n={youtube:{type:"youtube",settings:{autoplay:0,controls:1,loop:0},whitelist:["autohide","cc_load_policy","color","disablekb","enablejsapi","autoplay","controls","loop","playlist","rel","wmode","start","showinfo","end","fs","hl","iv_load_policy","list","listType","modestbranding","origin","playerapiid","playsinline","theme"],transformAttrMap:{},processSettings:function(t,e){return 1==t.loop&&null==t.playlist&&(t.playlist=e),t},buildSrcURL:function(t,e){return t+this.playerID+e+i("videoSettings")(this.processSettings(this.settings))},playerID:"www.youtube.com/embed/",playerRegExp:/([a-z\:\/]*\/\/)(?:www\.)?(?:youtube(?:-nocookie)?\.com\/(?:[^\/\n\s]+\/\S+\/|(?:v|e(?:mbed)?)\/|\S*?[?&]v=)|youtu\.be\/)([a-zA-Z0-9_-]{11})/,timeRegExp:/t=(([0-9]+)h)?(([0-9]{1,2})m)?(([0-9]+)s?)?/,isAdditionaResRequired:function(){return!1},additionalRes:[]},vimeo:{type:"vimeo",settings:{autoplay:0,loop:0,api:0,player_id:""},whitelist:["autoplay","autopause","badge","byline","color","portrait","loop","api","playerId","title"],transformAttrMap:{playerId:"player_id"},processSettings:function(t,e){return t},buildSrcURL:function(t,e){return t+this.playerID+e+i("videoSettings")(this.processSettings(this.settings))},playerID:"player.vimeo.com/video/",playerRegExp:/([a-z\:\/]*\/\/)(?:www\.)?vimeo\.com\/(?:channels\/[A-Za-z0-9]+\/)?([A-Za-z0-9]+)/,timeRegExp:"",isAdditionaResRequired:function(){return!1},additionalRes:[]},dailymotion:{type:"dailymotion",settings:{autoPlay:0,logo:0},whitelist:["api","autoplay","background","chromeless","controls","foreground","highlight","html","id","info","logo","network","quality","related","startscreen","webkit-playsinline","syndication"],transformAttrMap:{},processSettings:function(t,e){return t},buildSrcURL:function(t,e){return t+this.playerID+e+i("videoSettings")(this.processSettings(this.settings))},playerID:"www.dailymotion.com/embed/video/",playerRegExp:/([a-z\:\/]*\/\/)(?:www\.)?www\.dailymotion\.com\/video\/([A-Za-z0-9]+)/,timeRegExp:/start=([0-9]+)/,isAdditionaResRequired:function(){return!1},additionalRes:[]},youku:{type:"youku",settings:{},whitelist:[],transformAttrMap:{},processSettings:function(t,e){return t},buildSrcURL:function(t,e){return t+this.playerID+e+i("videoSettings")(this.processSettings(this.settings))},playerID:"player.youku.com/embed/",playerRegExp:/([a-z\:\/]*\/\/)(?:www\.)?youku\.com\/v_show\/id_([A-Za-z0-9]+).html/,timeRegExp:"",isAdditionaResRequired:function(){return!1},additionalRes:[]},vine:{type:"vine",settings:{audio:0,start:0,type:"simple"},whitelist:["audio","start","type"],transformAttrMap:{},processSettings:function(t,e){return t},buildSrcURL:function(t,e){var n=this.settings.type;return t+this.playerID+e+/embed/+n+i("videoSettings")(this.processSettings(this.settings))},playerID:"vine.co/v/",playerRegExp:/([a-z\:\/]*\/\/)(?:www\.)?vine\.co\/v\/([A-Za-z0-9]+)/,timeRegExp:"",isAdditionaResRequired:function(){return!t.VINE_EMBEDS},additionalRes:[{id:"ng-video-embed-vine-res-1",element:'<script id="ng-video-embed-vine-res-1" src="//platform.vine.co/static/scripts/embed.js"><\/script>'}]}},r=[];return angular.forEach(n,function(t){r.push(e.createInstance(t))}),r}]),angular.module("videosharing-embed").filter("whitelist",function(){"use strict";return function(t,n){var i={};return angular.forEach(t,function(t,e){-1!=n.indexOf(e)&&(i[e]=t)}),i}}),angular.module("videosharing-embed").filter("videoSettings",function(){"use strict";return function(t){var n=[];return angular.forEach(t,function(t,e){n.push([e,t].join("="))}),0<n.length?"?"+n.join("&"):""}}),angular.module("videosharing-embed").directive("embedVideo",["$filter","RegisteredPlayers","$sce","$window",function(f,p,g,m){"use strict";return{restrict:"E",template:'<iframe width="{{width}}" height="{{height}}" data-ng-src="{{trustedVideoSrc}}" frameborder="0"></iframe>',scope:{allowfullscreen:"@",height:"@",width:"@",onChange:"&"},link:function(u,t,c){var e=t.find("iframe"),d=void 0,h=angular.isString(c.forceProtocol)?c.forceProtocol+"://":void 0;u.allowfullscreen=void 0===u.allowfullscreen||"true"===u.allowfullscreen,u.allowfullscreen?e.attr("allowfullscreen",""):e.removeAttr("allowfullscreen"),c.$observe("width",function(t){u.width=t}),c.$observe("height",function(t){u.height=t}),c.$observe("iframeId",function(t){return t?void e.attr("id",t):void e.removeAttr("id")}),c.$observe("href",function(e){if(void 0!==e&&e!==d){d=e;var i=null;if(angular.forEach(p,function(t){t.isPlayerFromURL(e)&&(i=t)}),null===i)return void u.onChange();var t=e.match(i.playerRegExp);h=h||t[1];var n=t[2],r=e.match(i.timeRegExp);if(i.config,angular.forEach(f("whitelist")(c,i.whitelist),function(t,e){var n=null!=i.transformAttrMap[e]?i.transformAttrMap[e]:e;i.settings[n]=t}),i.settings.start=0,r)switch(i.type){case"youtube":i.settings.start+=60*parseInt(r[2]||"0")*60,i.settings.start+=60*parseInt(r[4]||"0"),i.settings.start+=parseInt(r[6]||"0");break;case"dailymotion":i.settings.start+=parseInt(r[1]||"0")}if(i.isAdditionaResRequired())for(var a=angular.element(m.document.querySelector("body")),o=0;o<i.additionalRes.length;o++){var s=i.additionalRes[o];null==m.document.querySelector("#"+s.id)&&a.append(s.element)}u.onChange({videoId:n,provider:i.type});var l=i.buildSrcURL(h,n);u.trustedVideoSrc=g.trustAsResourceUrl(l)}})}}}]),function(){var t=angular.module("rmDatepicker",[]);t.constant("rmDatepickerConfig",{mondayStart:!1,textToday:"Today",initState:"month",maxState:"decade",minState:"month",toggleState:!0,decadeSize:12,monthSize:42,min:null,max:null,format:"yyyy-MM-dd"}),t.directive("rmDatepicker",["rmDatepickerConfig","$compile","$filter","$document","$timeout",function(m,v,y,b,_){var w='<div class="rm-datepicker" ng-class="{mondayStart: mondayStart}"><div class="nav"><a><i class="mi_arrow_back"></i></a><a class="back waves-effect" ng-click="toggleState(-1)" rm-include="activeDateTpl[state]"></a><a class="adjacent waves-effect" ng-click="prev()"><i class="mi_keyboard_arrow_up"></i></a><a class="adjacent waves-effect" ng-click="next()"><i class="mi_keyboard_arrow_down"></i></a><a class="today waves-effect" ng-click="now()">{{textToday}}</a></div><div class="body" ng-include="\'rm-\' + state + \'.html\'"></div></div><script type="text/ng-template" id="rm-decade.html"><div class="ng-class: state; square date"><div ng-repeat="oDate in aDates" ng-class="{j: isActive[\'year\'](oDate), off: isOff(oDate)}"><a ng-click="go(oDate)" class="waves-effect"><span>{{oDate | date: \'yyyy\'}}</span></a></div></div><\/script><script type="text/ng-template" id="rm-year.html"><div class="ng-class: state; square date"><div ng-repeat="oDate in aDates" ng-class="{j: isActive[\'month\'](oDate), off: isOff(oDate)}"><a ng-click="go(oDate)" class="waves-effect"><span>{{oDate | date: \'MMM\'}}</span></a></div></div><\/script><script type="text/ng-template" id="rm-month.html"><div class="day sunSat" ng-if="state == \'month\'"><a ng-repeat="oDate in aDates | limitTo:7">{{oDate | date: \'EEE\'}}</a></div><div class="ng-class: state; square date"><div ng-repeat="oDate in aDates" ng-class="{j: isActive[\'date\'](oDate), off: isOff(oDate), out: !isActive[\'month\'](oDate)}"><a ng-click="go(oDate)" class="waves-effect"><span>{{oDate.getDate()}}</span></a></div></div><\/script>';return{require:"ngModel",scope:{outsideModel:"=ngModel",rmConfig:"=rmConfig"},link:function(o,e,t,n){var l=angular.copy(m);if(o.rmConfig)for(var i in l)l.hasOwnProperty(i)&&null!=o.rmConfig[i]&&(l[i]=o.rmConfig[i]);l.min&&l.min.setHours(0,0,0,0),l.max&&l.max.setHours(23,59,59,999);var r="INPUT"==e[0].tagName.toUpperCase(),a={min:!1,max:!1},u=function(t,e){return new Date(t,e+1,0).getDate()},s=function(t){if(t=parseInt(t,10),!isNaN(t)){var e=u(o.j.getFullYear(),o.j.getMonth());t<1&&(t=1),e<t&&(t=e),o.j.setDate(t)}},c={decade:function(t){var e,n=t.getFullYear(),i=t.getMonth(),r=t.getDate(),a=0,o=l.decadeSize||12,s=new Array(o);for(n=Math.floor(n/o)*o;a<o;n++,a++)(e=u(n,i))<r&&(r=e),s[a]=new Date(n,i,r,3,0,1,0);return s},year:function(t){for(var e,n=t.getFullYear(),i=0,r=t.getDate(),a=[];i<12;i++)(e=u(n,i))<r&&(r=e),a.push(new Date(n,i,r,3,0,1,0));return a},month:function(t){var e,n=t.getFullYear(),i=t.getMonth(),r=new Date(n,i,1,3,0,1,0),a=r.getDay()||7;return o.mondayStart&&(a=a-1||7),e="auto"==l.monthSize?a+u(n,i)<35?35:42:l.monthSize,r.setDate(1-a),c.dates(r,e)},dates:function(t,e){for(var n=new Array(e),i=new Date(t),r=0;r<e;)n[r++]=new Date(i),i.setDate(i.getDate()+1);return n}},d=function(t){if(t=t||o.state,o.aDates=c[t](o.j),l.min&&(a.min=o.aDates[0]<l.min),l.max){var e=o.aDates[o.aDates.length-1];a.max=e>l.max}},h=function(t,e){return"decade"==o.state?t.getFullYear()<e.getFullYear():"year"==o.state?t.getFullYear()==e.getFullYear()?t.getMonth()<e.getMonth():t.getFullYear()<e.getFullYear():t<e};o.isOff=function(t){return!(!l.min&&!l.max)&&(!(!l.min||!h(t,l.min))||!(!l.max||!h(l.max,t))||void 0)},o.isActive={year:function(t){return t.getFullYear()==o.j.getFullYear()},month:function(t){return t.getMonth()==o.j.getMonth()},date:function(t){return t.getDate()==o.j.getDate()}},o.isToday=function(t){return o.isActive.date(t)&&o.isActive.month(t)&&o.isActive.year(t)},o.go=function(t){if(!o.isOff(t)){r&&o.state==l.minState&&o.isActive.month(t)&&f(!1);var e=o.j.getMonth();o.j=new Date(t),o.outsideModel=o.j,_(function(){n.$setViewValue(o.j)}),l.toggleState&&o.toggleState(1),e!=o.j.getMonth()&&d()}},o.now=function(){o.j=new Date,d()},o.next=function(t){if(0<(t=t||1)){if(a.max)return}else if(a.min)return;var e=o.j.getFullYear(),n=o.j.getMonth(),i=o.j.getDate();switch(o.state){case"decade":t*=o.aDates.length;case"year":o.j.setFullYear(e+t,n,15),s(i);break;case"month":o.j.setMonth(n+t,15),s(i);break;case"week":o.j.setDate(i+7*t)}d()},o.prev=function(t){return o.next(-t||-1)},o.toggleState=function(t){t=t||1,o.state==l.maxState&&-1==t||o.state==l.minState&&1==t||(o.state=o.aStates[o.aStates.indexOf(o.state)+t],d())},o.mondayStart=l.mondayStart,o.textToday=l.textToday,o.aStates=["decade","year","month"],o.state=l.initState,o.activeDateTpl={decade:"{{aDates[0].getFullYear()}} - {{aDates[aDates.length-1].getFullYear()}}",year:"{{j.getFullYear()}}",month:"{{j | date: 'MMMM yyyy'}}",week:"{{ j | date: 'd MMMM yyyy' }}"},o.j=o.outsideModel&&o.outsideModel instanceof Date?o.outsideModel:new Date,d();var f=function(t){p.css("display",t?"block":"none"),g.css("display",t?"block":"none")};if(r){n.$parsers.push(function(t){var e=new Date(t);return isNaN(e.valueOf())||(o.j=e,d()),e}),n.$formatters.push(function(t){return y("date")(t,l.format)});var p=angular.element('<div class="rm-overlay" style="display:none"></div>');p.on("click",function(){f(!1)}),b.find("body").eq(0).append(p),p.after(v(w)(o));var g=p.next();g.css({display:"none"}),g.addClass("it-is-input"),e.on("click",function(){window.innerWidth<481&&e[0].blur();var t=function(t){var e=0,n=0;if(t.offsetParent)for(;e+=t.offsetLeft,n+=t.offsetTop,t=t.offsetParent;);return{top:n,left:e}}(e[0]);t.top+=e[0].offsetHeight+1,g.css({top:t.top+"px",left:t.left+"px",display:"block"}),f(!0),t=function(t,e){var n=window.scrollX,i=window.scrollY,r=window.innerWidth,a=window.innerHeight;if(window.innerWidth<481)return{top:i,left:0};var o=i+a-t.top-e.clientHeight,s=n+r-t.left-e.clientWidth;return o<0&&(t.top+=o),t.top<i&&(t.top=i),s<0&&(t.left+=s),t.left<0&&(t.left=0),t}(t,g[0]),g.css({top:t.top+"px",left:t.left+"px"})}),b.on("keydown",function(t){0<=[9,13,27].indexOf(t.keyCode)&&f(!1)})}else e.append(v(w)(o))}}}]),t.directive("rmInclude",["$compile",function(r){return{restrict:"A",link:function(e,n,i){e.$watch(function(t){return t.$eval(i.rmInclude)},function(t){n.html(t),r(n.contents())(e)})}}}])}(),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.async=t.async||{})}(this,function(t){"use strict";function p(t,e){e|=0;for(var n=Math.max(t.length-e,0),i=Array(n),r=0;r<n;r++)i[r]=t[e+r];return i}function r(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function e(t){setTimeout(t,0)}function n(n){return function(t){var e=p(arguments,1);n(function(){t.apply(null,e)})}}function i(i){return At(function(t,e){var n;try{n=i.apply(this,t)}catch(t){return e(t)}r(n)&&"function"==typeof n.then?n.then(function(t){a(e,null,t)},function(t){a(e,t.message?t:new Error(t))}):e(null,n)})}function a(t,e,n){try{t(e,n)}catch(t){Ft(o,t)}}function o(t){throw t}function l(t){return jt&&"AsyncFunction"===t[Symbol.toStringTag]}function g(t){return l(t)?i(t):t}function s(r){return function(e){var t=p(arguments,1),n=At(function(n,t){var i=this;return r(e,function(t,e){g(t).apply(i,n.concat(e))},t)});return t.length?n.apply(this,t):n}}function u(t){return null==t?void 0===t?Gt:qt:Zt&&Zt in Object(t)?function(t){var e=Yt.call(t,zt),n=t[zt];try{var i=!(t[zt]=void 0)}catch(t){}var r=Ut.call(t);return i&&(e?t[zt]=n:delete t[zt]),r}(t):(e=t,Wt.call(e));var e}function c(t){return"number"==typeof t&&-1<t&&t%1==0&&t<=te}function d(t){return null!=t&&c(t.length)&&!function(t){if(!r(t))return!1;var e=u(t);return e==Kt||e==Qt||e==Xt||e==Jt}(t)}function m(){}function v(e){return function(){if(null!==e){var t=e;e=null,t.apply(this,arguments)}}}function h(t){return null!=t&&"object"==typeof t}function f(t){return h(t)&&u(t)==re}function y(t,e){var n,i,r,a=ue(t),o=!a&&le(t),s=!a&&!o&&fe(t),l=!a&&!o&&!s&&De(t),u=a||o||s||l,c=u?function(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}(t.length,String):[],d=c.length;for(var h in t)!e&&!Te.call(t,h)||u&&("length"==h||s&&("offset"==h||"parent"==h)||l&&("buffer"==h||"byteLength"==h||"byteOffset"==h)||(void 0,r=typeof(n=h),(i=null==(i=d)?pe:i)&&("number"==r||"symbol"!=r&&ge.test(n))&&-1<n&&n%1==0&&n<i))||c.push(h);return c}function b(t){if(n=(e=t)&&e.constructor,e!==("function"==typeof n&&n.prototype||Me))return $e(t);var e,n,i=[];for(var r in Object(t))Oe.call(t,r)&&"constructor"!=r&&i.push(r);return i}function _(t){return d(t)?y(t):b(t)}function w(t){if(d(t))return n=-1,i=(e=t).length,function(){return++n<i?{value:e[n],key:n}:null};var e,n,i,r,a,o,s,l,u,c=ie(t);return c?(l=c,u=-1,function(){var t=l.next();return t.done?null:(u++,{value:t.value,key:u})}):(a=_(r=t),o=-1,s=a.length,function t(){var e=a[++o];return"__proto__"===e?t():o<s?{value:r[e],key:e}:null})}function x(e){return function(){if(null===e)throw new Error("Callback was already called.");var t=e;e=null,t.apply(this,arguments)}}function k(u){return function(t,e,n){function i(t,e){if(s-=1,t)o=!0,n(t);else{if(e===ee||o&&s<=0)return o=!0,n(null);l||r()}}function r(){for(l=!0;s<u&&!o;){var t=a();if(null===t)return o=!0,void(s<=0&&n(null));s+=1,e(t.value,t.key,x(i))}l=!1}if(n=v(n||m),u<=0||!t)return n(null);var a=w(t),o=!1,s=0,l=!1;r()}}function C(t,e,n,i){k(e)(t,g(n),i)}function S(i,r){return function(t,e,n){return i(t,r,e,n)}}function D(t,e,n){function i(t,e){t?n(t):++a!==o&&e!==ee||n(null)}n=v(n||m);var r=0,a=0,o=t.length;for(0===o&&n(null);r<o;r++)e(t[r],r,x(i))}function T(i){return function(t,e,n){return i(Pe,t,g(e),n)}}function M(t,e,n,i){i=i||m,e=e||[];var r=[],a=0,o=g(n);t(e,function(t,e,n){var i=a++;o(t,function(t,e){r[i]=e,n(t)})},function(t){i(t,r)})}function $(r){return function(t,e,n,i){return r(k(e),t,g(n),i)}}function O(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&!1!==e(t[n],n,t););return t}function E(t,e){return t&&Le(t,e,_)}function P(t){return t!=t}function A(t,e,n){return e==e?function(t,e,n){for(var i=n-1,r=t.length;++i<r;)if(t[i]===e)return i;return-1}(t,e,n):function(t,e,n,i){for(var r=t.length,a=n+(i?1:-1);i?a--:++a<r;)if(e(t[a],a,t))return a;return-1}(t,P,n)}function R(t,e){for(var n=-1,i=null==t?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}function I(t){if("string"==typeof t)return t;if(ue(t))return R(t,I)+"";if("symbol"==typeof(e=t)||h(e)&&u(e)==Ve)return Ye?Ye.call(t):"";var e,n=t+"";return"0"==n&&1/t==-He?"-0":n}function F(t,e,n){var i=t.length;return n=void 0===n?i:n,!e&&i<=n?t:function(t,e,n){var i=-1,r=t.length;e<0&&(e=r<-e?0:r+e),(n=r<n?r:n)<0&&(n+=r),r=n<e?0:n-e>>>0,e>>>=0;for(var a=Array(r);++i<r;)a[i]=t[i+e];return a}(t,e,n)}function j(t){return e=t,Ue.test(e)?t.match(nn)||[]:t.split("");var e}function L(t,e,n){if((t=null==(i=t)?"":I(i))&&(n||void 0===e))return t.replace(rn,"");var i;if(!t||!(e=I(e)))return t;var r=j(t),a=j(e);return F(r,function(t,e){for(var n=-1,i=t.length;++n<i&&-1<A(e,t[n],0););return n}(r,a),function(t,e){for(var n=t.length;n--&&-1<A(e,t[n],0););return n}(r,a)+1).join("")}function N(t,e){var s={};E(t,function(i,t){function e(e,t){var n=R(r,function(t){return e[t]});n.push(t),g(i).apply(null,n)}var r,n,a=l(i),o=!a&&1===i.length||a&&0===i.length;if(ue(i))r=i.slice(0,-1),i=i[i.length-1],s[t]=r.concat(0<r.length?e:i);else if(o)s[t]=i;else{if(r=(n=(n=(n=(n=i).toString().replace(ln,"")).match(an)[2].replace(" ",""))?n.split(on):[]).map(function(t){return L(t.replace(sn,""))}),0===i.length&&!a&&0===r.length)throw new Error("autoInject task functions require explicit parameters.");a||r.pop(),s[t]=r.concat(e)}}),Ne(s,e)}function V(){this.head=this.tail=null,this.length=0}function H(t,e){t.length=1,t.head=t.tail=e}function B(t,e,n){function i(t,e,n){if(null!=n&&"function"!=typeof n)throw new Error("task callback must be a function");if(h.started=!0,ue(t)||(t=[t]),0===t.length&&h.idle())return Ft(function(){h.drain()});for(var i=0,r=t.length;i<r;i++){var a={data:t[i],callback:n||m};e?h._tasks.unshift(a):h._tasks.push(a)}c||(c=!0,Ft(function(){c=!1,h.process()}))}function o(a){return function(t){l-=1;for(var e=0,n=a.length;e<n;e++){var i=a[e],r=A(u,i,0);0===r?u.shift():0<r&&u.splice(r,1),i.callback.apply(i,arguments),null!=t&&h.error(t,i.data)}l<=h.concurrency-h.buffer&&h.unsaturated(),h.idle()&&h.drain(),h.process()}}if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var s=g(t),l=0,u=[],c=!1,d=!1,h={_tasks:new V,concurrency:e,payload:n,saturated:m,unsaturated:m,buffer:e/4,empty:m,drain:m,error:m,started:!1,paused:!1,push:function(t,e){i(t,!1,e)},kill:function(){h.drain=m,h._tasks.empty()},unshift:function(t,e){i(t,!0,e)},remove:function(t){h._tasks.remove(t)},process:function(){if(!d){for(d=!0;!h.paused&&l<h.concurrency&&h._tasks.length;){var t=[],e=[],n=h._tasks.length;h.payload&&(n=Math.min(n,h.payload));for(var i=0;i<n;i++){var r=h._tasks.shift();t.push(r),u.push(r),e.push(r.data)}l+=1,0===h._tasks.length&&h.empty(),l===h.concurrency&&h.saturated();var a=x(o(t));s(e,a)}d=!1}},length:function(){return h._tasks.length},running:function(){return l},workersList:function(){return u},idle:function(){return h._tasks.length+l===0},pause:function(){h.paused=!0},resume:function(){!1!==h.paused&&(h.paused=!1,Ft(h.process))}};return h}function Y(t,e){return B(t,1,e)}function U(t,i,e,n){n=v(n||m);var r=g(e);un(t,function(t,e,n){r(i,t,function(t,e){i=e,n(t)})},function(t){n(t,i)})}function z(){var e=R(arguments,g);return function(){var t=p(arguments),i=this,n=t[t.length-1];"function"==typeof n?t.pop():n=m,U(e,t,function(t,e,n){e.apply(i,t.concat(function(t){var e=p(arguments,1);n(t,e)}))},function(t,e){n.apply(i,[t].concat(e))})}}function W(t){return t}function q(s,l){return function(t,e,r,n){n=n||m;var a,o=!1;t(e,function(n,t,i){r(n,function(t,e){t?i(t):s(e)&&!a?(a=l(o=!0,n),i(null,ee)):i()})},function(t){t?n(t):n(null,o?a:l(!1))})}}function G(t,e){return e}function Z(n){return function(t){var e=p(arguments,1);e.push(function(t){var e=p(arguments,1);"object"==typeof console&&(t?console.error:console[n]&&O(e,function(t){}))}),g(t).apply(null,e)}}function X(t,e,n){function i(t){if(t)return n(t);var e=p(arguments,1);e.push(r),o.apply(this,e)}function r(t,e){return t?n(t):e?void a(i):n(null)}n=x(n||m);var a=g(t),o=g(e);r(null,!0)}function K(t,n,i){i=x(i||m);var r=g(t),a=function(t){if(t)return i(t);var e=p(arguments,1);return n.apply(this,e)?r(a):void i.apply(null,[null].concat(e))};r(a)}function Q(t,e,n){K(t,function(){return!e.apply(this,arguments)},n)}function J(t,e,n){function i(t){return t?n(t):void o(r)}function r(t,e){return t?n(t):e?void a(i):n(null)}n=x(n||m);var a=g(e),o=g(t);o(r)}function tt(i){return function(t,e,n){return i(t,n)}}function et(t,e,n){Pe(t,tt(g(e)),n)}function nt(t,e,n,i){k(e)(t,tt(g(n)),i)}function it(i){return l(i)?i:At(function(t,e){var n=!0;t.push(function(){var t=arguments;n?Ft(function(){e.apply(null,t)}):e.apply(null,t)}),i.apply(this,t),n=!1})}function rt(t){return!t}function at(e){return function(t){return null==t?void 0:t[e]}}function ot(t,i,e,r){var a=new Array(i.length);t(i,function(t,n,i){e(t,function(t,e){a[n]=!!e,i(t)})},function(t){if(t)return r(t);for(var e=[],n=0;n<i.length;n++)a[n]&&e.push(i[n]);r(null,e)})}function st(t,e,a,n){var o=[];t(e,function(n,i,r){a(n,function(t,e){t?r(t):(e&&o.push({index:i,value:n}),r())})},function(t){t?n(t):n(null,R(o.sort(function(t,e){return t.index-e.index}),at("value")))})}function lt(t,e,n,i){(d(e)?ot:st)(t,e,g(n),i||m)}function ut(t,e){var n=x(e||m),i=g(it(t));!function t(e){return e?n(e):void i(t)}()}function ct(t,e,n,i){i=v(i||m);var r={},a=g(n);C(t,e,function(t,n,i){a(t,n,function(t,e){return t?i(t):(r[n]=e,void i())})},function(t){i(t,r)})}function dt(t,e){return e in t}function ht(t,n){var a=Object.create(null),o=Object.create(null);n=n||W;var i=g(t),e=At(function(t,e){var r=n.apply(null,t);dt(a,r)?Ft(function(){e.apply(null,a[r])}):dt(o,r)?o[r].push(e):(o[r]=[e],i.apply(null,t.concat(function(){var t=p(arguments);a[r]=t;var e=o[r];delete o[r];for(var n=0,i=e.length;n<i;n++)e[n].apply(null,t)})))});return e.memo=a,e.unmemoized=t,e}function ft(t,e,n){n=n||m;var r=d(e)?[]:{};t(e,function(t,n,i){g(t)(function(t,e){2<arguments.length&&(e=p(arguments,1)),r[n]=e,i(t)})},function(t){n(t,r)})}function pt(t,e){ft(Pe,t,e)}function gt(t,e,n){ft(k(e),t,n)}function mt(t,e){if(e=v(e||m),!ue(t))return e(new TypeError("First argument to race must be an array of functions"));if(!t.length)return e();for(var n=0,i=t.length;n<i;n++)g(t[n])(e)}function vt(t,e,n,i){U(p(t).reverse(),e,n,i)}function yt(t){var e=g(t);return At(function(t,i){return t.push(function(t,e){var n;t?i(null,{error:t}):(n=arguments.length<=2?e:p(arguments,1),i(null,{value:n}))}),e.apply(this,t)})}function bt(t){var n;return ue(t)?n=R(t,yt):(n={},E(t,function(t,e){n[e]=yt.call(this,t)})),n}function _t(t,e,i,n){lt(t,e,function(t,n){i(t,function(t,e){n(t,!e)})},n)}function wt(t){return function(){return t}}function xt(t,e,n){var i=5,r=0,a={times:i,intervalFunc:wt(r)};if(arguments.length<3&&"function"==typeof t?(n=e||m,e=t):(function(t,e){if("object"==typeof e)t.times=+e.times||i,t.intervalFunc="function"==typeof e.interval?e.interval:wt(+e.interval||r),t.errorFilter=e.errorFilter;else{if("number"!=typeof e&&"string"!=typeof e)throw new Error("Invalid arguments for async.retry");t.times=+e||i}}(a,t),n=n||m),"function"!=typeof e)throw new Error("Invalid arguments for async.retry");var o=g(e),s=1;!function e(){o(function(t){t&&s++<a.times&&("function"!=typeof a.errorFilter||a.errorFilter(t))?setTimeout(e,a.intervalFunc(s)):n.apply(null,arguments)})}()}function kt(t,e){ft(un,t,e)}function Ct(t,e,n){function i(t,e){var n=t.criteria,i=e.criteria;return n<i?-1:i<n?1:0}var r=g(e);Ae(t,function(n,i){r(n,function(t,e){return t?i(t):void i(null,{value:n,criteria:e})})},function(t,e){return t?n(t):void n(null,R(e.sort(i),at("value")))})}function St(r,a,o){var s=g(r);return At(function(t,n){var e,i=!1;t.push(function(){i||(n.apply(null,arguments),clearTimeout(e))}),e=setTimeout(function(){var t=r.name||"anonymous",e=new Error('Callback function "'+t+'" timed out.');e.code="ETIMEDOUT",o&&(e.info=o),i=!0,n(e)},a),s.apply(null,t)})}function Dt(t,e,n,i){var r=g(n);Ie(function(t,e,n,i){for(var r=-1,a=Un(Yn((e-t)/(n||1)),0),o=Array(a);a--;)o[i?a:++r]=t,t+=n;return o}(0,t,1),e,r,i)}function Tt(t,i,e,n){arguments.length<=3&&(n=e,e=i,i=ue(t)?[]:{}),n=v(n||m);var r=g(e);Pe(t,function(t,e,n){r(i,t,e,n)},function(t){n(t,i)})}function Mt(t,e){var i,r=null;e=e||m,_n(t,function(t,n){g(t)(function(t,e){i=2<arguments.length?p(arguments,1):e,n(!(r=t))})},function(){e(r,i)})}function $t(t){return function(){return(t.unmemoized||t).apply(null,arguments)}}function Ot(n,t,i){i=x(i||m);var r=g(t);if(!n())return i(null);var a=function(t){if(t)return i(t);if(n())return r(a);var e=p(arguments,1);i.apply(null,[null].concat(e))};r(a)}function Et(t,e,n){Ot(function(){return!t.apply(this,arguments)},e,n)}var Pt=function(e){var n=p(arguments,1);return function(){var t=p(arguments);return e.apply(null,n.concat(t))}},At=function(n){return function(){var t=p(arguments),e=t.pop();n.call(this,t,e)}},Rt="function"==typeof setImmediate&&setImmediate,It="object"==typeof process&&"function"==typeof process.nextTick,Ft=n(Rt?setImmediate:It?process.nextTick:e),jt="function"==typeof Symbol,Lt="object"==typeof global&&global&&global.Object===Object&&global,Nt="object"==typeof self&&self&&self.Object===Object&&self,Vt=Lt||Nt||Function("return this")(),Ht=Vt.Symbol,Bt=Object.prototype,Yt=Bt.hasOwnProperty,Ut=Bt.toString,zt=Ht?Ht.toStringTag:void 0,Wt=Object.prototype.toString,qt="[object Null]",Gt="[object Undefined]",Zt=Ht?Ht.toStringTag:void 0,Xt="[object AsyncFunction]",Kt="[object Function]",Qt="[object GeneratorFunction]",Jt="[object Proxy]",te=9007199254740991,ee={},ne="function"==typeof Symbol&&Symbol.iterator,ie=function(t){return ne&&t[ne]&&t[ne]()},re="[object Arguments]",ae=Object.prototype,oe=ae.hasOwnProperty,se=ae.propertyIsEnumerable,le=f(function(){return arguments}())?f:function(t){return h(t)&&oe.call(t,"callee")&&!se.call(t,"callee")},ue=Array.isArray,ce="object"==typeof t&&t&&!t.nodeType&&t,de=ce&&"object"==typeof module&&module&&!module.nodeType&&module,he=de&&de.exports===ce?Vt.Buffer:void 0,fe=(he?he.isBuffer:void 0)||function(){return!1},pe=9007199254740991,ge=/^(?:0|[1-9]\d*)$/,me={};me["[object Float32Array]"]=me["[object Float64Array]"]=me["[object Int8Array]"]=me["[object Int16Array]"]=me["[object Int32Array]"]=me["[object Uint8Array]"]=me["[object Uint8ClampedArray]"]=me["[object Uint16Array]"]=me["[object Uint32Array]"]=!0,me["[object Arguments]"]=me["[object Array]"]=me["[object ArrayBuffer]"]=me["[object Boolean]"]=me["[object DataView]"]=me["[object Date]"]=me["[object Error]"]=me["[object Function]"]=me["[object Map]"]=me["[object Number]"]=me["[object Object]"]=me["[object RegExp]"]=me["[object Set]"]=me["[object String]"]=me["[object WeakMap]"]=!1;var ve,ye,be,_e,we="object"==typeof t&&t&&!t.nodeType&&t,xe=we&&"object"==typeof module&&module&&!module.nodeType&&module,ke=xe&&xe.exports===we&&Lt.process,Ce=function(){try{var t=xe&&xe.require&&xe.require("util").types;return t||ke&&ke.binding&&ke.binding("util")}catch(t){}}(),Se=Ce&&Ce.isTypedArray,De=Se?(_e=Se,function(t){return _e(t)}):function(t){return h(t)&&c(t.length)&&!!me[u(t)]},Te=Object.prototype.hasOwnProperty,Me=Object.prototype,$e=(ye=Object.keys,be=Object,function(t){return ye(be(t))}),Oe=Object.prototype.hasOwnProperty,Ee=S(C,1/0),Pe=function(t,e,n){(d(t)?D:Ee)(t,g(e),n)},Ae=T(M),Re=s(Ae),Ie=$(M),Fe=S(Ie,1),je=s(Fe),Le=function(t,e,n){for(var i=-1,r=Object(t),a=n(t),o=a.length;o--;){var s=a[ve?o:++i];if(!1===e(r[s],s,r))break}return t},Ne=function(l,t,r){function u(t,e){i.push(function(){!function(i,t){if(!c){var e=x(function(t,e){if(s--,2<arguments.length&&(e=p(arguments,1)),t){var n={};E(o,function(t,e){n[e]=t}),n[i]=e,c=!0,d=Object.create(null),r(t,n)}else o[i]=e,O(d[i]||[],function(t){t()}),a()});s++;var n=g(t[t.length-1]);1<t.length?n(o,e):n(e)}}(t,e)})}function a(){if(0===i.length&&0===s)return r(null,o);for(;i.length&&s<t;){i.shift()()}}function e(n){var i=[];return E(l,function(t,e){ue(t)&&0<=A(t,n,0)&&i.push(e)}),i}"function"==typeof t&&(r=t,t=null),r=v(r||m);var n=_(l).length;if(!n)return r(null);t||(t=n);var o={},s=0,c=!1,d=Object.create(null),i=[],h=[],f={};E(l,function(r,a){if(!ue(r))return u(a,[r]),void h.push(a);var o=r.slice(0,r.length-1),s=o.length;return 0===s?(u(a,r),void h.push(a)):(f[a]=s,void O(o,function(t){if(!l[t])throw new Error("async.auto task `"+a+"` has a non-existent dependency `"+t+"` in "+o.join(", "));var e,n,i;n=function(){0===--s&&u(a,r)},(i=d[e=t])||(i=d[e]=[]),i.push(n)}))}),function(){for(var t=0;h.length;)t++,O(e(h.pop()),function(t){0==--f[t]&&h.push(t)});if(t!==n)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}(),a()},Ve="[object Symbol]",He=1/0,Be=Ht?Ht.prototype:void 0,Ye=Be?Be.toString:void 0,Ue=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),ze="\\ud800-\\udfff",We="["+ze+"]",qe="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Ge="\\ud83c[\\udffb-\\udfff]",Ze="[^"+ze+"]",Xe="(?:\\ud83c[\\udde6-\\uddff]){2}",Ke="[\\ud800-\\udbff][\\udc00-\\udfff]",Qe="(?:"+qe+"|"+Ge+")"+"?",Je="[\\ufe0e\\ufe0f]?",tn=Je+Qe+("(?:\\u200d(?:"+[Ze,Xe,Ke].join("|")+")"+Je+Qe+")*"),en="(?:"+[Ze+qe+"?",qe,Xe,Ke,We].join("|")+")",nn=RegExp(Ge+"(?="+Ge+")|"+en+tn,"g"),rn=/^\s+|\s+$/g,an=/^(?:async\s+)?(function)?\s*[^\(]*\(\s*([^\)]*)\)/m,on=/,/,sn=/(=.+)?(\s*)$/,ln=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm;V.prototype.removeLink=function(t){return t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev,t.prev=t.next=null,this.length-=1,t},V.prototype.empty=function(){for(;this.head;)this.shift();return this},V.prototype.insertAfter=function(t,e){e.prev=t,e.next=t.next,t.next?t.next.prev=e:this.tail=e,t.next=e,this.length+=1},V.prototype.insertBefore=function(t,e){e.prev=t.prev,(e.next=t).prev?t.prev.next=e:this.head=e,t.prev=e,this.length+=1},V.prototype.unshift=function(t){this.head?this.insertBefore(this.head,t):H(this,t)},V.prototype.push=function(t){this.tail?this.insertAfter(this.tail,t):H(this,t)},V.prototype.shift=function(){return this.head&&this.removeLink(this.head)},V.prototype.pop=function(){return this.tail&&this.removeLink(this.tail)},V.prototype.toArray=function(){for(var t=Array(this.length),e=this.head,n=0;n<this.length;n++)t[n]=e.data,e=e.next;return t},V.prototype.remove=function(t){for(var e=this.head;e;){var n=e.next;t(e)&&this.removeLink(e),e=n}return this};var un=S(C,1),cn=function(){return z.apply(null,p(arguments).reverse())},dn=Array.prototype.concat,hn=function(t,e,n,r){r=r||m;var i=g(n);Ie(t,e,function(t,e){i(t,function(t){return t?e(t):e(null,p(arguments,1))})},function(t,e){for(var n=[],i=0;i<e.length;i++)e[i]&&(n=dn.apply(n,e[i]));return r(t,n)})},fn=S(hn,1/0),pn=S(hn,1),gn=function(){var t=p(arguments),e=[null].concat(t);return function(){return arguments[arguments.length-1].apply(this,e)}},mn=T(q(W,G)),vn=$(q(W,G)),yn=S(vn,1),bn=Z("dir"),_n=S(nt,1),wn=T(q(rt,rt)),xn=$(q(rt,rt)),kn=S(xn,1),Cn=T(lt),Sn=$(lt),Dn=S(Sn,1),Tn=function(t,e,n,s){s=s||m;var r=g(n);Ie(t,e,function(n,i){r(n,function(t,e){return t?i(t):i(null,{key:e,val:n})})},function(t,e){for(var n={},i=Object.prototype.hasOwnProperty,r=0;r<e.length;r++)if(e[r]){var a=e[r].key,o=e[r].val;i.call(n,a)?n[a].push(o):n[a]=[o]}return s(t,n)})},Mn=S(Tn,1/0),$n=S(Tn,1),On=Z("log"),En=S(ct,1/0),Pn=S(ct,1),An=n(It?process.nextTick:Rt?setImmediate:e),Rn=function(t,e){var n=g(t);return B(function(t,e){n(t[0],e)},e,1)},In=function(t,e){var s=Rn(t,e);return s.push=function(t,e,n){if(null==n&&(n=m),"function"!=typeof n)throw new Error("task callback must be a function");if(s.started=!0,ue(t)||(t=[t]),0===t.length)return Ft(function(){s.drain()});e=e||0;for(var i=s._tasks.head;i&&e>=i.priority;)i=i.next;for(var r=0,a=t.length;r<a;r++){var o={data:t[r],priority:e,callback:n};i?s._tasks.insertBefore(i,o):s._tasks.push(o)}Ft(s.process)},delete s.unshift,s},Fn=T(_t),jn=$(_t),Ln=S(jn,1),Nn=function(i,t){t||(t=i,i=null);var r=g(t);return At(function(e,t){function n(t){r.apply(null,e.concat(t))}i?xt(i,n,t):xt(n,t)})},Vn=T(q(Boolean,W)),Hn=$(q(Boolean,W)),Bn=S(Hn,1),Yn=Math.ceil,Un=Math.max,zn=S(Dt,1/0),Wn=S(Dt,1),qn=function(n,e){function i(t){var e=g(n[a++]);t.push(x(r)),e.apply(null,t)}function r(t){return t||a===n.length?e.apply(null,arguments):void i(p(arguments,1))}if(e=v(e||m),!ue(n))return e(new Error("First argument to waterfall must be an array of functions"));if(!n.length)return e();var a=0;i([])},Gn={apply:Pt,applyEach:Re,applyEachSeries:je,asyncify:i,auto:Ne,autoInject:N,cargo:Y,compose:cn,concat:fn,concatLimit:hn,concatSeries:pn,constant:gn,detect:mn,detectLimit:vn,detectSeries:yn,dir:bn,doDuring:X,doUntil:Q,doWhilst:K,during:J,each:et,eachLimit:nt,eachOf:Pe,eachOfLimit:C,eachOfSeries:un,eachSeries:_n,ensureAsync:it,every:wn,everyLimit:xn,everySeries:kn,filter:Cn,filterLimit:Sn,filterSeries:Dn,forever:ut,groupBy:Mn,groupByLimit:Tn,groupBySeries:$n,log:On,map:Ae,mapLimit:Ie,mapSeries:Fe,mapValues:En,mapValuesLimit:ct,mapValuesSeries:Pn,memoize:ht,nextTick:An,parallel:pt,parallelLimit:gt,priorityQueue:In,queue:Rn,race:mt,reduce:U,reduceRight:vt,reflect:yt,reflectAll:bt,reject:Fn,rejectLimit:jn,rejectSeries:Ln,retry:xt,retryable:Nn,seq:z,series:kt,setImmediate:Ft,some:Vn,someLimit:Hn,someSeries:Bn,sortBy:Ct,timeout:St,times:zn,timesLimit:Dt,timesSeries:Wn,transform:Tt,tryEach:Mt,unmemoize:$t,until:Et,waterfall:qn,whilst:Ot,all:wn,allLimit:xn,allSeries:kn,any:Vn,anyLimit:Hn,anySeries:Bn,find:mn,findLimit:vn,findSeries:yn,forEach:et,forEachSeries:_n,forEachLimit:nt,forEachOf:Pe,forEachOfSeries:un,forEachOfLimit:C,inject:U,foldl:U,foldr:vt,select:Cn,selectLimit:Sn,selectSeries:Dn,wrapSync:i};t.default=Gn,t.apply=Pt,t.applyEach=Re,t.applyEachSeries=je,t.asyncify=i,t.auto=Ne,t.autoInject=N,t.cargo=Y,t.compose=cn,t.concat=fn,t.concatLimit=hn,t.concatSeries=pn,t.constant=gn,t.detect=mn,t.detectLimit=vn,t.detectSeries=yn,t.dir=bn,t.doDuring=X,t.doUntil=Q,t.doWhilst=K,t.during=J,t.each=et,t.eachLimit=nt,t.eachOf=Pe,t.eachOfLimit=C,t.eachOfSeries=un,t.eachSeries=_n,t.ensureAsync=it,t.every=wn,t.everyLimit=xn,t.everySeries=kn,t.filter=Cn,t.filterLimit=Sn,t.filterSeries=Dn,t.forever=ut,t.groupBy=Mn,t.groupByLimit=Tn,t.groupBySeries=$n,t.log=On,t.map=Ae,t.mapLimit=Ie,t.mapSeries=Fe,t.mapValues=En,t.mapValuesLimit=ct,t.mapValuesSeries=Pn,t.memoize=ht,t.nextTick=An,t.parallel=pt,t.parallelLimit=gt,t.priorityQueue=In,t.queue=Rn,t.race=mt,t.reduce=U,t.reduceRight=vt,t.reflect=yt,t.reflectAll=bt,t.reject=Fn,t.rejectLimit=jn,t.rejectSeries=Ln,t.retry=xt,t.retryable=Nn,t.seq=z,t.series=kt,t.setImmediate=Ft,t.some=Vn,t.someLimit=Hn,t.someSeries=Bn,t.sortBy=Ct,t.timeout=St,t.times=zn,t.timesLimit=Dt,t.timesSeries=Wn,t.transform=Tt,t.tryEach=Mt,t.unmemoize=$t,t.until=Et,t.waterfall=qn,t.whilst=Ot,t.all=wn,t.allLimit=xn,t.allSeries=kn,t.any=Vn,t.anyLimit=Hn,t.anySeries=Bn,t.find=mn,t.findLimit=vn,t.findSeries=yn,t.forEach=et,t.forEachSeries=_n,t.forEachLimit=nt,t.forEachOf=Pe,t.forEachOfSeries=un,t.forEachOfLimit=C,t.inject=U,t.foldl=U,t.foldr=vt,t.select=Cn,t.selectLimit=Sn,t.selectSeries=Dn,t.wrapSync=i,Object.defineProperty(t,"__esModule",{value:!0})}),function(t,e){"use strict";"undefined"!=typeof module&&module.exports?(e("undefined"==typeof angular?require("angular"):angular),module.exports="angular-google-analytics"):"function"==typeof define&&define.amd?define(["angular"],e):e(t.angular)}(this,function(q,G){"use strict";return q.module("angular-google-analytics",[]).provider("Analytics",function(){var _,r,w,x,k,C=!0,S="auto",D=!1,T=!1,M="USD",$=!1,O=!1,E=!1,P=!1,A=!1,R=!1,I=!1,F=!1,j=!1,L=!1,N=!1,V="$routeChangeSuccess",H=!1,B=!1,Y=!1,U="",z=!0,W=!1;this.log=[],this.offlineQueue=[],this.setAccount=function(t){return _=q.isUndefined(t)||!1===t?G:q.isArray(t)?t:q.isObject(t)?[t]:[{tracker:t,trackEvent:!0}],this},this.trackPages=function(t){return z=!!t,this},this.trackPrefix=function(t){return U=t,this},this.setDomainName=function(t){return w=t,this},this.useDisplayFeatures=function(t){return E=!!t,this},this.useAnalytics=function(t){return C=!!t,this},this.useEnhancedLinkAttribution=function(t){return I=!!t,this},this.useCrossDomainLinker=function(t){return T=!!t,this},this.setCrossLinkDomains=function(t){return r=t,this},this.setPageEvent=function(t){return V=t,this},this.setCookieConfig=function(t){return S=t,this},this.useECommerce=function(t,e){return A=!!t,R=!!e,this},this.setCurrency=function(t){return M=t,this},this.setRemoveRegExp=function(t){return t instanceof RegExp&&(k=t),this},this.setExperimentId=function(t){return x=t,this},this.ignoreFirstPageLoad=function(t){return F=!!t,this},this.trackUrlParams=function(t){return W=!!t,this},this.disableAnalytics=function(t){return P=!!t,this},this.setHybridMobileSupport=function(t){return L=!!t,this},this.startOffline=function(t){return!0===(N=!!t)&&this.delayScriptTag(!0),this},this.delayScriptTag=function(t){return O=!!t,this},this.logAllCalls=function(t){return j=!!t,this},this.enterTestMode=function(){return B=!0,this},this.enterDebugMode=function(t){return $=!0,Y=!!t,this},this.readFromRoute=function(t){return H=!!t,this},this.$get=["$document","$location","$log","$rootScope","$window","$injector",function(c,o,e,t,d,n){var h=this,a=function(t,e){return q.isObject(e)&&q.isDefined(e[t])},f=function(t,e,n){return a(t,e)&&e[t]===n},s=function(t,e){return q.isString(e)?e+"."+t:a("name",e)?e.name+"."+t:t},i={};H&&(n.has("$route")?i=n.get("$route"):e.warn("$route service is not available. Make sure you have included ng-route in your application dependencies."));var l=function(){if(H&&i.current&&"pageTrack"in i.current)return i.current.pageTrack;var t=W?o.url():o.path();return k?t.replace(k,""):t},u=function(t,e,n,i,r,a,o,s,l){var u={};return t&&(u.id=t),e&&(u.affiliation=e),n&&(u.revenue=n),i&&(u.tax=i),r&&(u.shipping=r),a&&(u.coupon=a),o&&(u.list=o),s&&(u.step=s),l&&(u.option=l),u},p=function(t,e){var n="",i="https:"===document.location.protocol,r="chrome-extension:"===document.location.protocol,a=!0===C&&!0===L;return t=q.isString(t)?t:"",e=q.isString(e)?e:"",""!==t&&(n="http:"+t),(r||a||i&&""!==e)&&(n="https:"+e),n},g=function(t){!C&&d._gaq&&"function"==typeof t&&t()},m=function(){var t=Array.prototype.slice.call(arguments);return!0===N?void h.offlineQueue.push([m,t]):(d._gaq||(d._gaq=[]),!0===j&&h._log.apply(h,t),void d._gaq.push(t))},v=function(t){C&&d.ga&&"function"==typeof t&&t()},y=function(){var t=Array.prototype.slice.call(arguments);return!0===N?void h.offlineQueue.push([y,t]):"function"!=typeof d.ga?void h._log("warn","ga function not set on window"):(!0===j&&h._log.apply(h,t),void d.ga.apply(null,t))},b=function(e){var n=Array.prototype.slice.call(arguments,1),i=n[0],r=[];return"function"==typeof e?_.forEach(function(t){e(t)&&r.push(t)}):r=_,0===r.length?void y.apply(h,n):void r.forEach(function(t){a("select",t)&&"function"==typeof t.select&&!t.select(n)||(n[0]=s(i,t),y.apply(h,n))})};return this._log=function(){var t=Array.prototype.slice.call(arguments);if(0<t.length){if(1<t.length)switch(t[0]){case"debug":case"error":case"info":case"log":case"warn":e[t[0]](t.slice(1))}h.log.push(t)}},this._createScriptTag=function(){h._registerScriptTags(),h._registerTrackers()},this._createAnalyticsScriptTag=function(){h._registerScriptTags(),h._registerTrackers()},this._registerScriptTags=function(){var n,i=c[0],t=p();if(!0!==D){if(!0===P&&_.forEach(function(t){h._log("info","Analytics disabled: "+t.tracker),d["ga-disable-"+t.tracker]=!0}),!0===C){if(n=t+"//www.google-analytics.com/"+($?"analytics_debug.js":"analytics.js"),!0!==B?(a=window,o=i,s=n,a.GoogleAnalyticsObject="ga",a.ga=a.ga||function(){(a.ga.q=a.ga.q||[]).push(arguments)},a.ga.l=1*new Date,l=o.createElement("script"),u=o.getElementsByTagName("script")[0],l.async=1,l.src=s,u.parentNode.insertBefore(l,u)):("function"!=typeof d.ga&&(d.ga=function(){}),h._log("inject",n)),Y&&(d.ga_debug={trace:!0}),x){var e=i.createElement("script"),r=i.getElementsByTagName("script")[0];e.src=t+"//www.google-analytics.com/cx/api.js?experiment="+x,r.parentNode.insertBefore(e,r)}}else n=p("//www","//ssl")+".google-analytics.com/ga.js",!0===E&&(n=t+"//stats.g.doubleclick.net/dc.js"),!0!==B?function(){var t=i.createElement("script");t.type="text/javascript",t.async=!0,t.src=n;var e=i.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}():h._log("inject",n);var a,o,s,l,u;return D=!0}h._log("warn","Script tags already created")},this._registerTrackers=function(){return!_||_.length<1?void h._log("warn","No accounts to register"):(!0===C?_.forEach(function(t){t.crossDomainLinker=a("crossDomainLinker",t)?t.crossDomainLinker:T,t.crossLinkDomains=a("crossLinkDomains",t)?t.crossLinkDomains:r,t.displayFeatures=a("displayFeatures",t)?t.displayFeatures:E,t.enhancedLinkAttribution=a("enhancedLinkAttribution",t)?t.enhancedLinkAttribution:I,t.set=a("set",t)?t.set:{},t.trackEcommerce=a("trackEcommerce",t)?t.trackEcommerce:A,t.trackEvent=!!a("trackEvent",t)&&t.trackEvent;var e={};for(var n in a("fields",t)?e=t.fields:a("cookieConfig",t)?q.isString(t.cookieConfig)?e.cookieDomain=t.cookieConfig:e=t.cookieConfig:q.isString(S)?e.cookieDomain=S:S&&(e=S),!0===t.crossDomainLinker&&(e.allowLinker=!0),a("name",t)&&(e.name=t.name),t.fields=e,y("create",t.tracker,t.fields),!0===L&&y(s("set",t),"checkProtocolTask",null),t.set)t.set.hasOwnProperty(n)&&y(s("set",t),n,t.set[n]);!0===t.crossDomainLinker&&(y(s("require",t),"linker"),q.isDefined(t.crossLinkDomains)&&y(s("linker:autoLink",t),t.crossLinkDomains)),t.displayFeatures&&y(s("require",t),"displayfeatures"),t.trackEcommerce&&(R?(y(s("require",t),"ec"),y(s("set",t),"&cu",M)):y(s("require",t),"ecommerce")),t.enhancedLinkAttribution&&y(s("require",t),"linkid"),z&&!F&&y(s("send",t),"pageview",U+l())}):(1<_.length&&(h._log("warn","Multiple trackers are not supported with ga.js. Using first tracker only"),_=_.slice(0,1)),m("_setAccount",_[0].tracker),w&&m("_setDomainName",w),I&&m("_require","inpage_linkid","//www.google-analytics.com/plugins/ga/inpage_linkid.js"),z&&!F&&(k?m("_trackPageview",l()):m("_trackPageview"))),!0)},this._ecommerceEnabled=function(t,e){var n=A&&!R;return!0===t&&!1===n&&(A&&R?h._log("warn",e+" is not available when Enhanced Ecommerce is enabled with analytics.js"):h._log("warn","Ecommerce must be enabled to use "+e+" with analytics.js")),n},this._enhancedEcommerceEnabled=function(t,e){var n=A&&R;return!0===t&&!1===n&&h._log("warn","Enhanced Ecommerce must be enabled to use "+e+" with analytics.js"),n},this._trackPage=function(e,n,a){e=e||l(),n=n||c[0].title,g(function(){m("_set","title",n),m("_trackPageview",U+e)}),v(function(){var i,r,t={page:U+e,title:n};q.extend(t,(i={utm_source:"campaignSource",utm_medium:"campaignMedium",utm_term:"campaignTerm",utm_content:"campaignContent",utm_campaign:"campaignName"},r={},q.forEach(o.search(),function(t,e){var n=i[e];q.isDefined(n)&&(r[n]=t)}),r)),q.isObject(a)&&q.extend(t,a),b(G,"send","pageview",t)})},this._trackEvent=function(e,n,i,r,a,o){g(function(){m("_trackEvent",e,n,i,r,!!a)}),v(function(){var t={};q.isDefined(a)&&(t.nonInteraction=!!a),q.isObject(o)&&q.extend(t,o),q.isDefined(t.page)||(t.page=l()),b(function(t){return f("trackEvent",t,!0)},"send","event",e,n,i,r,t)})},this._addTrans=function(t,e,n,i,r,a,o,s,l){g(function(){m("_addTrans",t,e,n,i,r,a,o,s)}),v(function(){if(h._ecommerceEnabled(!0,"addTrans")){b(function(t){return f("trackEcommerce",t,!0)},"ecommerce:addTransaction",{id:t,affiliation:e,revenue:n,tax:i,shipping:r,currency:l||"USD"})}})},this._addItem=function(t,e,n,i,r,a){g(function(){m("_addItem",t,e,n,i,r,a)}),v(function(){if(h._ecommerceEnabled(!0,"addItem")){b(function(t){return f("trackEcommerce",t,!0)},"ecommerce:addItem",{id:t,name:n,sku:e,category:i,price:r,quantity:a})}})},this._trackTrans=function(){g(function(){m("_trackTrans")}),v(function(){if(h._ecommerceEnabled(!0,"trackTrans")){b(function(t){return f("trackEcommerce",t,!0)},"ecommerce:send")}})},this._clearTrans=function(){v(function(){if(h._ecommerceEnabled(!0,"clearTrans")){b(function(t){return f("trackEcommerce",t,!0)},"ecommerce:clear")}})},this._addProduct=function(e,n,i,r,a,o,s,l,u,c){g(function(){m("_addProduct",e,n,i,r,a,o,s,l,u)}),v(function(){if(h._enhancedEcommerceEnabled(!0,"addProduct")){var t={id:e,name:n,category:i,brand:r,variant:a,price:o,quantity:s,coupon:l,position:u};q.isObject(c)&&q.extend(t,c),b(function(t){return f("trackEcommerce",t,!0)},"ec:addProduct",t)}})},this._addImpression=function(t,e,n,i,r,a,o,s){g(function(){m("_addImpression",t,e,n,i,r,a,o,s)}),v(function(){if(h._enhancedEcommerceEnabled(!0,"addImpression")){b(function(t){return f("trackEcommerce",t,!0)},"ec:addImpression",{id:t,name:e,category:r,brand:i,variant:a,list:n,position:o,price:s})}})},this._addPromo=function(t,e,n,i){g(function(){m("_addPromo",t,e,n,i)}),v(function(){if(h._enhancedEcommerceEnabled(!0,"addPromo")){b(function(t){return f("trackEcommerce",t,!0)},"ec:addPromo",{id:t,name:e,creative:n,position:i})}})},this._setAction=function(t,e){g(function(){m("_setAction",t,e)}),v(function(){if(h._enhancedEcommerceEnabled(!0,"setAction")){b(function(t){return f("trackEcommerce",t,!0)},"ec:setAction",t,e)}})},this._trackTransaction=function(t,e,n,i,r,a,o,s,l){this._setAction("purchase",u(t,e,n,i,r,a,o,s,l))},this._trackRefund=function(t){this._setAction("refund",u(t))},this._trackCheckOut=function(t,e){this._setAction("checkout",u(null,null,null,null,null,null,null,t,e))},this._trackDetail=function(){this._setAction("detail"),this._pageView()},this._trackCart=function(t,e){-1!==["add","remove"].indexOf(t)&&(this._setAction(t,{list:e}),this._trackEvent("UX","click",t+("add"===t?" to cart":" from cart")))},this._promoClick=function(t){this._setAction("promo_click"),this._trackEvent("Internal Promotions","click",t)},this._productClick=function(t){this._setAction("click",u(null,null,null,null,null,null,t,null,null)),this._trackEvent("UX","click",t)},this._pageView=function(t){v(function(){y(s("send",t),"pageview")})},this._send=function(){var t=Array.prototype.slice.call(arguments);t.unshift("send"),v(function(){y.apply(h,t)})},this._set=function(t,e,n){v(function(){y(s("set",n),t,e)})},this._trackTimings=function(t,e,n,i){v(function(){b(G,"send","timing",t,e,n,i)})},this._trackException=function(t,e){v(function(){b(G,"send","exception",{exDescription:t,exFatal:!!e})})},O||(this._registerScriptTags(),this._registerTrackers()),z&&t.$on(V,function(){(!H||i.current&&i.current.templateUrl&&!i.current.doNotTrack)&&h._trackPage()}),{log:h.log,offlineQueue:h.offlineQueue,configuration:{accounts:_,universalAnalytics:C,crossDomainLinker:T,crossLinkDomains:r,currency:M,debugMode:$,delayScriptTag:O,disableAnalytics:P,displayFeatures:E,domainName:w,ecommerce:h._ecommerceEnabled(),enhancedEcommerce:h._enhancedEcommerceEnabled(),enhancedLinkAttribution:I,experimentId:x,hybridMobileSupport:L,ignoreFirstPageLoad:F,logAllCalls:j,pageEvent:V,readFromRoute:H,removeRegExp:k,testMode:B,traceDebuggingMode:Y,trackPrefix:U,trackRoutes:z,trackUrlParams:W},getUrl:l,setCookieConfig:function(t){return h._log("warn","DEPRECATION WARNING: setCookieConfig method is deprecated. Please use tracker fields instead."),h._setCookieConfig.apply(h,arguments)},getCookieConfig:function(){return h._log("warn","DEPRECATION WARNING: getCookieConfig method is deprecated. Please use tracker fields instead."),S},createAnalyticsScriptTag:function(t){return h._log("warn","DEPRECATION WARNING: createAnalyticsScriptTag method is deprecated. Please use registerScriptTags and registerTrackers methods instead."),t&&(S=t),h._createAnalyticsScriptTag()},createScriptTag:function(){return h._log("warn","DEPRECATION WARNING: createScriptTag method is deprecated. Please use registerScriptTags and registerTrackers methods instead."),h._createScriptTag()},registerScriptTags:function(){return h._registerScriptTags()},registerTrackers:function(){return h._registerTrackers()},offline:function(t){if(!0===t&&!1===N&&(N=!0),!1===t&&!0===N)for(N=!1;0<h.offlineQueue.length;){var e=h.offlineQueue.shift();e[0].apply(h,e[1])}return N},trackPage:function(t,e,n){h._trackPage.apply(h,arguments)},trackEvent:function(t,e,n,i,r,a){h._trackEvent.apply(h,arguments)},addTrans:function(t,e,n,i,r,a,o,s,l){h._addTrans.apply(h,arguments)},addItem:function(t,e,n,i,r,a){h._addItem.apply(h,arguments)},trackTrans:function(){h._trackTrans.apply(h,arguments)},clearTrans:function(){h._clearTrans.apply(h,arguments)},addProduct:function(t,e,n,i,r,a,o,s,l,u){h._addProduct.apply(h,arguments)},addPromo:function(t,e,n,i){h._addPromo.apply(h,arguments)},addImpression:function(t,e,n,i,r,a,o,s){h._addImpression.apply(h,arguments)},productClick:function(t){h._productClick.apply(h,arguments)},promoClick:function(t){h._promoClick.apply(h,arguments)},trackDetail:function(){h._trackDetail.apply(h,arguments)},trackCart:function(t,e){h._trackCart.apply(h,arguments)},trackCheckout:function(t,e){h._trackCheckOut.apply(h,arguments)},trackTimings:function(t,e,n,i){h._trackTimings.apply(h,arguments)},trackTransaction:function(t,e,n,i,r,a,o,s,l){h._trackTransaction.apply(h,arguments)},trackException:function(t,e){h._trackException.apply(h,arguments)},setAction:function(t,e){h._setAction.apply(h,arguments)},pageView:function(){h._pageView.apply(h,arguments)},send:function(t){h._send.apply(h,arguments)},set:function(t,e,n){h._set.apply(h,arguments)}}}]}).directive("gaTrackEvent",["Analytics","$parse",function(r,a){return{restrict:"A",link:function(t,e,n){var i=a(n.gaTrackEvent);e.bind("click",function(){n.gaTrackEventIf&&!t.$eval(n.gaTrackEventIf)||1<i.length&&r.trackEvent.apply(r,i(t))})}}}]),q.module("angular-google-analytics")}),angular.module("ui.rCalendar.tpls",["template/rcalendar/calendar.html","template/rcalendar/day.html","template/rcalendar/month.html","template/rcalendar/week.html"]),angular.module("ui.rCalendar",["ui.rCalendar.tpls"]).constant("calendarConfig",{formatDay:"dd",formatDayHeader:"EEE",formatDayTitle:"MMMM dd, yyyy",formatWeekTitle:"MMMM yyyy, Week w",formatMonthTitle:"MMMM yyyy",formatWeekViewDayHeader:"EEE d",formatHourColumn:"ha",calendarMode:"month",showWeeks:!1,showEventDetail:!0,startingDay:0,allDayLabel:"all day",noEventsLabel:"No Events",eventSource:null,queryMode:"local",step:60}).controller("ui.rCalendar.CalendarController",["$scope","$attrs","$parse","$interpolate","$log","dateFilter","calendarConfig",function(s,n,t,i,r,e,a){"use strict";function o(t){var e,n,i,r,a,o,s,l=t.length,u=0,c=new Array(l);for(e=0;e<l;e+=1){for(i=0;i<u;i+=1)c[i]=!1;for(n=0;n<e;n+=1)r=t[e],a=t[n],s=o=void 0,s=a,((o=r).startIndex>a.startIndex||r.startIndex===a.startIndex&&r.startOffset>a.startOffset)&&(o=a,s=r),!(o.endIndex<=s.startIndex||o.endIndex-s.startIndex==1&&o.endOffset+s.startOffset>=d.hourParts)&&(c[t[n].position]=!0);for(i=0;i<u&&c[i];i+=1);t[e].position=i<u?i:u++}}var d=this,l={$setViewValue:angular.noop};if(angular.forEach(["formatDay","formatDayHeader","formatDayTitle","formatWeekTitle","formatMonthTitle","formatWeekViewDayHeader","formatHourColumn","allDayLabel","noEventsLabel"],function(t,e){d[t]=angular.isDefined(n[t])?i(n[t])(s.$parent):a[t]}),angular.forEach(["showWeeks","showEventDetail","startingDay","eventSource","queryMode","step"],function(t,e){d[t]=angular.isDefined(n[t])?s.$parent.$eval(n[t]):a[t]}),d.hourParts=1,60!==d.step&&30!==d.step&&15!==d.step)throw new Error("Invalid step parameter: "+d.step);d.hourParts=Math.floor(60/d.step);var u=s.$parent.$watch(n.eventSource,function(t){d.onEventSourceChanged(t)});s.$on("$destroy",u),s.calendarMode=s.calendarMode||a.calendarMode,angular.isDefined(n.initDate)&&(d.currentCalendarDate=s.$parent.$eval(n.initDate)),d.currentCalendarDate||(d.currentCalendarDate=new Date,n.ngModel&&!s.$parent.$eval(n.ngModel)&&t(n.ngModel).assign(s.$parent,d.currentCalendarDate)),d.init=function(t){(l=t).$render=function(){d.render()}},d.render=function(){if(l.$modelValue){var t=new Date(l.$modelValue),e=!isNaN(t);e?this.currentCalendarDate=t:r.error('"ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'),l.$setValidity("date",e)}this.refreshView()},d.refreshView=function(){this.mode&&(this.range=this._getRange(this.currentCalendarDate),this._refreshView(),this.rangeChanged())},d.split=function(t,e){for(var n=[];0<t.length;)n.push(t.splice(0,e));return n},d.onEventSourceChanged=function(t){d.eventSource=t,d._onDataLoaded&&d._onDataLoaded()},s.move=function(t){var e,n=d.mode.step,i=d.currentCalendarDate,r=i.getFullYear()+t*(n.years||0),a=i.getMonth()+t*(n.months||0),o=i.getDate()+t*(n.days||0);i.setFullYear(r,a,o),"month"===s.calendarMode&&((e=new Date(r,a+1,1)).getTime()<=i.getTime()&&(d.currentCalendarDate=new Date(e-864e5))),l.$setViewValue(d.currentCalendarDate),d.refreshView()},d.move=function(t){s.move(t)},d.rangeChanged=function(){"local"===d.queryMode?d.eventSource&&d._onDataLoaded&&d._onDataLoaded():"remote"===d.queryMode&&s.rangeChanged&&s.rangeChanged({startTime:this.range.startTime,endTime:this.range.endTime})},d.placeEvents=function(t){o(t),function(t,e){var n,i,r,a,o,s,l,u=24*e,c=new Array(u);for(t.sort(function(t,e){return e.position-t.position}),r=0;r<u;r+=1)c[r]={calculated:!1,events:[]};for(o=t.length,r=0;r<o;r+=1)for(i=(n=t[r]).startIndex*e+n.startOffset;i<n.endIndex*e-n.endOffset;)c[i].events.push(n),i+=1;for(r=0;r<o;){if(!(n=t[r]).overlapNumber){var d=n.position+1;n.overlapNumber=d;for(var h=[n];n=h.shift();)for(i=n.startIndex*e+n.startOffset;i<n.endIndex*e-n.endOffset;){if(!c[i].calculated&&(c[i].calculated=!0,c[i].events))for(s=c[i].events.length,a=0;a<s;a+=1)(l=c[i].events[a]).overlapNumber||(l.overlapNumber=d,h.push(l));i+=1}}r+=1}}(t,d.hourParts)},d.placeAllDayEvents=function(t){o(t)}}]).directive("calendar",function(){"use strict";return{restrict:"EA",replace:!0,templateUrl:"template/rcalendar/calendar.html",scope:{calendarMode:"=",rangeChanged:"&",eventSelected:"&",timeSelected:"&"},require:["calendar","?^ngModel"],controller:"ui.rCalendar.CalendarController",link:function(t,e,n,i){var r=i[0],a=i[1];a&&r.init(a),t.$on("changeDate",function(t,e){r.move(e)}),t.$on("eventSourceChanged",function(t,e){r.onEventSourceChanged(e)})}}}).directive("monthview",["dateFilter",function(v){"use strict";return{restrict:"EA",replace:!0,templateUrl:"template/rcalendar/month.html",require:["^calendar","?^ngModel"],link:function(C,t,e,n){function S(t,e){return t.allDay?1:e.allDay?-1:t.startTime.getTime()-e.startTime.getTime()}var D=n[0],f=n[1];C.showWeeks=D.showWeeks,C.showEventDetail=D.showEventDetail,C.noEventsLabel=D.noEventsLabel,C.allDayLabel=D.allDayLabel,D.mode={step:{months:1}},C.select=function(t){var e=C.rows,n=t.date,i=t.events;if(e){var r=D.currentCalendarDate,a=r.getMonth(),o=r.getFullYear(),s=n.getMonth(),l=n.getFullYear(),u=0;if(o===l?a!==s&&(u=a<s?1:-1):u=o<l?1:-1,D.currentCalendarDate=n,f&&f.$setViewValue(n),0===u)for(var c=0;c<6;c+=1)for(var d=0;d<7;d+=1){var h=0===D.compare(n,e[c][d].date);(e[c][d].selected=h)&&(C.selectedDate=e[c][d])}else D.refreshView();C.timeSelected&&C.timeSelected({selectedTime:n,events:i})}},D._refreshView=function(){for(var t=D.range.startTime,e=t.getDate(),n=(t.getMonth()+(1!==e?1:0))%12,i=t.getFullYear()+(1!==e&&0===n?1:0),r=function(t,e){var n=new Array(e),i=new Date(t),r=0;for(i.setHours(12);r<e;)n[r++]=new Date(i),i.setDate(i.getDate()+1);return n}(t,42),a=0;a<42;a++)r[a]=angular.extend((o=r[a],s=D.formatDay,{date:o,label:v(o,s),selected:0===D.compare(o,D.currentCalendarDate),current:0===D.compare(o,new Date)}),{secondary:r[a].getMonth()!==n});var o,s;C.labels=new Array(7);for(var l=0;l<7;l++)C.labels[l]=v(r[l].date,D.formatDayHeader);var u,c,d,h,f=new Date(i,n,1);if(C.$parent.title=v(f,D.formatMonthTitle),C.rows=D.split(r,7),C.showWeeks){C.weekNumbers=[];for(var p=(11-D.startingDay)%7,g=C.rows.length,m=0;m<g;m++)C.weekNumbers.push((u=C.rows[m][p].date,void 0,c=new Date(u.getFullYear(),0,1).getDay(),d=new Date(u.getFullYear(),0,(c<=4?5:12)-c),h=new Date(u.getFullYear(),u.getMonth(),u.getDate()+(4-u.getDay()))-d,1+Math.round(h/6048e5)))}},D._onDataLoaded=function(){var t,e,n=D.eventSource,i=n?n.length:0,r=D.range.startTime,a=D.range.endTime,o=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate())),s=new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate())),l=C.rows,u=!1;if(l.hasEvent)for(t=0;t<6;t+=1)for(e=0;e<7;e+=1)l[t][e].hasEvent&&(l[t][e].events=null,l[t][e].hasEvent=!1);for(var c=0;c<i;c+=1){var d,h,f,p,g,m=n[c],v=new Date(m.startTime),y=new Date(m.endTime);if(m.allDay){if(y<=o||s<=v)continue;d=o,h=s}else{if(y<=r||a<=v)continue;d=r,h=a}v<=d?p=0:(f=v-d,m.allDay||(f-=6e4*(v.getTimezoneOffset()-d.getTimezoneOffset())),p=f/864e5),h<=y?(f=h-d,m.allDay||(f-=6e4*(h.getTimezoneOffset()-d.getTimezoneOffset()))):(f=y-d,m.allDay||(f-=6e4*(y.getTimezoneOffset()-d.getTimezoneOffset()))),g=f/864e5;for(var b,_=Math.floor(p);_<g-.001;){var w=Math.floor(_/7),x=Math.floor(_%7);l[w][x].hasEvent=!0,(b=l[w][x].events)?b.push(m):((b=[]).push(m),l[w][x].events=b),_+=1}}for(t=0;t<6;t+=1)for(e=0;e<7;e+=1)l[t][e].hasEvent&&(u=!0,l[t][e].events.sort(S));l.hasEvent=u;var k=!1;for(t=0;t<6;t+=1){for(e=0;e<7;e+=1)if(l[t][e].selected){C.selectedDate=l[t][e],k=!0;break}if(k)break}},D.compare=function(t,e){return new Date(t.getFullYear(),t.getMonth(),t.getDate())-new Date(e.getFullYear(),e.getMonth(),e.getDate())},D._getRange=function(t){var e,n=t.getFullYear(),i=t.getMonth(),r=new Date(n,i,1),a=D.startingDay-r.getDay(),o=0<a?7-a:-a,s=new Date(r);return 0<o&&s.setDate(1-o),(e=new Date(s)).setDate(e.getDate()+42),{startTime:s,endTime:e}},D.refreshView()}}}]).directive("weekview",["dateFilter","$timeout",function(r,F){"use strict";return{restrict:"EA",replace:!0,templateUrl:"template/rcalendar/week.html",require:"^calendar",link:function(P,o,t,A){function R(){var t=o.children(),e=t[1].children[1],n=e.offsetWidth-e.clientWidth,i=t[2],r=i.offsetWidth-i.clientWidth,a=n||r||0;0<a&&(P.gutterWidth=a,P.allDayEventGutterWidth=n<=0?a:0,P.normalGutterWidth=r<=0?a:0)}function I(t,e){return t.startOffset-e.startOffset}P.formatWeekViewDayHeader=A.formatWeekViewDayHeader,P.formatHourColumn=A.formatHourColumn,P.allDayLabel=A.allDayLabel,F(function(){R()}),A.mode={step:{days:7}},P.hourParts=A.hourParts,P.select=function(t,e){P.timeSelected&&P.timeSelected({selectedTime:t,events:e})},A._onDataLoaded=function(){var t,e,n,i=A.eventSource,r=i?i.length:0,a=A.range.startTime,o=A.range.endTime,s=new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate())),l=new Date(Date.UTC(o.getFullYear(),o.getMonth(),o.getDate())),u=P.rows,c=P.dates,d=!1,h=!1;if(u.hasEvent){for(e=0;e<7;e+=1)for(n=0;n<24;n+=1)u[n][e].events&&(u[n][e].events=null);u.hasEvent=!1}if(c.hasEvent){for(e=0;e<7;e+=1)c[e].events&&(c[e].events=null);c.hasEvent=!1}for(var f=0;f<r;f+=1){var p=i[f],g=new Date(p.startTime),m=new Date(p.endTime);if(p.allDay){if(m<=s||l<=g)continue;var v;d=!0;var y={event:p,startIndex:v=g<=s?0:Math.floor((g-s)/864e5),endIndex:l<=m?Math.ceil((l-s)/864e5):Math.ceil((m-s)/864e5)};(t=c[v].events)?t.push(y):((t=[]).push(y),c[v].events=t)}else{if(m<=a||o<=g)continue;var b,_;h=!0,g<=a?b=0:b=(g-a-6e4*(g.getTimezoneOffset()-a.getTimezoneOffset()))/36e5,_=(o<=m?o-a-6e4*(o.getTimezoneOffset()-a.getTimezoneOffset()):m-a-6e4*(m.getTimezoneOffset()-a.getTimezoneOffset()))/36e5;var w,x=Math.floor(b),k=Math.ceil(_-.016),C=x%24,S=Math.floor(x/24),D=24*S,T=0,M=0;1!==A.hourParts&&(T=Math.floor((b-x)*A.hourParts));do{(D+=24)<=k?w=24:(w=k%24,1!==A.hourParts&&(M=Math.floor((k-_)*A.hourParts)));var $={event:p,startIndex:C,endIndex:w,startOffset:T,endOffset:M};(t=u[C][S].events)?t.push($):((t=[]).push($),u[C][S].events=t),T=C=0,S+=1}while(D<k)}}if(h)for(e=0;e<7;e+=1){var O=[];for(n=0;n<24;n+=1)u[n][e].events&&(u[n][e].events.sort(I),O=O.concat(u[n][e].events));0<O.length&&(u.hasEvent=!0,A.placeEvents(O))}if(d){var E=[];for(e=0;e<7;e+=1)c[e].events&&(E=E.concat(c[e].events));0<E.length&&(c.hasEvent=!0,A.placeAllDayEvents(E))}F(function(){R()})},A._refreshView=function(){var t,e,n=A.range.startTime,i=function(t,e){var n=new Array(e),i=new Date(t),r=0;for(i.setHours(12);r<e;)n[r++]={date:new Date(i)},i.setDate(i.getDate()+1);return n}(n,7);P.rows=function(t){for(var e,n,i=[],r=t.getHours(),a=t.getDate(),o=0;o<24;o+=1){e=[];for(var s=0;s<7;s+=1)(n=new Date(t.getTime())).setHours(r+o),n.setDate(a+s),e.push({time:n});i.push(e)}return i}(n),P.dates=i,t=A.formatWeekTitle.indexOf("w"),e=r(n,A.formatWeekTitle),-1!==t&&(e=e.replace("w",function(t){var e=new Date(t);e.setDate(e.getDate()+4-(e.getDay()||7));var n=e.getTime();return e.setMonth(0),e.setDate(1),Math.floor(Math.round((n-e)/864e5)/7)+1}(n))),P.$parent.title=e},A._getRange=function(t){var e=t.getFullYear(),n=t.getMonth(),i=t.getDate(),r=t.getDay();return{startTime:new Date(e,n,i-r),endTime:new Date(e,n,i-r+7)}},A.refreshView()}}}]).directive("dayview",["dateFilter","$timeout",function(e,T){"use strict";return{restrict:"EA",replace:!0,templateUrl:"template/rcalendar/day.html",require:"^calendar",link:function(k,o,t,C){function S(){var t=o.children(),e=t[0].children[1],n=e.offsetWidth-e.clientWidth,i=t[1],r=i.offsetWidth-i.clientWidth,a=n||r||0;0<a&&(k.allDayEventGutterWidth=n<=0?a:0,k.normalGutterWidth=r<=0?a:0)}function D(t,e){return t.startOffset-e.startOffset}k.formatHourColumn=C.formatHourColumn,k.allDayLabel=C.allDayLabel,T(function(){S()}),C.mode={step:{days:1}},k.hourParts=C.hourParts,k.select=function(t,e){k.timeSelected&&k.timeSelected({selectedTime:t,events:e})},C._onDataLoaded=function(){var t,e,n=C.eventSource,i=n?n.length:0,r=C.range.startTime,a=C.range.endTime,o=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate())),s=new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate())),l=k.rows,u=[],c=!1;if(l.hasEvent){for(e=0;e<24;e+=1)l[e].events&&(l[e].events=null);l.hasEvent=!1}for(var d=0;d<i;d+=1){var h=n[d],f=new Date(h.startTime),p=new Date(h.endTime);if(h.allDay){if(p<=o||s<=f)continue;u.push({event:h})}else{if(p<=r||a<=f)continue;var g,m;c=!0,f<=r?g=0:g=(f-r-6e4*(f.getTimezoneOffset()-r.getTimezoneOffset()))/36e5,m=(a<=p?a-r-6e4*(a.getTimezoneOffset()-r.getTimezoneOffset()):p-r-6e4*(p.getTimezoneOffset()-r.getTimezoneOffset()))/36e5;var v=Math.floor(g),y=Math.ceil(m-.016),b=0,_=0;1!==C.hourParts&&(b=Math.floor((g-v)*C.hourParts),_=Math.floor((y-m)*C.hourParts));var w={event:h,startIndex:v,endIndex:y,startOffset:b,endOffset:_};(t=l[v].events)?t.push(w):((t=[]).push(w),l[v].events=t)}}if(c){var x=[];for(e=0;e<24;e+=1)l[e].events&&(l[e].events.sort(D),x=x.concat(l[e].events));0<x.length&&(l.hasEvent=!0,C.placeEvents(x))}k.allDayEvents=u,T(function(){S()})},C._refreshView=function(){var t=C.range.startTime;k.rows=function(t){for(var e,n=[],i=t.getHours(),r=t.getDate(),a=0;a<24;a+=1)(e=new Date(t.getTime())).setHours(i+a),e.setDate(r),n.push({time:e});return n}(t),k.allDayEvents=[],k.dates=[t],k.$parent.title=e(t,C.formatDayTitle)},C._getRange=function(t){var e=t.getFullYear(),n=t.getMonth(),i=t.getDate();return{startTime:new Date(e,n,i),endTime:new Date(e,n,i+1)}},C.refreshView()}}}]),angular.module("template/rcalendar/calendar.html",[]).run(["$templateCache",function(t){t.put("template/rcalendar/calendar.html",'<div ng-switch="calendarMode">\n    <div class="row calendar-navbar">\n        <div class="nav-left col-xs-2">\n            <button type="button" class="btn btn-default btn-sm" ng-click="move(-1)"><i\n                    class="glyphicon glyphicon-chevron-left"></i></button>\n        </div>\n        <div class="calendar-header col-xs-8">{{title}}</div>\n        <div class="nav-right col-xs-2">\n            <button type="button" class="btn btn-default btn-sm" ng-click="move(1)"><i\n                    class="glyphicon glyphicon-chevron-right"></i></button>\n        </div>\n    </div>\n    <dayview ng-switch-when="day"></dayview>\n    <monthview ng-switch-when="month"></monthview>\n    <weekview ng-switch-when="week"></weekview>\n</div>\n')}]),angular.module("template/rcalendar/day.html",[]).run(["$templateCache",function(t){t.put("template/rcalendar/day.html",'<div>\n    <div class="dayview-allday-table">\n        <div class="dayview-allday-label">\n            {{allDayLabel}}\n        </div>\n        <div class="dayview-allday-content-wrapper">\n            <table class="table table-bordered dayview-allday-content-table">\n                <tbody>\n                <tr>\n                    <td class="calendar-cell" ng-class="{\'calendar-event-wrap\':allDayEvents}"\n                        ng-style="{height: 25*allDayEvents.length+\'px\'}">\n                        <div ng-repeat="displayEvent in allDayEvents" class="calendar-event"\n                             ng-click="eventSelected({event:displayEvent.event})"\n                             ng-style="{top: 25*$index+\'px\',width: \'100%\',height:\'25px\'}">\n                            <div class="calendar-event-inner">{{displayEvent.event.title}}</div>\n                        </div>\n                    </td>\n                    <td ng-if="allDayEventGutterWidth>0" class="gutter-column"\n                        ng-style="{width:allDayEventGutterWidth+\'px\'}"></td>\n                </tr>\n                </tbody>\n            </table>\n        </div>\n    </div>\n    <div class="scrollable" style="height: 400px">\n        <table class="table table-bordered table-fixed">\n            <tbody>\n            <tr ng-repeat="tm in rows track by $index">\n                <td class="calendar-hour-column text-center">\n                    {{tm.time | date: formatHourColumn}}\n                </td>\n                <td class="calendar-cell" ng-click="select(tm.time, tm.events)">\n                    <div ng-class="{\'calendar-event-wrap\': tm.events}" ng-if="tm.events">\n                        <div ng-repeat="displayEvent in tm.events" class="calendar-event"\n                             ng-click="eventSelected({event:displayEvent.event})"\n'+"                             ng-style=\"{top: (37*displayEvent.startOffset/hourParts)+'px', left: 100/displayEvent.overlapNumber*displayEvent.position+'%', width: 100/displayEvent.overlapNumber+'%', height: 37*(displayEvent.endIndex -displayEvent.startIndex - (displayEvent.endOffset + displayEvent.startOffset)/hourParts)+'px'}\">                            <div class=\"calendar-event-inner\">{{displayEvent.event.title}}</div>\n                        </div>\n                    </div>\n                </td>\n            </tr>\n            </tbody>\n        </table>\n    </div>\n</div>")}]),angular.module("template/rcalendar/month.html",[]).run(["$templateCache",function(t){t.put("template/rcalendar/month.html",'<div>\n    <table class="table table-bordered table-fixed monthview-datetable monthview-datetable">\n        <thead>\n        <tr>\n            <th ng-show="showWeeks" class="calendar-week-column text-center">#</th>\n            <th ng-repeat="label in labels track by $index" class="text-center">\n                <small>{{label}}</small>\n            </th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr ng-repeat="row in rows track by $index">\n            <td ng-show="showWeeks" class="calendar-week-column text-center">\n                <small><em>{{ weekNumbers[$index] }}</em></small>\n            </td>\n            <td ng-repeat="dt in row track by dt.date" class="monthview-dateCell" ng-click="select(dt)"\n                ng-class="{\'text-center\':true, \'monthview-current\': dt.current&&!dt.selected&&!dt.hasEvent,\'monthview-secondary-with-event\': dt.secondary&&dt.hasEvent, \'monthview-primary-with-event\':!dt.secondary&&dt.hasEvent&&!dt.selected, \'monthview-selected\': dt.selected}">\n                <div ng-class="{\'text-muted\':dt.secondary}">\n                    {{dt.label}}\n                </div>\n            </td>\n        </tr>\n        </tbody>\n    </table>\n    <div ng-if="showEventDetail" class="event-detail-container">\n        <div class="scrollable" style="height: 200px">\n            <table class="table table-bordered table-striped table-fixed">\n                <tr ng-repeat="event in selectedDate.events" ng-if="selectedDate.events">\n                    <td ng-if="!event.allDay" class="monthview-eventdetail-timecolumn">{{event.startTime|date: \'HH:mm\'}}\n                        -\n                        {{event.endTime|date: \'HH:mm\'}}\n                    </td>\n                    <td ng-if="event.allDay" class="monthview-eventdetail-timecolumn">{{allDayLabel}}</td>\n                    <td class="event-detail" ng-click="eventSelected({event:event})">{{event.title}}</td>\n                </tr>\n                <tr ng-if="!selectedDate.events"><td class="no-event-label">{{noEventsLabel}}</td></tr>\n            </table>\n        </div>\n    </div>\n</div>')}]),angular.module("template/rcalendar/week.html",[]).run(["$templateCache",function(t){t.put("template/rcalendar/week.html",'<div>\n    <table class="table table-bordered table-fixed weekview-header">\n        <thead>\n        <tr>\n            <th class="calendar-hour-column"></th>\n            <th ng-repeat="dt in dates" class="text-center weekview-header-label">{{dt.date| date:\n                formatWeekViewDayHeader}}\n            </th>\n            <th ng-if="gutterWidth>0" class="gutter-column" ng-style="{width: gutterWidth+\'px\'}"></th>\n        </tr>\n        </thead>\n    </table>\n    <div class="weekview-allday-table">\n        <div class="weekview-allday-label">\n            {{allDayLabel}}\n        </div>\n        <div class="weekview-allday-content-wrapper">\n            <table class="table table-bordered table-fixed weekview-allday-content-table">\n                <tbody>\n                <tr>\n                    <td ng-repeat="day in dates track by day.date" class="calendar-cell">\n                        <div ng-class="{\'calendar-event-wrap\': day.events}" ng-if="day.events"\n                             ng-style="{height: 25*day.events.length+\'px\'}">\n                            <div ng-repeat="displayEvent in day.events" class="calendar-event"\n                                 ng-click="eventSelected({event:displayEvent.event})"\n                                 ng-style="{top: 25*displayEvent.position+\'px\', width: 100*(displayEvent.endIndex-displayEvent.startIndex)+\'%\', height: \'25px\'}">\n                                <div class="calendar-event-inner">{{displayEvent.event.title}}</div>\n                            </div>\n                        </div>\n                    </td>\n                    <td ng-if="allDayEventGutterWidth>0" class="gutter-column"\n                        ng-style="{width: allDayEventGutterWidth+\'px\'}"></td>\n                </tr>\n                </tbody>\n            </table>\n        </div>\n    </div>\n    <div class="scrollable" style="height: 400px">\n        <table class="table table-bordered table-fixed">\n            <tbody>\n            <tr ng-repeat="row in rows track by $index">\n                <td class="calendar-hour-column text-center">\n                    {{row[0].time | date: formatHourColumn}}\n                </td>\n                <td ng-repeat="tm in row track by tm.time" class="calendar-cell" ng-click="select(tm.time, tm.events)">\n                    <div ng-class="{\'calendar-event-wrap\': tm.events}" ng-if="tm.events">\n                        <div ng-repeat="displayEvent in tm.events" class="calendar-event"\n                             ng-click="eventSelected({event:displayEvent.event})"\n                             ng-style="{top: (37*displayEvent.startOffset/hourParts)+\'px\',left: 100/displayEvent.overlapNumber*displayEvent.position+\'%\', width: 100/displayEvent.overlapNumber+\'%\', height: 37*(displayEvent.endIndex -displayEvent.startIndex - (displayEvent.endOffset + displayEvent.startOffset)/hourParts)+\'px\'}">                            <div class="calendar-event-inner">{{displayEvent.event.title}}</div>\n                        </div>\n                    </div>\n                </td>\n                <td ng-if="normalGutterWidth>0" class="gutter-column" ng-style="{width: normalGutterWidth+\'px\'}"></td>\n            </tr>\n            </tbody>\n        </table>\n    </div>\n</div>')}]),angular.module("ui.bootstrap",["ui.bootstrap.collapse","ui.bootstrap.tabindex","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.isClass","ui.bootstrap.datepicker","ui.bootstrap.position","ui.bootstrap.datepickerPopup","ui.bootstrap.debounce","ui.bootstrap.multiMap","ui.bootstrap.dropdown","ui.bootstrap.stackedMap","ui.bootstrap.modal","ui.bootstrap.paging","ui.bootstrap.pager","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.collapse",[]).directive("uibCollapse",["$animate","$q","$parse","$injector",function(f,p,g,t){var m=t.has("$animateCss")?t.get("$animateCss"):null;return{link:function(e,n,t){function i(t){return c?{width:t.scrollWidth+"px"}:{height:t.scrollHeight+"px"}}function r(){n.removeClass("collapsing").addClass("collapse").css(d),s(e)}function a(){n.css(h),n.removeClass("collapsing").addClass("collapse"),u(e)}var o=g(t.expanding),s=g(t.expanded),l=g(t.collapsing),u=g(t.collapsed),c=!1,d={},h={};(c=!!("horizontal"in t))?(d={width:""},h={width:"0"}):(d={height:""},h={height:"0"}),e.$eval(t.uibCollapse)||n.addClass("in").addClass("collapse").attr("aria-expanded",!0).attr("aria-hidden",!1).css(d),e.$watch(t.uibCollapse,function(t){t?n.hasClass("collapse")||n.hasClass("in")?p.resolve(l(e)).then(function(){n.css(i(n[0])).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),m?m(n,{removeClass:"in",to:h}).start().finally(a):f.removeClass(n,"in",{to:h}).then(a)},angular.noop):a():n.hasClass("collapse")&&n.hasClass("in")||p.resolve(o(e)).then(function(){n.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),m?m(n,{addClass:"in",easing:"ease",css:{overflow:"hidden"},to:i(n[0])}).start().finally(r):f.addClass(n,"in",{css:{overflow:"hidden"},to:i(n[0])}).then(r)},angular.noop)})}}}]),angular.module("ui.bootstrap.tabindex",[]).directive("uibTabindexToggle",function(){return{restrict:"A",link:function(t,e,n){n.$observe("disabled",function(t){n.$set("tabindex",t?-1:null)})}}}),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse","ui.bootstrap.tabindex"]).constant("uibAccordionConfig",{closeOthers:!0}).controller("UibAccordionController",["$scope","$attrs","uibAccordionConfig",function(t,n,i){this.groups=[],this.closeOthers=function(e){(angular.isDefined(n.closeOthers)?t.$eval(n.closeOthers):i.closeOthers)&&angular.forEach(this.groups,function(t){t!==e&&(t.isOpen=!1)})},this.addGroup=function(e){var n=this;this.groups.push(e),e.$on("$destroy",function(t){n.removeGroup(e)})},this.removeGroup=function(t){var e=this.groups.indexOf(t);-1!==e&&this.groups.splice(e,1)}}]).directive("uibAccordion",function(){return{controller:"UibAccordionController",controllerAs:"accordion",transclude:!0,templateUrl:function(t,e){return e.templateUrl||"uib/template/accordion/accordion.html"}}}).directive("uibAccordionGroup",function(){return{require:"^uibAccordion",transclude:!0,restrict:"A",templateUrl:function(t,e){return e.templateUrl||"uib/template/accordion/accordion-group.html"},scope:{heading:"@",panelClass:"@?",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(t){this.heading=t}},link:function(e,n,t,i){n.addClass("panel"),i.addGroup(e),e.openClass=t.openClass||"panel-open",e.panelClass=t.panelClass||"panel-default",e.$watch("isOpen",function(t){n.toggleClass(e.openClass,!!t),t&&i.closeOthers(e)}),e.toggleOpen=function(t){e.isDisabled||t&&32!==t.which||(e.isOpen=!e.isOpen)};var r="accordiongroup-"+e.$id+"-"+Math.floor(1e4*Math.random());e.headingId=r+"-tab",e.panelId=r+"-panel"}}}).directive("uibAccordionHeading",function(){return{transclude:!0,template:"",replace:!0,require:"^uibAccordionGroup",link:function(t,e,n,i,r){i.setHeading(r(t,angular.noop))}}}).directive("uibAccordionTransclude",function(){return{require:"^uibAccordionGroup",link:function(t,n,e,i){t.$watch(function(){return i[e.uibAccordionTransclude]},function(t){if(t){var e=angular.element(n[0].querySelector("uib-accordion-header,data-uib-accordion-header,x-uib-accordion-header,uib\\:accordion-header,[uib-accordion-header],[data-uib-accordion-header],[x-uib-accordion-header]"));e.html(""),e.append(t)}})}}}),angular.module("ui.bootstrap.alert",[]).controller("UibAlertController",["$scope","$element","$attrs","$interpolate","$timeout",function(t,e,n,i,r){t.closeable=!!n.close,e.addClass("alert"),n.$set("role","alert"),t.closeable&&e.addClass("alert-dismissible");var a=angular.isDefined(n.dismissOnTimeout)?i(n.dismissOnTimeout)(t.$parent):null;a&&r(function(){t.close()},parseInt(a,10))}]).directive("uibAlert",function(){return{controller:"UibAlertController",controllerAs:"alert",restrict:"A",templateUrl:function(t,e){return e.templateUrl||"uib/template/alert/alert.html"},transclude:!0,scope:{close:"&"}}}),angular.module("ui.bootstrap.buttons",[]).constant("uibButtonConfig",{activeClass:"active",toggleEvent:"click"}).controller("UibButtonsController",["uibButtonConfig",function(t){this.activeClass=t.activeClass||"active",this.toggleEvent=t.toggleEvent||"click"}]).directive("uibBtnRadio",["$parse",function(s){return{require:["uibBtnRadio","ngModel"],controller:"UibButtonsController",controllerAs:"buttons",link:function(e,n,i,t){var r=t[0],a=t[1],o=s(i.uibUncheckable);n.find("input").css({display:"none"}),a.$render=function(){n.toggleClass(r.activeClass,angular.equals(a.$modelValue,e.$eval(i.uibBtnRadio)))},n.on(r.toggleEvent,function(){if(!i.disabled){var t=n.hasClass(r.activeClass);t&&!angular.isDefined(i.uncheckable)||e.$apply(function(){a.$setViewValue(t?null:e.$eval(i.uibBtnRadio)),a.$render()})}}),i.uibUncheckable&&e.$watch(o,function(t){i.$set("uncheckable",t?"":void 0)})}}}]).directive("uibBtnCheckbox",function(){return{require:["uibBtnCheckbox","ngModel"],controller:"UibButtonsController",controllerAs:"button",link:function(n,t,e,i){function r(){return a(e.btnCheckboxTrue,!0)}function a(t,e){return angular.isDefined(t)?n.$eval(t):e}var o=i[0],s=i[1];t.find("input").css({display:"none"}),s.$render=function(){t.toggleClass(o.activeClass,angular.equals(s.$modelValue,r()))},t.on(o.toggleEvent,function(){e.disabled||n.$apply(function(){s.$setViewValue(t.hasClass(o.activeClass)?a(e.btnCheckboxFalse,!1):r()),s.$render()})})}}}),angular.module("ui.bootstrap.carousel",[]).controller("UibCarouselController",["$scope","$element","$interval","$timeout","$animate",function(r,a,e,t,o){function s(t){for(var e=0;e<f.length;e++)f[e].slide.active=e===t}function i(t){for(var e=0;e<f.length;e++)if(f[e].slide===t)return e}function n(){c&&(e.cancel(c),c=null)}function l(){n();var t=+r.interval;!isNaN(t)&&0<t&&(c=e(u,t))}function u(){var t=+r.interval;d&&!isNaN(t)&&0<t&&f.length?r.next():r.pause()}var c,d,h=this,f=h.slides=r.slides=[],p="uib-slideDirection",g=r.active,m=!1;a.addClass("carousel"),h.addSlide=function(t,e){f.push({slide:t,element:e}),f.sort(function(t,e){return+t.slide.index-+e.slide.index}),(t.index===r.active||1===f.length&&!angular.isNumber(r.active))&&(r.$currentTransition&&(r.$currentTransition=null),g=t.index,r.active=t.index,s(g),h.select(f[i(t)]),1===f.length&&r.play())},h.getCurrentIndex=function(){for(var t=0;t<f.length;t++)if(f[t].slide.index===g)return t},h.next=r.next=function(){var t=(h.getCurrentIndex()+1)%f.length;return 0===t&&r.noWrap()?void r.pause():h.select(f[t],"next")},h.prev=r.prev=function(){var t=h.getCurrentIndex()-1<0?f.length-1:h.getCurrentIndex()-1;return r.noWrap()&&t===f.length-1?void r.pause():h.select(f[t],"prev")},h.removeSlide=function(t){var e=i(t);f.splice(e,1),0<f.length&&g===e?e>=f.length?(g=f.length-1,s(r.active=g),h.select(f[f.length-1])):(g=e,s(r.active=g),h.select(f[e])):e<g&&(g--,r.active=g),0===f.length&&(g=null,r.active=null)},h.select=r.select=function(t,e){var n=i(t.slide);void 0===e&&(e=n>h.getCurrentIndex()?"next":"prev"),t.slide.index===g||r.$currentTransition||function(t,e,n){if(!m){if(angular.extend(t,{direction:n}),angular.extend(f[g].slide||{},{direction:n}),o.enabled(a)&&!r.$currentTransition&&f[e].element&&1<h.slides.length){f[e].element.data(p,t.direction);var i=h.getCurrentIndex();angular.isNumber(i)&&f[i].element&&f[i].element.data(p,t.direction),r.$currentTransition=!0,o.on("addClass",f[e].element,function(t,e){"close"===e&&(r.$currentTransition=null,o.off("addClass",t))})}r.active=t.index,g=t.index,s(e),l()}}(t.slide,n,e)},r.indexOfSlide=function(t){return+t.slide.index},r.isActive=function(t){return r.active===t.slide.index},r.isPrevDisabled=function(){return 0===r.active&&r.noWrap()},r.isNextDisabled=function(){return r.active===f.length-1&&r.noWrap()},r.pause=function(){r.noPause||(d=!1,n())},r.play=function(){d||(d=!0,l())},a.on("mouseenter",r.pause),a.on("mouseleave",r.play),r.$on("$destroy",function(){m=!0,n()}),r.$watch("noTransition",function(t){o.enabled(a,!t)}),r.$watch("interval",l),r.$watchCollection("slides",function(t){t.length||(r.$currentTransition=null)}),r.$watch("active",function(t){if(angular.isNumber(t)&&g!==t){for(var e=0;e<f.length;e++)if(f[e].slide.index===t){t=e;break}f[t]&&(s(t),h.select(f[t]),g=t)}})}]).directive("uibCarousel",function(){return{transclude:!0,controller:"UibCarouselController",controllerAs:"carousel",restrict:"A",templateUrl:function(t,e){return e.templateUrl||"uib/template/carousel/carousel.html"},scope:{active:"=",interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}).directive("uibSlide",["$animate",function(r){return{require:"^uibCarousel",restrict:"A",transclude:!0,templateUrl:function(t,e){return e.templateUrl||"uib/template/carousel/slide.html"},scope:{actual:"=?",index:"=?"},link:function(t,e,n,i){e.addClass("item"),i.addSlide(t,e),t.$on("$destroy",function(){i.removeSlide(t)}),t.$watch("active",function(t){r[t?"addClass":"removeClass"](e,"active")})}}}]).animation(".item",["$animateCss",function(o){function s(t,e,n){t.removeClass(e),n&&n()}var l="uib-slideDirection";return{beforeAddClass:function(t,e,n){if("active"===e){var i=t.data(l),r="next"===i?"left":"right",a=s.bind(this,t,r+" "+i,n);return t.addClass(i),o(t,{addClass:r}).start().done(a),function(){!0}}n()},beforeRemoveClass:function(t,e,n){if("active"===e){var i="next"===t.data(l)?"left":"right",r=s.bind(this,t,i,n);return o(t,{addClass:i}).start().done(r),function(){!0}}n()}}}]),angular.module("ui.bootstrap.dateparser",[]).service("uibDateParser",["$log","$locale","dateFilter","orderByFilter","filterFilter",function(y,b,n,_,e){function i(t){return e(x,{key:t},!0)[0]}function a(t,e,n){return function(){return t.substr(e+1,n-e-1)}}function o(t,e){for(var n=t.substr(e),i=0;i<x.length;i++)if(new RegExp("^"+x[i].key).test(n)){var r=x[i];return{endIdx:e+r.key.length,parser:r.formatter}}return{endIdx:e+1,parser:function(){return n.charAt(0)}}}function s(t){return parseInt(t,10)}function r(t,e){t=t.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function l(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}function u(t,e,n){n=n?-1:1;var i=t.getTimezoneOffset();return l(t,n*(r(e,i)-i))}var w,x,k=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.init=function(){w=b.id,this.parsers={},this.formatters={},x=[{key:"yyyy",regex:"\\d{4}",apply:function(t){this.year=+t},formatter:function(t){var e=new Date;return e.setFullYear(Math.abs(t.getFullYear())),n(e,"yyyy")}},{key:"yy",regex:"\\d{2}",apply:function(t){t=+t,this.year=t<69?t+2e3:t+1900},formatter:function(t){var e=new Date;return e.setFullYear(Math.abs(t.getFullYear())),n(e,"yy")}},{key:"y",regex:"\\d{1,4}",apply:function(t){this.year=+t},formatter:function(t){var e=new Date;return e.setFullYear(Math.abs(t.getFullYear())),n(e,"y")}},{key:"M!",regex:"0?[1-9]|1[0-2]",apply:function(t){this.month=t-1},formatter:function(t){var e=t.getMonth();return/^[0-9]$/.test(e)?n(t,"MM"):n(t,"M")}},{key:"MMMM",regex:b.DATETIME_FORMATS.MONTH.join("|"),apply:function(t){this.month=b.DATETIME_FORMATS.MONTH.indexOf(t)},formatter:function(t){return n(t,"MMMM")}},{key:"MMM",regex:b.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(t){this.month=b.DATETIME_FORMATS.SHORTMONTH.indexOf(t)},formatter:function(t){return n(t,"MMM")}},{key:"MM",regex:"0[1-9]|1[0-2]",apply:function(t){this.month=t-1},formatter:function(t){return n(t,"MM")}},{key:"M",regex:"[1-9]|1[0-2]",apply:function(t){this.month=t-1},formatter:function(t){return n(t,"M")}},{key:"d!",regex:"[0-2]?[0-9]{1}|3[0-1]{1}",apply:function(t){this.date=+t},formatter:function(t){var e=t.getDate();return/^[1-9]$/.test(e)?n(t,"dd"):n(t,"d")}},{key:"dd",regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(t){this.date=+t},formatter:function(t){return n(t,"dd")}},{key:"d",regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(t){this.date=+t},formatter:function(t){return n(t,"d")}},{key:"EEEE",regex:b.DATETIME_FORMATS.DAY.join("|"),formatter:function(t){return n(t,"EEEE")}},{key:"EEE",regex:b.DATETIME_FORMATS.SHORTDAY.join("|"),formatter:function(t){return n(t,"EEE")}},{key:"HH",regex:"(?:0|1)[0-9]|2[0-3]",apply:function(t){this.hours=+t},formatter:function(t){return n(t,"HH")}},{key:"hh",regex:"0[0-9]|1[0-2]",apply:function(t){this.hours=+t},formatter:function(t){return n(t,"hh")}},{key:"H",regex:"1?[0-9]|2[0-3]",apply:function(t){this.hours=+t},formatter:function(t){return n(t,"H")}},{key:"h",regex:"[0-9]|1[0-2]",apply:function(t){this.hours=+t},formatter:function(t){return n(t,"h")}},{key:"mm",regex:"[0-5][0-9]",apply:function(t){this.minutes=+t},formatter:function(t){return n(t,"mm")}},{key:"m",regex:"[0-9]|[1-5][0-9]",apply:function(t){this.minutes=+t},formatter:function(t){return n(t,"m")}},{key:"sss",regex:"[0-9][0-9][0-9]",apply:function(t){this.milliseconds=+t},formatter:function(t){return n(t,"sss")}},{key:"ss",regex:"[0-5][0-9]",apply:function(t){this.seconds=+t},formatter:function(t){return n(t,"ss")}},{key:"s",regex:"[0-9]|[1-5][0-9]",apply:function(t){this.seconds=+t},formatter:function(t){return n(t,"s")}},{key:"a",regex:b.DATETIME_FORMATS.AMPMS.join("|"),apply:function(t){12===this.hours&&(this.hours=0),"PM"===t&&(this.hours+=12)},formatter:function(t){return n(t,"a")}},{key:"Z",regex:"[+-]\\d{4}",apply:function(t){var e=t.match(/([+-])(\d{2})(\d{2})/),n=e[1],i=e[2],r=e[3];this.hours+=s(n+i),this.minutes+=s(n+r)},formatter:function(t){return n(t,"Z")}},{key:"ww",regex:"[0-4][0-9]|5[0-3]",formatter:function(t){return n(t,"ww")}},{key:"w",regex:"[0-9]|[1-4][0-9]|5[0-3]",formatter:function(t){return n(t,"w")}},{key:"GGGG",regex:b.DATETIME_FORMATS.ERANAMES.join("|").replace(/\s/g,"\\s"),formatter:function(t){return n(t,"GGGG")}},{key:"GGG",regex:b.DATETIME_FORMATS.ERAS.join("|"),formatter:function(t){return n(t,"GGG")}},{key:"GG",regex:b.DATETIME_FORMATS.ERAS.join("|"),formatter:function(t){return n(t,"GG")}},{key:"G",regex:b.DATETIME_FORMATS.ERAS.join("|"),formatter:function(t){return n(t,"G")}}],1<=angular.version.major&&4<angular.version.minor&&x.push({key:"LLLL",regex:b.DATETIME_FORMATS.STANDALONEMONTH.join("|"),apply:function(t){this.month=b.DATETIME_FORMATS.STANDALONEMONTH.indexOf(t)},formatter:function(t){return n(t,"LLLL")}})},this.init(),this.getParser=function(t){var e=i(t);return e&&e.apply||null},this.overrideParser=function(t,e){var n=i(t);n&&angular.isFunction(e)&&(this.parsers={},n.apply=e)}.bind(this),this.filter=function(n,t){return angular.isDate(n)&&!isNaN(n)&&t?(t=b.DATETIME_FORMATS[t]||t,b.id!==w&&this.init(),this.formatters[t]||(this.formatters[t]=function(t){for(var e,n,i=[],r=0;r<t.length;)if(angular.isNumber(n)){if("'"===t.charAt(r))(r+1>=t.length||"'"!==t.charAt(r+1))&&(i.push(a(t,n,r)),n=null);else if(r===t.length)for(;n<t.length;)e=o(t,n),i.push(e),n=e.endIdx;r++}else"'"!==t.charAt(r)?(e=o(t,r),i.push(e.parser),r=e.endIdx):(n=r,r++);return i}(t)),this.formatters[t].reduce(function(t,e){return t+e(n)},"")):""},this.parse=function(t,e,n){if(!angular.isString(t)||!e)return t;e=(e=b.DATETIME_FORMATS[e]||e).replace(k,"\\$&"),b.id!==w&&this.init(),this.parsers[e]||(this.parsers[e]=function(r){var a=[],o=r.split(""),t=r.indexOf("'");if(-1<t){var e=!1;r=r.split("");for(var n=t;n<r.length;n++)e?("'"===r[n]&&(n+1<r.length&&"'"===r[n+1]?(r[n+1]="$",o[n+1]=""):(o[n]="",e=!1)),r[n]="$"):"'"===r[n]&&(r[n]="$",e=!(o[n]=""));r=r.join("")}return angular.forEach(x,function(t){var e=r.indexOf(t.key);if(-1<e){r=r.split(""),o[e]="("+t.regex+")",r[e]="$";for(var n=e+1,i=e+t.key.length;n<i;n++)o[n]="",r[n]="$";r=r.join(""),a.push({index:e,key:t.key,apply:t.apply,matcher:t.regex})}}),{regex:new RegExp("^"+o.join("")+"$"),map:_(a,"index")}}(e));var i,r,a,o=this.parsers[e],s=o.regex,l=o.map,u=t.match(s),c=!1;if(u&&u.length){var d,h;angular.isDate(n)&&!isNaN(n.getTime())?d={year:n.getFullYear(),month:n.getMonth(),date:n.getDate(),hours:n.getHours(),minutes:n.getMinutes(),seconds:n.getSeconds(),milliseconds:n.getMilliseconds()}:(n&&y.warn("dateparser:","baseDate is not a valid date"),d={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0});for(var f=1,p=u.length;f<p;f++){var g=l[f-1];"Z"===g.matcher&&(c=!0),g.apply&&g.apply.call(d,u[f])}var m=c?Date.prototype.setUTCFullYear:Date.prototype.setFullYear,v=c?Date.prototype.setUTCHours:Date.prototype.setHours;return i=d.year,r=d.month,!((a=d.date)<1)&&(1===r&&28<a?29===a&&(i%4==0&&i%100!=0||i%400==0):3!==r&&5!==r&&8!==r&&10!==r||a<31)&&(!angular.isDate(n)||isNaN(n.getTime())||c?(h=new Date(0),m.call(h,d.year,d.month,d.date),v.call(h,d.hours||0,d.minutes||0,d.seconds||0,d.milliseconds||0)):(h=new Date(n),m.call(h,d.year,d.month,d.date),v.call(h,d.hours,d.minutes,d.seconds,d.milliseconds))),h}},this.toTimezone=function(t,e){return t&&e?u(t,e):t},this.fromTimezone=function(t,e){return t&&e?u(t,e,!0):t},this.timezoneToOffset=r,this.addDateMinutes=l,this.convertTimezoneToLocal=u}]),angular.module("ui.bootstrap.isClass",[]).directive("uibIsClass",["$animate",function(c){var o=/^\s*([\s\S]+?)\s+on\s+([\s\S]+?)\s*$/,d=/^\s*([\s\S]+?)\s+for\s+([\s\S]+?)\s*$/;return{restrict:"A",compile:function(t,e){function i(t){var e=t.targetScope,n=r.indexOf(e);if(r.splice(n,1),s.splice(n,1),r.length){var i=r[0];angular.forEach(l,function(t){t.scope===e&&(t.watcher=i.$watch(t.compareWithExp,t.watchFn),t.scope=i)})}else l={}}var r=[],s=[],l={},n=e.uibIsClass.match(o),u=n[2],a=n[1].split(",");return function(n,t,e){r.push(n),s.push({scope:n,element:t}),a.forEach(function(t,e){!function(t,e){var n=t.match(d),r=e.$eval(n[1]),i=n[2],a=l[t];if(!a){var o=function(n){var i=null;s.some(function(t){var e=t.scope.$eval(u);return e===n?(i=t,!0):void 0}),a.lastActivated!==i&&(a.lastActivated&&c.removeClass(a.lastActivated.element,r),i&&c.addClass(i.element,r),a.lastActivated=i)};l[t]=a={lastActivated:null,scope:e,watchFn:o,compareWithExp:i,watcher:e.$watch(i,o)}}a.watchFn(e.$eval(i))}(t,n)}),n.$on("$destroy",i)}}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.isClass"]).value("$datepickerSuppressError",!1).value("$datepickerLiteralWarning",!0).constant("uibDatepickerConfig",{datepickerMode:"day",formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",maxDate:null,maxMode:"year",minDate:null,minMode:"day",monthColumns:3,ngModelOptions:{},shortcutPropagation:!1,showWeeks:!0,yearColumns:5,yearRows:4}).controller("UibDatepickerController",["$scope","$element","$attrs","$parse","$interpolate","$locale","$log","dateFilter","uibDatepickerConfig","$datepickerLiteralWarning","$datepickerSuppressError","uibDateParser",function(o,t,e,n,i,r,a,s,l,u,c,d){function h(t){o.datepickerMode=t,o.datepickerOptions.datepickerMode=t}var f=this,p={$setViewValue:angular.noop},g={},m=[];t.addClass("uib-datepicker"),e.$set("role","application"),o.datepickerOptions||(o.datepickerOptions={}),this.modes=["day","month","year"],["customClass","dateDisabled","datepickerMode","formatDay","formatDayHeader","formatDayTitle","formatMonth","formatMonthTitle","formatYear","maxDate","maxMode","minDate","minMode","monthColumns","showWeeks","shortcutPropagation","startingDay","yearColumns","yearRows"].forEach(function(e){switch(e){case"customClass":case"dateDisabled":o[e]=o.datepickerOptions[e]||angular.noop;break;case"datepickerMode":o.datepickerMode=angular.isDefined(o.datepickerOptions.datepickerMode)?o.datepickerOptions.datepickerMode:l.datepickerMode;break;case"formatDay":case"formatDayHeader":case"formatDayTitle":case"formatMonth":case"formatMonthTitle":case"formatYear":f[e]=angular.isDefined(o.datepickerOptions[e])?i(o.datepickerOptions[e])(o.$parent):l[e];break;case"monthColumns":case"showWeeks":case"shortcutPropagation":case"yearColumns":case"yearRows":f[e]=angular.isDefined(o.datepickerOptions[e])?o.datepickerOptions[e]:l[e];break;case"startingDay":angular.isDefined(o.datepickerOptions.startingDay)?f.startingDay=o.datepickerOptions.startingDay:angular.isNumber(l.startingDay)?f.startingDay=l.startingDay:f.startingDay=(r.DATETIME_FORMATS.FIRSTDAYOFWEEK+8)%7;break;case"maxDate":case"minDate":o.$watch("datepickerOptions."+e,function(t){t?angular.isDate(t)?f[e]=d.fromTimezone(new Date(t),g.getOption("timezone")):(u&&a.warn("Literal date support has been deprecated, please switch to date object usage"),f[e]=new Date(s(t,"medium"))):f[e]=l[e]?d.fromTimezone(new Date(l[e]),g.getOption("timezone")):null,f.refreshView()});break;case"maxMode":case"minMode":o.datepickerOptions[e]?o.$watch(function(){return o.datepickerOptions[e]},function(t){f[e]=o[e]=angular.isDefined(t)?t:o.datepickerOptions[e],("minMode"===e&&f.modes.indexOf(o.datepickerOptions.datepickerMode)<f.modes.indexOf(f[e])||"maxMode"===e&&f.modes.indexOf(o.datepickerOptions.datepickerMode)>f.modes.indexOf(f[e]))&&(o.datepickerMode=f[e],o.datepickerOptions.datepickerMode=f[e])}):f[e]=o[e]=l[e]||null}}),o.uniqueId="datepicker-"+o.$id+"-"+Math.floor(1e4*Math.random()),o.disabled=angular.isDefined(e.disabled)||!1,angular.isDefined(e.ngDisabled)&&m.push(o.$parent.$watch(e.ngDisabled,function(t){o.disabled=t,f.refreshView()})),o.isActive=function(t){return 0===f.compare(t.date,f.activeDate)&&(o.activeDateId=t.uid,!0)},this.init=function(t){g=function(t){var e;if(angular.version.minor<6)(e=t.$options||o.datepickerOptions.ngModelOptions||l.ngModelOptions||{}).getOption=function(t){return e[t]};else{var n=t.$options.getOption("timezone")||(o.datepickerOptions.ngModelOptions?o.datepickerOptions.ngModelOptions.timezone:null)||(l.ngModelOptions?l.ngModelOptions.timezone:null);e=t.$options.createChild(l.ngModelOptions).createChild(o.datepickerOptions.ngModelOptions).createChild(t.$options).createChild({timezone:n})}return e}(p=t),o.datepickerOptions.initDate?(f.activeDate=d.fromTimezone(o.datepickerOptions.initDate,g.getOption("timezone"))||new Date,o.$watch("datepickerOptions.initDate",function(t){t&&(p.$isEmpty(p.$modelValue)||p.$invalid)&&(f.activeDate=d.fromTimezone(t,g.getOption("timezone")),f.refreshView())})):f.activeDate=new Date;var e=p.$modelValue?new Date(p.$modelValue):new Date;this.activeDate=isNaN(e)?d.fromTimezone(new Date,g.getOption("timezone")):d.fromTimezone(e,g.getOption("timezone")),p.$render=function(){f.render()}},this.render=function(){if(p.$viewValue){var t=new Date(p.$viewValue);!isNaN(t)?this.activeDate=d.fromTimezone(t,g.getOption("timezone")):c||a.error('Datepicker directive: "ng-model" value must be a Date object')}this.refreshView()},this.refreshView=function(){if(this.element){o.selectedDt=null,this._refreshView(),o.activeDt&&(o.activeDateId=o.activeDt.uid);var t=p.$viewValue?new Date(p.$viewValue):null;t=d.fromTimezone(t,g.getOption("timezone")),p.$setValidity("dateDisabled",!t||this.element&&!this.isDisabled(t))}},this.createDateObject=function(t,e){var n=p.$viewValue?new Date(p.$viewValue):null;n=d.fromTimezone(n,g.getOption("timezone"));var i=new Date;i=d.fromTimezone(i,g.getOption("timezone"));var r=this.compare(t,i),a={date:t,label:d.filter(t,e),selected:n&&0===this.compare(t,n),disabled:this.isDisabled(t),past:r<0,current:0===r,future:0<r,customClass:this.customClass(t)||null};return n&&0===this.compare(t,n)&&(o.selectedDt=a),f.activeDate&&0===this.compare(a.date,f.activeDate)&&(o.activeDt=a),a},this.isDisabled=function(t){return o.disabled||this.minDate&&this.compare(t,this.minDate)<0||this.maxDate&&0<this.compare(t,this.maxDate)||o.dateDisabled&&o.dateDisabled({date:t,mode:o.datepickerMode})},this.customClass=function(t){return o.customClass({date:t,mode:o.datepickerMode})},this.split=function(t,e){for(var n=[];0<t.length;)n.push(t.splice(0,e));return n},o.select=function(t){if(o.datepickerMode===f.minMode){var e=p.$viewValue?d.fromTimezone(new Date(p.$viewValue),g.getOption("timezone")):new Date(0,0,0,0,0,0,0);e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e=d.toTimezone(e,g.getOption("timezone")),p.$setViewValue(e),p.$render()}else f.activeDate=t,h(f.modes[f.modes.indexOf(o.datepickerMode)-1]),o.$emit("uib:datepicker.mode");o.$broadcast("uib:datepicker.focus")},o.move=function(t){var e=f.activeDate.getFullYear()+t*(f.step.years||0),n=f.activeDate.getMonth()+t*(f.step.months||0);f.activeDate.setFullYear(e,n,1),f.refreshView()},o.toggleMode=function(t){t=t||1,o.datepickerMode===f.maxMode&&1===t||o.datepickerMode===f.minMode&&-1===t||(h(f.modes[f.modes.indexOf(o.datepickerMode)+t]),o.$emit("uib:datepicker.mode"))},o.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};o.$on("uib:datepicker.focus",function(){f.element[0].focus()}),o.keydown=function(t){var e=o.keys[t.which];if(e&&!t.shiftKey&&!t.altKey&&!o.disabled)if(t.preventDefault(),f.shortcutPropagation||t.stopPropagation(),"enter"===e||"space"===e){if(f.isDisabled(f.activeDate))return;o.select(f.activeDate)}else!t.ctrlKey||"up"!==e&&"down"!==e?(f.handleKeyDown(e,t),f.refreshView()):o.toggleMode("up"===e?1:-1)},t.on("keydown",function(t){o.$apply(function(){o.keydown(t)})}),o.$on("$destroy",function(){for(;m.length;)m.shift()()})}]).controller("UibDaypickerController",["$scope","$element","dateFilter",function(h,t,f){function r(t,e){return 1!==e||t%4!=0||t%100==0&&t%400!=0?n[e]:29}function p(t){var e=new Date(t);e.setDate(e.getDate()+4-(e.getDay()||7));var n=e.getTime();return e.setMonth(0),e.setDate(1),Math.floor(Math.round((n-e)/864e5)/7)+1}var n=[31,28,31,30,31,30,31,31,30,31,30,31];this.step={months:1},this.element=t,this.init=function(t){angular.extend(t,this),h.showWeeks=t.showWeeks,t.refreshView()},this.getDates=function(t,e){for(var n,i=new Array(e),r=new Date(t),a=0;a<e;)n=new Date(r),i[a++]=n,r.setDate(r.getDate()+1);return i},this._refreshView=function(){var t=this.activeDate.getFullYear(),e=this.activeDate.getMonth(),n=new Date(this.activeDate);n.setFullYear(t,e,1);var i=this.startingDay-n.getDay(),r=0<i?7-i:-i,a=new Date(n);0<r&&a.setDate(1-r);for(var o=this.getDates(a,42),s=0;s<42;s++)o[s]=angular.extend(this.createDateObject(o[s],this.formatDay),{secondary:o[s].getMonth()!==e,uid:h.uniqueId+"-"+s});h.labels=new Array(7);for(var l=0;l<7;l++)h.labels[l]={abbr:f(o[l].date,this.formatDayHeader),full:f(o[l].date,"EEEE")};if(h.title=f(this.activeDate,this.formatDayTitle),h.rows=this.split(o,7),h.showWeeks){h.weekNumbers=[];for(var u=(11-this.startingDay)%7,c=h.rows.length,d=0;d<c;d++)h.weekNumbers.push(p(h.rows[d][u].date))}},this.compare=function(t,e){var n=new Date(t.getFullYear(),t.getMonth(),t.getDate()),i=new Date(e.getFullYear(),e.getMonth(),e.getDate());return n.setFullYear(t.getFullYear()),i.setFullYear(e.getFullYear()),n-i},this.handleKeyDown=function(t,e){var n=this.activeDate.getDate();if("left"===t)n-=1;else if("up"===t)n-=7;else if("right"===t)n+=1;else if("down"===t)n+=7;else if("pageup"===t||"pagedown"===t){var i=this.activeDate.getMonth()+("pageup"===t?-1:1);this.activeDate.setMonth(i,1),n=Math.min(r(this.activeDate.getFullYear(),this.activeDate.getMonth()),n)}else"home"===t?n=1:"end"===t&&(n=r(this.activeDate.getFullYear(),this.activeDate.getMonth()));this.activeDate.setDate(n)}}]).controller("UibMonthpickerController",["$scope","$element","dateFilter",function(r,t,a){this.step={years:1},this.element=t,this.init=function(t){angular.extend(t,this),t.refreshView()},this._refreshView=function(){for(var t,e=new Array(12),n=this.activeDate.getFullYear(),i=0;i<12;i++)(t=new Date(this.activeDate)).setFullYear(n,i,1),e[i]=angular.extend(this.createDateObject(t,this.formatMonth),{uid:r.uniqueId+"-"+i});r.title=a(this.activeDate,this.formatMonthTitle),r.rows=this.split(e,this.monthColumns),r.yearHeaderColspan=3<this.monthColumns?this.monthColumns-2:1},this.compare=function(t,e){var n=new Date(t.getFullYear(),t.getMonth()),i=new Date(e.getFullYear(),e.getMonth());return n.setFullYear(t.getFullYear()),i.setFullYear(e.getFullYear()),n-i},this.handleKeyDown=function(t,e){var n=this.activeDate.getMonth();if("left"===t)n-=1;else if("up"===t)n-=this.monthColumns;else if("right"===t)n+=1;else if("down"===t)n+=this.monthColumns;else if("pageup"===t||"pagedown"===t){var i=this.activeDate.getFullYear()+("pageup"===t?-1:1);this.activeDate.setFullYear(i)}else"home"===t?n=0:"end"===t&&(n=11);this.activeDate.setMonth(n)}}]).controller("UibYearpickerController",["$scope","$element","dateFilter",function(r,t,e){function a(t){return parseInt((t-1)/s,10)*s+1}var o,s;this.element=t,this.yearpickerInit=function(){o=this.yearColumns,s=this.yearRows*o,this.step={years:s}},this._refreshView=function(){for(var t,e=new Array(s),n=0,i=a(this.activeDate.getFullYear());n<s;n++)(t=new Date(this.activeDate)).setFullYear(i+n,0,1),e[n]=angular.extend(this.createDateObject(t,this.formatYear),{uid:r.uniqueId+"-"+n});r.title=[e[0].label,e[s-1].label].join(" - "),r.rows=this.split(e,o),r.columns=o},this.compare=function(t,e){return t.getFullYear()-e.getFullYear()},this.handleKeyDown=function(t,e){var n=this.activeDate.getFullYear();"left"===t?n-=1:"up"===t?n-=o:"right"===t?n+=1:"down"===t?n+=o:"pageup"===t||"pagedown"===t?n+=("pageup"===t?-1:1)*s:"home"===t?n=a(this.activeDate.getFullYear()):"end"===t&&(n=a(this.activeDate.getFullYear())+s-1),this.activeDate.setFullYear(n)}}]).directive("uibDatepicker",function(){return{templateUrl:function(t,e){return e.templateUrl||"uib/template/datepicker/datepicker.html"},scope:{datepickerOptions:"=?"},require:["uibDatepicker","^ngModel"],restrict:"A",controller:"UibDatepickerController",controllerAs:"datepicker",link:function(t,e,n,i){var r=i[0],a=i[1];r.init(a)}}}).directive("uibDaypicker",function(){return{templateUrl:function(t,e){return e.templateUrl||"uib/template/datepicker/day.html"},require:["^uibDatepicker","uibDaypicker"],restrict:"A",controller:"UibDaypickerController",link:function(t,e,n,i){var r=i[0];i[1].init(r)}}}).directive("uibMonthpicker",function(){return{templateUrl:function(t,e){return e.templateUrl||"uib/template/datepicker/month.html"},require:["^uibDatepicker","uibMonthpicker"],restrict:"A",controller:"UibMonthpickerController",link:function(t,e,n,i){var r=i[0];i[1].init(r)}}}).directive("uibYearpicker",function(){return{templateUrl:function(t,e){return e.templateUrl||"uib/template/datepicker/year.html"},require:["^uibDatepicker","uibYearpicker"],restrict:"A",controller:"UibYearpickerController",link:function(t,e,n,i){var r=i[0];angular.extend(r,i[1]),r.yearpickerInit(),r.refreshView()}}}),angular.module("ui.bootstrap.position",[]).factory("$uibPosition",["$document","$window",function(u,p){var i,r,c={normal:/(auto|scroll)/,hidden:/(auto|scroll|hidden)/},g={auto:/\s?auto?\s?/i,primary:/^(top|bottom|left|right)$/,secondary:/^(top|bottom|left|right|center)$/,vertical:/^(top|bottom)$/},o=/(HTML|BODY)/;return{getRawNode:function(t){return t.nodeName?t:t[0]||t},parseStyle:function(t){return t=parseFloat(t),isFinite(t)?t:0},offsetParent:function(t){for(var e=(t=this.getRawNode(t)).offsetParent||u[0].documentElement;e&&e!==u[0].documentElement&&(n=e,"static"===(p.getComputedStyle(n).position||"static"));)e=e.offsetParent;var n;return e||u[0].documentElement},scrollbarWidth:function(t){if(t){if(angular.isUndefined(r)){var e=u.find("body");e.addClass("uib-position-body-scrollbar-measure"),r=p.innerWidth-e[0].clientWidth,r=isFinite(r)?r:0,e.removeClass("uib-position-body-scrollbar-measure")}return r}if(angular.isUndefined(i)){var n=angular.element('<div class="uib-position-scrollbar-measure"></div>');u.find("body").append(n),i=n[0].offsetWidth-n[0].clientWidth,i=isFinite(i)?i:0,n.remove()}return i},scrollbarPadding:function(t){t=this.getRawNode(t);var e=p.getComputedStyle(t),n=this.parseStyle(e.paddingRight),i=this.parseStyle(e.paddingBottom),r=this.scrollParent(t,!1,!0),a=this.scrollbarWidth(o.test(r.tagName));return{scrollbarWidth:a,widthOverflow:r.scrollWidth>r.clientWidth,right:n+a,originalRight:n,heightOverflow:r.scrollHeight>r.clientHeight,bottom:i+a,originalBottom:i}},isScrollable:function(t,e){t=this.getRawNode(t);var n=e?c.hidden:c.normal,i=p.getComputedStyle(t);return n.test(i.overflow+i.overflowY+i.overflowX)},scrollParent:function(t,e,n){t=this.getRawNode(t);var i=e?c.hidden:c.normal,r=u[0].documentElement,a=p.getComputedStyle(t);if(n&&i.test(a.overflow+a.overflowY+a.overflowX))return t;var o="absolute"===a.position,s=t.parentElement||r;if(s===r||"fixed"===a.position)return r;for(;s.parentElement&&s!==r;){var l=p.getComputedStyle(s);if(o&&"static"!==l.position&&(o=!1),!o&&i.test(l.overflow+l.overflowY+l.overflowX))break;s=s.parentElement}return s},position:function(t,e){t=this.getRawNode(t);var n=this.offset(t);if(e){var i=p.getComputedStyle(t);n.top-=this.parseStyle(i.marginTop),n.left-=this.parseStyle(i.marginLeft)}var r=this.offsetParent(t),a={top:0,left:0};return r!==u[0].documentElement&&((a=this.offset(r)).top+=r.clientTop-r.scrollTop,a.left+=r.clientLeft-r.scrollLeft),{width:Math.round(angular.isNumber(n.width)?n.width:t.offsetWidth),height:Math.round(angular.isNumber(n.height)?n.height:t.offsetHeight),top:Math.round(n.top-a.top),left:Math.round(n.left-a.left)}},offset:function(t){var e=(t=this.getRawNode(t)).getBoundingClientRect();return{width:Math.round(angular.isNumber(e.width)?e.width:t.offsetWidth),height:Math.round(angular.isNumber(e.height)?e.height:t.offsetHeight),top:Math.round(e.top+(p.pageYOffset||u[0].documentElement.scrollTop)),left:Math.round(e.left+(p.pageXOffset||u[0].documentElement.scrollLeft))}},viewportOffset:function(t,e,n){n=!1!==n;var i=(t=this.getRawNode(t)).getBoundingClientRect(),r={top:0,left:0,bottom:0,right:0},a=e?u[0].documentElement:this.scrollParent(t),o=a.getBoundingClientRect();if(r.top=o.top+a.clientTop,r.left=o.left+a.clientLeft,a===u[0].documentElement&&(r.top+=p.pageYOffset,r.left+=p.pageXOffset),r.bottom=r.top+a.clientHeight,r.right=r.left+a.clientWidth,n){var s=p.getComputedStyle(a);r.top+=this.parseStyle(s.paddingTop),r.bottom-=this.parseStyle(s.paddingBottom),r.left+=this.parseStyle(s.paddingLeft),r.right-=this.parseStyle(s.paddingRight)}return{top:Math.round(i.top-r.top),bottom:Math.round(r.bottom-i.bottom),left:Math.round(i.left-r.left),right:Math.round(r.right-i.right)}},parsePlacement:function(t){var e=g.auto.test(t);return e&&(t=t.replace(g.auto,"")),(t=t.split("-"))[0]=t[0]||"top",g.primary.test(t[0])||(t[0]="top"),t[1]=t[1]||"center",g.secondary.test(t[1])||(t[1]="center"),t[2]=!!e,t},positionElements:function(t,e,n,i){t=this.getRawNode(t),e=this.getRawNode(e);var r=angular.isDefined(e.offsetWidth)?e.offsetWidth:e.prop("offsetWidth"),a=angular.isDefined(e.offsetHeight)?e.offsetHeight:e.prop("offsetHeight");n=this.parsePlacement(n);var o=i?this.offset(t):this.position(t),s={top:0,left:0,placement:""};if(n[2]){var l=this.viewportOffset(t,i),u=p.getComputedStyle(e),c=r+Math.round(Math.abs(this.parseStyle(u.marginLeft)+this.parseStyle(u.marginRight))),d=a+Math.round(Math.abs(this.parseStyle(u.marginTop)+this.parseStyle(u.marginBottom)));if(n[0]="top"===n[0]&&d>l.top&&d<=l.bottom?"bottom":"bottom"===n[0]&&d>l.bottom&&d<=l.top?"top":"left"===n[0]&&c>l.left&&c<=l.right?"right":"right"===n[0]&&c>l.right&&c<=l.left?"left":n[0],n[1]="top"===n[1]&&d-o.height>l.bottom&&d-o.height<=l.top?"bottom":"bottom"===n[1]&&d-o.height>l.top&&d-o.height<=l.bottom?"top":"left"===n[1]&&c-o.width>l.right&&c-o.width<=l.left?"right":"right"===n[1]&&c-o.width>l.left&&c-o.width<=l.right?"left":n[1],"center"===n[1])if(g.vertical.test(n[0])){var h=o.width/2-r/2;l.left+h<0&&c-o.width<=l.right?n[1]="left":l.right+h<0&&c-o.width<=l.left&&(n[1]="right")}else{var f=o.height/2-d/2;l.top+f<0&&d-o.height<=l.bottom?n[1]="top":l.bottom+f<0&&d-o.height<=l.top&&(n[1]="bottom")}}switch(n[0]){case"top":s.top=o.top-a;break;case"bottom":s.top=o.top+o.height;break;case"left":s.left=o.left-r;break;case"right":s.left=o.left+o.width}switch(n[1]){case"top":s.top=o.top;break;case"bottom":s.top=o.top+o.height-a;break;case"left":s.left=o.left;break;case"right":s.left=o.left+o.width-r;break;case"center":g.vertical.test(n[0])?s.left=o.left+o.width/2-r/2:s.top=o.top+o.height/2-a/2}return s.top=Math.round(s.top),s.left=Math.round(s.left),s.placement="center"===n[1]?n[0]:n[0]+"-"+n[1],s},adjustTop:function(t,e,n,i){return-1!==t.indexOf("top")&&n!==i?{top:e.top-i+"px"}:void 0},positionArrow:function(t,e){var n=(t=this.getRawNode(t)).querySelector(".tooltip-inner, .popover-inner");if(n){var i=angular.element(n).hasClass("tooltip-inner"),r=i?t.querySelector(".tooltip-arrow"):t.querySelector(".arrow");if(r){var a={top:"",bottom:"",left:"",right:""};if("center"===(e=this.parsePlacement(e))[1])return void angular.element(r).css(a);var o="border-"+e[0]+"-width",s=p.getComputedStyle(r)[o],l="border-";l+=g.vertical.test(e[0])?e[0]+"-"+e[1]:e[1]+"-"+e[0],l+="-radius";var u=p.getComputedStyle(i?n:t)[l];switch(e[0]){case"top":a.bottom=i?"0":"-"+s;break;case"bottom":a.top=i?"0":"-"+s;break;case"left":a.right=i?"0":"-"+s;break;case"right":a.left=i?"0":"-"+s}a[e[1]]=u,angular.element(r).css(a)}}}}}]),angular.module("ui.bootstrap.datepickerPopup",["ui.bootstrap.datepicker","ui.bootstrap.position"]).value("$datepickerPopupLiteralWarning",!0).constant("uibDatepickerPopupConfig",{altInputFormats:[],appendToBody:!1,clearText:"Clear",closeOnDateSelection:!0,closeText:"Done",currentText:"Today",datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"uib/template/datepickerPopup/popup.html",datepickerTemplateUrl:"uib/template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},onOpenFocus:!0,showButtonBar:!0,placement:"auto bottom-left"}).controller("UibDatepickerPopupController",["$scope","$element","$attrs","$compile","$log","$parse","$window","$document","$rootScope","$uibPosition","dateFilter","uibDateParser","uibDatepickerPopupConfig","$timeout","uibDatepickerConfig","$datepickerPopupLiteralWarning",function(r,a,i,o,n,t,s,l,u,c,d,h,f,e,p,g){function m(t){var e=h.parse(t,x,r.date);if(isNaN(e))for(var n=0;n<R.length;n++)if(e=h.parse(t,R[n],r.date),!isNaN(e))return e;return e}function v(t){if(angular.isNumber(t)&&(t=new Date(t)),!t)return null;if(angular.isDate(t)&&!isNaN(t))return t;if(angular.isString(t)){var e=m(t);if(!isNaN(e))return h.toTimezone(e,P.getOption("timezone"))}return P.getOption("allowInvalid")?t:void 0}function y(t,e){var n=t||e;return!i.ngRequired&&!n||(angular.isNumber(n)&&(n=new Date(n)),!n||(!(!angular.isDate(n)||isNaN(n))||!!angular.isString(n)&&!isNaN(m(n))))}function b(t){if(r.isOpen||!r.disabled){var e=A[0],n=a[0].contains(t.target),i=void 0!==e.contains&&e.contains(t.target);!r.isOpen||n||i||r.$apply(function(){r.isOpen=!1})}}function _(t){27===t.which&&r.isOpen?(t.preventDefault(),t.stopPropagation(),r.$apply(function(){r.isOpen=!1}),a[0].focus()):40!==t.which||r.isOpen||(t.preventDefault(),t.stopPropagation(),r.$apply(function(){r.isOpen=!0}))}function w(){if(r.isOpen){var t=angular.element(A[0].querySelector(".uib-datepicker-popup")),e=i.popupPlacement?i.popupPlacement:f.placement,n=c.positionElements(a,t,e,C);t.css({top:n.top+"px",left:n.left+"px"}),t.hasClass("uib-position-measure")&&t.removeClass("uib-position-measure")}}var x,k,C,S,D,T,M,$,O,E,P,A,R,I=!1,F=[];this.init=function(t){if(e=E=t,angular.version.minor<6?(n=angular.isObject(e.$options)?e.$options:{timezone:null}).getOption=function(t){return n[t]}:n=e.$options,P=n,k=angular.isDefined(i.closeOnDateSelection)?r.$parent.$eval(i.closeOnDateSelection):f.closeOnDateSelection,C=angular.isDefined(i.datepickerAppendToBody)?r.$parent.$eval(i.datepickerAppendToBody):f.appendToBody,S=angular.isDefined(i.onOpenFocus)?r.$parent.$eval(i.onOpenFocus):f.onOpenFocus,D=angular.isDefined(i.datepickerPopupTemplateUrl)?i.datepickerPopupTemplateUrl:f.datepickerPopupTemplateUrl,T=angular.isDefined(i.datepickerTemplateUrl)?i.datepickerTemplateUrl:f.datepickerTemplateUrl,R=angular.isDefined(i.altInputFormats)?r.$parent.$eval(i.altInputFormats):f.altInputFormats,r.showButtonBar=angular.isDefined(i.showButtonBar)?r.$parent.$eval(i.showButtonBar):f.showButtonBar,f.html5Types[i.type]?(x=f.html5Types[i.type],I=!0):(x=i.uibDatepickerPopup||f.datepickerPopup,i.$observe("uibDatepickerPopup",function(t,e){var n=t||f.datepickerPopup;if(n!==x&&(x=n,E.$modelValue=null,!x))throw new Error("uibDatepickerPopup must have a date format specified.")})),!x)throw new Error("uibDatepickerPopup must have a date format specified.");var e,n;if(I&&i.uibDatepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");(M=angular.element("<div uib-datepicker-popup-wrap><div uib-datepicker></div></div>")).attr({"ng-model":"date","ng-change":"dateSelection(date)","template-url":D}),($=angular.element(M.children()[0])).attr("template-url",T),r.datepickerOptions||(r.datepickerOptions={}),I&&"month"===i.type&&(r.datepickerOptions.datepickerMode="month",r.datepickerOptions.minMode="month"),$.attr("datepicker-options","datepickerOptions"),I?E.$formatters.push(function(t){return r.date=h.fromTimezone(t,P.getOption("timezone")),t}):(E.$$parserName="date",E.$validators.date=y,E.$parsers.unshift(v),E.$formatters.push(function(t){return E.$isEmpty(t)?r.date=t:(angular.isNumber(t)&&(t=new Date(t)),r.date=h.fromTimezone(t,P.getOption("timezone")),h.filter(r.date,x))})),E.$viewChangeListeners.push(function(){r.date=m(E.$viewValue)}),a.on("keydown",_),A=o(M)(r),M.remove(),C?l.find("body").append(A):a.after(A),r.$on("$destroy",function(){for(!0===r.isOpen&&(u.$$phase||r.$apply(function(){r.isOpen=!1})),A.remove(),a.off("keydown",_),l.off("click",b),O&&O.off("scroll",w),angular.element(s).off("resize",w);F.length;)F.shift()()})},r.getText=function(t){return r[t+"Text"]||f[t+"Text"]},r.isDisabled=function(t){"today"===t&&(t=h.fromTimezone(new Date,P.getOption("timezone")));var e={};return angular.forEach(["minDate","maxDate"],function(t){r.datepickerOptions[t]?angular.isDate(r.datepickerOptions[t])?e[t]=new Date(r.datepickerOptions[t]):(g&&n.warn("Literal date support has been deprecated, please switch to date object usage"),e[t]=new Date(d(r.datepickerOptions[t],"medium"))):e[t]=null}),r.datepickerOptions&&e.minDate&&r.compare(t,e.minDate)<0||e.maxDate&&0<r.compare(t,e.maxDate)},r.compare=function(t,e){return new Date(t.getFullYear(),t.getMonth(),t.getDate())-new Date(e.getFullYear(),e.getMonth(),e.getDate())},r.dateSelection=function(t){r.date=t;var e=r.date?h.filter(r.date,x):null;a.val(e),E.$setViewValue(e),k&&(r.isOpen=!1,a[0].focus())},r.keydown=function(t){27===t.which&&(t.stopPropagation(),r.isOpen=!1,a[0].focus())},r.select=function(t,e){if(e.stopPropagation(),"today"===t){var n=new Date;angular.isDate(r.date)?(t=new Date(r.date)).setFullYear(n.getFullYear(),n.getMonth(),n.getDate()):(t=h.fromTimezone(n,P.getOption("timezone"))).setHours(0,0,0,0)}r.dateSelection(t)},r.close=function(t){t.stopPropagation(),r.isOpen=!1,a[0].focus()},r.disabled=angular.isDefined(i.disabled)||!1,i.ngDisabled&&F.push(r.$parent.$watch(t(i.ngDisabled),function(t){r.disabled=t})),r.$watch("isOpen",function(t){t?r.disabled?r.isOpen=!1:e(function(){w(),S&&r.$broadcast("uib:datepicker.focus"),l.on("click",b);var t=i.popupPlacement?i.popupPlacement:f.placement;C||c.parsePlacement(t)[2]?(O=O||angular.element(c.scrollParent(a)))&&O.on("scroll",w):O=null,angular.element(s).on("resize",w)},0,!1):(l.off("click",b),O&&O.off("scroll",w),angular.element(s).off("resize",w))}),r.$on("uib:datepicker.mode",function(){e(w,0,!1)})}]).directive("uibDatepickerPopup",function(){return{require:["ngModel","uibDatepickerPopup"],controller:"UibDatepickerPopupController",scope:{datepickerOptions:"=?",isOpen:"=?",currentText:"@",clearText:"@",closeText:"@"},link:function(t,e,n,i){var r=i[0];i[1].init(r)}}}).directive("uibDatepickerPopupWrap",function(){return{restrict:"A",transclude:!0,templateUrl:function(t,e){return e.templateUrl||"uib/template/datepickerPopup/popup.html"}}}),angular.module("ui.bootstrap.debounce",[]).factory("$$debounce",["$timeout",function(a){return function(n,i){var r;return function(){var t=this,e=Array.prototype.slice.call(arguments);r&&a.cancel(r),r=a(function(){n.apply(t,e)},i)}}}]),angular.module("ui.bootstrap.multiMap",[]).factory("$$multiMap",function(){return{createNew:function(){var r={};return{entries:function(){return Object.keys(r).map(function(t){return{key:t,value:r[t]}})},get:function(t){return r[t]},hasKey:function(t){return!!r[t]},keys:function(){return Object.keys(r)},put:function(t,e){r[t]||(r[t]=[]),r[t].push(e)},remove:function(t,e){var n=r[t];if(n){var i=n.indexOf(e);-1!==i&&n.splice(i,1),n.length||delete r[t]}}}}}}),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.multiMap","ui.bootstrap.position"]).constant("uibDropdownConfig",{appendToOpenClass:"uib-dropdown-open",openClass:"open"}).service("uibDropdownService",["$document","$rootScope","$$multiMap",function(a,i,t){var o=null,s=t.createNew();this.isOnlyOpen=function(n,t){var e=s.get(t);if(e&&e.reduce(function(t,e){return e.scope===n?e:t},{}))return 1===e.length;return!1},this.open=function(t,e,n){if(o||a.on("click",l),o&&o!==t&&(o.isOpen=!1),o=t,n){var i=s.get(n);if(i)-1===i.map(function(t){return t.scope}).indexOf(t)&&s.put(n,{scope:t});else s.put(n,{scope:t})}},this.close=function(n,t,e){if(o===n&&(a.off("click",l),a.off("keydown",this.keybindFilter),o=null),e){var i=s.get(e);if(i){var r=i.reduce(function(t,e){return e.scope===n?e:t},{});r&&s.remove(e,r)}}};var l=function(t){if(o&&o.isOpen&&!(t&&"disabled"===o.getAutoClose()||t&&3===t.which)){var e=o.getToggleElement();if(!(t&&e&&e[0].contains(t.target))){var n=o.getDropdownElement();t&&"outsideClick"===o.getAutoClose()&&n&&n[0].contains(t.target)||(o.focusToggleElement(),o.isOpen=!1,i.$$phase||o.$apply())}}};this.keybindFilter=function(t){if(o){var e=o.getDropdownElement(),n=o.getToggleElement(),i=e&&e[0].contains(t.target),r=n&&n[0].contains(t.target);27===t.which?(t.stopPropagation(),o.focusToggleElement(),l()):o.isKeynavEnabled()&&-1!==[38,40].indexOf(t.which)&&o.isOpen&&(i||r)&&(t.preventDefault(),t.stopPropagation(),o.focusDropdownEntry(t.which))}}}]).controller("UibDropdownController",["$scope","$element","$attrs","$parse","uibDropdownConfig","uibDropdownService","$animate","$uibPosition","$document","$compile","$templateRequest",function(m,v,y,b,t,_,w,x,k,C,S){function D(){v.append(M.dropdownMenu)}var T,e,M=this,$=m.$new(),O=t.appendToOpenClass,E=t.openClass,P=angular.noop,A=y.onToggle?b(y.onToggle):angular.noop,n=!1,R=k.find("body");v.addClass("dropdown"),this.init=function(){y.isOpen&&(e=b(y.isOpen),P=e.assign,m.$watch(e,function(t){$.isOpen=!!t})),n=angular.isDefined(y.keyboardNav)},this.toggle=function(t){return $.isOpen=arguments.length?!!t:!$.isOpen,angular.isFunction(P)&&P($,$.isOpen),$.isOpen},this.isOpen=function(){return $.isOpen},$.getToggleElement=function(){return M.toggleElement},$.getAutoClose=function(){return y.autoClose||"always"},$.getElement=function(){return v},$.isKeynavEnabled=function(){return n},$.focusDropdownEntry=function(t){var e=M.dropdownMenu?angular.element(M.dropdownMenu).find("a"):v.find("ul").eq(0).find("a");switch(t){case 40:angular.isNumber(M.selectedOption)?M.selectedOption=M.selectedOption===e.length-1?M.selectedOption:M.selectedOption+1:M.selectedOption=0;break;case 38:angular.isNumber(M.selectedOption)?M.selectedOption=0===M.selectedOption?0:M.selectedOption-1:M.selectedOption=e.length-1}e[M.selectedOption].focus()},$.getDropdownElement=function(){return M.dropdownMenu},$.focusToggleElement=function(){M.toggleElement&&M.toggleElement[0].focus()},$.$watch("isOpen",function(t,e){var n=null,i=!1;if(angular.isDefined(y.dropdownAppendTo)){var r=b(y.dropdownAppendTo)($);r&&(n=angular.element(r))}angular.isDefined(y.dropdownAppendToBody)&&(!1!==b(y.dropdownAppendToBody)($)&&(i=!0));if(i&&!n&&(n=R),n&&M.dropdownMenu&&(t?(n.append(M.dropdownMenu),v.on("$destroy",D)):(v.off("$destroy",D),D())),n&&M.dropdownMenu){var a,o,s,l=x.positionElements(v,M.dropdownMenu,"bottom-left",!0),u=0;if(a={top:l.top+"px",display:t?"block":"none"},(o=M.dropdownMenu.hasClass("dropdown-menu-right"))?(a.left="auto",(s=x.scrollbarPadding(n)).heightOverflow&&s.scrollbarWidth&&(u=s.scrollbarWidth),a.right=window.innerWidth-u-(l.left+v.prop("offsetWidth"))+"px"):(a.left=l.left+"px",a.right="auto"),!i){var c=x.offset(n);a.top=l.top-c.top+"px",o?a.right=window.innerWidth-(l.left-c.left+v.prop("offsetWidth"))+"px":a.left=l.left-c.left+"px"}M.dropdownMenu.css(a)}var d=n||v,h=n?O:E,f=d.hasClass(h),p=_.isOnlyOpen(m,n);f===!t&&w[n?p?"removeClass":"addClass":t?"addClass":"removeClass"](d,h).then(function(){angular.isDefined(t)&&t!==e&&A(m,{open:!!t})});if(t)M.dropdownMenuTemplateUrl?S(M.dropdownMenuTemplateUrl).then(function(t){T=$.$new(),C(t.trim())(T,function(t){var e=t;M.dropdownMenu.replaceWith(e),M.dropdownMenu=e,k.on("keydown",_.keybindFilter)})}):k.on("keydown",_.keybindFilter),$.focusToggleElement(),_.open($,v,n);else{if(_.close($,v,n),M.dropdownMenuTemplateUrl){T&&T.$destroy();var g=angular.element('<ul class="dropdown-menu"></ul>');M.dropdownMenu.replaceWith(g),M.dropdownMenu=g}M.selectedOption=null}angular.isFunction(P)&&P(m,t)})}]).directive("uibDropdown",function(){return{controller:"UibDropdownController",link:function(t,e,n,i){i.init()}}}).directive("uibDropdownMenu",function(){return{restrict:"A",require:"?^uibDropdown",link:function(t,e,n,i){if(i&&!angular.isDefined(n.dropdownNested)){e.addClass("dropdown-menu");var r=n.templateUrl;r&&(i.dropdownMenuTemplateUrl=r),i.dropdownMenu||(i.dropdownMenu=e)}}}}).directive("uibDropdownToggle",function(){return{require:"?^uibDropdown",link:function(e,n,i,r){if(r){n.addClass("dropdown-toggle"),r.toggleElement=n;var t=function(t){t.preventDefault(),n.hasClass("disabled")||i.disabled||e.$apply(function(){r.toggle()})};n.on("click",t),n.attr({"aria-haspopup":!0,"aria-expanded":!1}),e.$watch(r.isOpen,function(t){n.attr("aria-expanded",!!t)}),e.$on("$destroy",function(){n.off("click",t)})}}}}),angular.module("ui.bootstrap.stackedMap",[]).factory("$$stackedMap",function(){return{createNew:function(){var i=[];return{add:function(t,e){i.push({key:t,value:e})},get:function(t){for(var e=0;e<i.length;e++)if(t===i[e].key)return i[e]},keys:function(){for(var t=[],e=0;e<i.length;e++)t.push(i[e].key);return t},top:function(){return i[i.length-1]},remove:function(t){for(var e=-1,n=0;n<i.length;n++)if(t===i[n].key){e=n;break}return i.splice(e,1)[0]},removeTop:function(){return i.pop()},length:function(){return i.length}}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.multiMap","ui.bootstrap.stackedMap","ui.bootstrap.position"]).provider("$uibResolve",function(){var t=this;this.resolver=null,this.setResolver=function(t){this.resolver=t},this.$get=["$injector","$q",function(a,o){var s=t.resolver?a.get(t.resolver):null;return{resolve:function(t,e,n,i){if(s)return s.resolve(t,e,n,i);var r=[];return angular.forEach(t,function(t){angular.isFunction(t)||angular.isArray(t)?r.push(o.resolve(a.invoke(t))):angular.isString(t)?r.push(o.resolve(a.get(t))):r.push(o.resolve(t))}),o.all(r).then(function(n){var i={},r=0;return angular.forEach(t,function(t,e){i[e]=n[r++]}),i})}}}]}).directive("uibModalBackdrop",["$animate","$injector","$uibModalStack",function(o,t,e){function n(i,r,a){a.modalInClass&&(o.addClass(r,a.modalInClass),i.$on(e.NOW_CLOSING_EVENT,function(t,e){var n=e();i.modalOptions.animation?o.removeClass(r,a.modalInClass).then(n):n()}))}return{restrict:"A",compile:function(t,e){return t.addClass(e.backdropClass),n}}}]).directive("uibModalWindow",["$uibModalStack","$q","$animateCss","$document",function(n,a,o,s){return{scope:{index:"@"},restrict:"A",transclude:!0,templateUrl:function(t,e){return e.templateUrl||"uib/template/modal/window.html"},link:function(e,i,r){i.addClass(r.windowTopClass||""),e.size=r.size,e.close=function(t){var e=n.getTop();e&&e.value.backdrop&&"static"!==e.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),n.dismiss(e.key,"backdrop click"))},i.on("click",e.close),e.$isRendered=!0;var t=a.defer();e.$$postDigest(function(){t.resolve()}),t.promise.then(function(){var t=null;r.modalInClass&&(t=o(i,{addClass:r.modalInClass}).start(),e.$on(n.NOW_CLOSING_EVENT,function(t,e){var n=e();o(i,{removeClass:r.modalInClass}).start().then(n)})),a.when(t).then(function(){var t=n.getTop();if(t&&n.modalRendered(t.key),!s[0].activeElement||!i[0].contains(s[0].activeElement)){var e=i[0].querySelector("[autofocus]");e?e.focus():i[0].focus()}})})}}}]).directive("uibModalAnimationClass",function(){return{compile:function(t,e){e.modalAnimation&&t.addClass(e.uibModalAnimationClass)}}}).directive("uibModalTransclude",["$animate",function(a){return{link:function(t,e,n,i,r){r(t.$parent,function(t){e.empty(),a.enter(t,e)})}}}]).factory("$uibModalStack",["$animate","$animateCss","$document","$compile","$rootScope","$q","$$multiMap","$$stackedMap","$uibPosition",function(l,t,u,c,d,o,e,n,h){function f(){for(var t=-1,e=_.keys(),n=0;n<e.length;n++)_.get(e[n]).value.backdrop&&(t=n);return-1<t&&t<k&&(t=k),t}function i(n,t){var i=_.get(n).value,r=i.appendTo;_.remove(n),(C=_.top())&&(k=parseInt(C.value.modalDomEl.attr("index"),10)),a(i.modalDomEl,i.modalScope,function(){var t=i.openedClass||b;w.remove(t,n);var e=w.hasKey(t);r.toggleClass(t,e),!e&&y&&y.heightOverflow&&y.scrollbarWidth&&(y.originalRight?r.css({paddingRight:y.originalRight+"px"}):r.css({paddingRight:""}),y=null),p(!0)},i.closedDeferred),function(){if(m&&-1===f()){a(m,v,function(){null}),v=m=void 0}}(),t&&t.focus?t.focus():r.focus&&r.focus()}function p(t){var e;0<_.length()&&(e=_.top().value).modalDomEl.toggleClass(e.windowTopClass||"",t)}function a(e,n,i,r){var t,a=null;return n.$broadcast(x.NOW_CLOSING_EVENT,function(){return t||(t=o.defer(),a=t.promise),function(){t.resolve()}}),o.when(a).then(function t(){t.done||(t.done=!0,l.leave(e).then(function(){i&&i(),e.remove(),r&&r.resolve()}),n.$destroy())})}function r(t){if(t.isDefaultPrevented())return t;var e=_.top();if(e)switch(t.which){case 27:e.value.keyboard&&(t.preventDefault(),d.$apply(function(){x.dismiss(e.key,"escape key press")}));break;case 9:var n=x.loadFocusElementList(e),i=!1;t.shiftKey?(x.isFocusInFirstItem(t,n)||x.isModalFocused(t,e))&&(i=x.focusLastFocusableElement(n)):x.isFocusInLastItem(t,n)&&(i=x.focusFirstFocusableElement(n)),i&&(t.preventDefault(),t.stopPropagation())}}function s(t,e,n){return!t.value.modalScope.$broadcast("modal.closing",e,n).defaultPrevented}function g(){Array.prototype.forEach.call(document.querySelectorAll("["+S+"]"),function(t){var e=parseInt(t.getAttribute(S),10)-1;t.setAttribute(S,e),e||(t.removeAttribute(S),t.removeAttribute("aria-hidden"))})}var m,v,y,b="modal-open",_=n.createNew(),w=e.createNew(),x={NOW_CLOSING_EVENT:"modal.stack.now-closing"},k=0,C=null,S="data-bootstrap-modal-aria-hidden-count",D=/[A-Z]/g;return d.$watch(f,function(t){v&&(v.index=t)}),u.on("keydown",r),d.$on("$destroy",function(){u.off("keydown",r)}),x.open=function(t,e){var n=u[0].activeElement,i=e.openedClass||b;p(!1),C=_.top(),_.add(t,{deferred:e.deferred,renderDeferred:e.renderDeferred,closedDeferred:e.closedDeferred,modalScope:e.scope,backdrop:e.backdrop,keyboard:e.keyboard,openedClass:e.openedClass,windowTopClass:e.windowTopClass,animation:e.animation,appendTo:e.appendTo}),w.put(i,t);var r,a=e.appendTo,o=f();0<=o&&!m&&((v=d.$new(!0)).modalOptions=e,v.index=o,(m=angular.element('<div uib-modal-backdrop="modal-backdrop"></div>')).attr({class:"modal-backdrop","ng-style":"{'z-index': 1040 + (index && 1 || 0) + index*10}","uib-modal-animation-class":"fade","modal-in-class":"in"}),e.backdropClass&&m.addClass(e.backdropClass),e.animation&&m.attr("modal-animation","true"),c(m)(v),l.enter(m,a),h.isScrollable(a)&&((y=h.scrollbarPadding(a)).heightOverflow&&y.scrollbarWidth&&a.css({paddingRight:y.right+"px"}))),e.component?(r=document.createElement(e.component.name.replace(D,function(t,e){return(e?"-":"")+t.toLowerCase()})),(r=angular.element(r)).attr({resolve:"$resolve","modal-instance":"$uibModalInstance",close:"$close($value)",dismiss:"$dismiss($value)"})):r=e.content,k=C?parseInt(C.value.modalDomEl.attr("index"),10)+1:0;var s=angular.element('<div uib-modal-window="modal-window"></div>');s.attr({class:"modal","template-url":e.windowTemplateUrl,"window-top-class":e.windowTopClass,role:"dialog","aria-labelledby":e.ariaLabelledBy,"aria-describedby":e.ariaDescribedBy,size:e.size,index:k,animate:"animate","ng-style":"{'z-index': 1050 + $$topModalIndex*10, display: 'block'}",tabindex:-1,"uib-modal-animation-class":"fade","modal-in-class":"in"}).append(r),e.windowClass&&s.addClass(e.windowClass),e.animation&&s.attr("modal-animation","true"),a.addClass(i),e.scope&&(e.scope.$$topModalIndex=k),l.enter(c(s)(e.scope),a),_.top().value.modalDomEl=s,_.top().value.modalOpener=n,function t(e){if(e&&"BODY"!==e[0].tagName)return(n=e,i=n.parent()?n.parent().children():[],Array.prototype.filter.call(i,function(t){return t!==n[0]})).forEach(function(t){var e="true"===t.getAttribute("aria-hidden"),n=parseInt(t.getAttribute(S),10);n||(n=e?1:0),t.setAttribute(S,n+1),t.setAttribute("aria-hidden","true")}),t(e.parent());var n,i}(s)},x.close=function(t,e){var n=_.get(t);return g(),n&&s(n,e,!0)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.resolve(e),i(t,n.value.modalOpener),!0):!n},x.dismiss=function(t,e){var n=_.get(t);return g(),n&&s(n,e,!1)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.reject(e),i(t,n.value.modalOpener),!0):!n},x.dismissAll=function(t){for(var e=this.getTop();e&&this.dismiss(e.key,t);)e=this.getTop()},x.getTop=function(){return _.top()},x.modalRendered=function(t){var e=_.get(t);e&&e.value.renderDeferred.resolve()},x.focusFirstFocusableElement=function(t){return 0<t.length&&(t[0].focus(),!0)},x.focusLastFocusableElement=function(t){return 0<t.length&&(t[t.length-1].focus(),!0)},x.isModalFocused=function(t,e){if(t&&e){var n=e.value.modalDomEl;if(n&&n.length)return(t.target||t.srcElement)===n[0]}return!1},x.isFocusInFirstItem=function(t,e){return 0<e.length&&(t.target||t.srcElement)===e[0]},x.isFocusInLastItem=function(t,e){return 0<e.length&&(t.target||t.srcElement)===e[e.length-1]},x.loadFocusElementList=function(t){if(t){var e=t.value.modalDomEl;if(e&&e.length){var n=e[0].querySelectorAll("a[href], area[href], input:not([disabled]):not([tabindex='-1']), button:not([disabled]):not([tabindex='-1']),select:not([disabled]):not([tabindex='-1']), textarea:not([disabled]):not([tabindex='-1']), iframe, object, embed, *[tabindex]:not([tabindex='-1']), *[contenteditable=true]");return n?Array.prototype.filter.call(n,function(t){return!!((e=t).offsetWidth||e.offsetHeight||e.getClientRects().length);var e}):n}}},x}]).provider("$uibModal",function(){var y={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$rootScope","$q","$document","$templateRequest","$controller","$uibResolve","$uibModalStack",function(g,r,a,o,m,s,v){var t={},l=null;return t.getPromiseChain=function(){return l},t.open=function(u){function t(){return e}var e,n,i,c=r.defer(),d=r.defer(),h=r.defer(),f=r.defer(),p={result:c.promise,opened:d.promise,closed:h.promise,rendered:f.promise,close:function(t){return v.close(p,t)},dismiss:function(t){return v.dismiss(p,t)}};if((u=angular.extend({},y.options,u)).resolve=u.resolve||{},u.appendTo=u.appendTo||a.find("body").eq(0),!u.appendTo.length)throw new Error("appendTo element not found. Make sure that the element passed is in DOM.");if(!u.component&&!u.template&&!u.templateUrl)throw new Error("One of component or template or templateUrl options is required.");return e=u.component?r.when(s.resolve(u.resolve,{},null,null)):r.all([(n=u,n.template?r.when(n.template):o(angular.isFunction(n.templateUrl)?n.templateUrl():n.templateUrl)),s.resolve(u.resolve,{},null,null)]),i=l=r.all([l]).then(t,t).then(function(a){function t(n,t,e,i){n.$scope=o,n.$scope.$resolve={},e?n.$scope.$uibModalInstance=p:n.$uibModalInstance=p;var r=t?a[1]:a;angular.forEach(r,function(t,e){i&&(n[e]=t),n.$scope.$resolve[e]=t})}var e=u.scope||g,o=e.$new();o.$close=p.close,o.$dismiss=p.dismiss,o.$on("$destroy",function(){o.$$uibDestructionScheduled||o.$dismiss("$uibUnscheduledDestruction")});var n,i,r={scope:o,deferred:c,renderDeferred:f,closedDeferred:h,animation:u.animation,backdrop:u.backdrop,keyboard:u.keyboard,backdropClass:u.backdropClass,windowTopClass:u.windowTopClass,windowClass:u.windowClass,windowTemplateUrl:u.windowTemplateUrl,ariaLabelledBy:u.ariaLabelledBy,ariaDescribedBy:u.ariaDescribedBy,size:u.size,openedClass:u.openedClass,appendTo:u.appendTo},s={},l={};u.component?(t(s,!1,!0,!1),s.name=u.component,r.component=s):u.controller&&(t(l,!0,!1,!0),i=m(u.controller,l,!0,u.controllerAs),u.controllerAs&&u.bindToController&&((n=i.instance).$close=o.$close,n.$dismiss=o.$dismiss,angular.extend(n,{$resolve:l.$scope.$resolve},e)),n=i(),angular.isFunction(n.$onInit)&&n.$onInit()),u.component||(r.content=a[0]),v.open(p,r),d.resolve(!0)},function(t){d.reject(t),c.reject(t)}).finally(function(){l===i&&(l=null)}),p},t}]};return y}),angular.module("ui.bootstrap.paging",[]).factory("uibPaging",["$parse",function(t){return{create:function(n,i,r){n.setNumPages=r.numPages?t(r.numPages).assign:angular.noop,n.ngModelCtrl={$setViewValue:angular.noop},n._watchers=[],n.init=function(t,e){n.ngModelCtrl=t,n.config=e,t.$render=function(){n.render()},r.itemsPerPage?n._watchers.push(i.$parent.$watch(r.itemsPerPage,function(t){n.itemsPerPage=parseInt(t,10),i.totalPages=n.calculateTotalPages(),n.updatePage()})):n.itemsPerPage=e.itemsPerPage,i.$watch("totalItems",function(t,e){(angular.isDefined(t)||t!==e)&&(i.totalPages=n.calculateTotalPages(),n.updatePage())})},n.calculateTotalPages=function(){var t=n.itemsPerPage<1?1:Math.ceil(i.totalItems/n.itemsPerPage);return Math.max(t||0,1)},n.render=function(){i.page=parseInt(n.ngModelCtrl.$viewValue,10)||1},i.selectPage=function(t,e){e&&e.preventDefault(),(!i.ngDisabled||!e)&&i.page!==t&&0<t&&t<=i.totalPages&&(e&&e.target&&e.target.blur(),n.ngModelCtrl.$setViewValue(t),n.ngModelCtrl.$render())},i.getText=function(t){return i[t+"Text"]||n.config[t+"Text"]},i.noPrevious=function(){return 1===i.page},i.noNext=function(){return i.page===i.totalPages},n.updatePage=function(){n.setNumPages(i.$parent,i.totalPages),i.page>i.totalPages?i.selectPage(i.totalPages):n.ngModelCtrl.$render()},i.$on("$destroy",function(){for(;n._watchers.length;)n._watchers.shift()()})}}}]),angular.module("ui.bootstrap.pager",["ui.bootstrap.paging","ui.bootstrap.tabindex"]).controller("UibPagerController",["$scope","$attrs","uibPaging","uibPagerConfig",function(t,e,n,i){t.align=angular.isDefined(e.align)?t.$parent.$eval(e.align):i.align,n.create(this,t,e)}]).constant("uibPagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("uibPager",["uibPagerConfig",function(o){return{scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["uibPager","?ngModel"],restrict:"A",controller:"UibPagerController",controllerAs:"pager",templateUrl:function(t,e){return e.templateUrl||"uib/template/pager/pager.html"},link:function(t,e,n,i){e.addClass("pager");var r=i[0],a=i[1];a&&r.init(a,o)}}}]),angular.module("ui.bootstrap.pagination",["ui.bootstrap.paging","ui.bootstrap.tabindex"]).controller("UibPaginationController",["$scope","$attrs","$parse","uibPaging","uibPaginationConfig",function(e,n,t,i,r){function p(t,e,n){return{number:t,text:e,active:n}}var a=this,g=angular.isDefined(n.maxSize)?e.$parent.$eval(n.maxSize):r.maxSize,m=angular.isDefined(n.rotate)?e.$parent.$eval(n.rotate):r.rotate,v=angular.isDefined(n.forceEllipses)?e.$parent.$eval(n.forceEllipses):r.forceEllipses,y=angular.isDefined(n.boundaryLinkNumbers)?e.$parent.$eval(n.boundaryLinkNumbers):r.boundaryLinkNumbers,b=angular.isDefined(n.pageLabel)?function(t){return e.$parent.$eval(n.pageLabel,{$page:t})}:angular.identity;e.boundaryLinks=angular.isDefined(n.boundaryLinks)?e.$parent.$eval(n.boundaryLinks):r.boundaryLinks,e.directionLinks=angular.isDefined(n.directionLinks)?e.$parent.$eval(n.directionLinks):r.directionLinks,n.$set("role","menu"),i.create(this,e,n),n.maxSize&&a._watchers.push(e.$parent.$watch(t(n.maxSize),function(t){g=parseInt(t,10),a.render()}));var o=this.render;this.render=function(){o(),0<e.page&&e.page<=e.totalPages&&(e.pages=function(t,e){var n=[],i=1,r=e,a=angular.isDefined(g)&&g<e;a&&(m?e<(r=(i=Math.max(t-Math.floor(g/2),1))+g-1)&&(i=(r=e)-g+1):(i=(Math.ceil(t/g)-1)*g+1,r=Math.min(i+g-1,e)));for(var o=i;o<=r;o++){var s=p(o,b(o),o===t);n.push(s)}if(a&&0<g&&(!m||v||y)){if(1<i){if(!y||3<i){var l=p(i-1,"...",!1);n.unshift(l)}if(y){if(3===i){var u=p(2,"2",!1);n.unshift(u)}var c=p(1,"1",!1);n.unshift(c)}}if(r<e){if(!y||r<e-2){var d=p(r+1,"...",!1);n.push(d)}if(y){if(r===e-2){var h=p(e-1,e-1,!1);n.push(h)}var f=p(e,e,!1);n.push(f)}}}return n}(e.page,e.totalPages))}}]).constant("uibPaginationConfig",{itemsPerPage:10,boundaryLinks:!1,boundaryLinkNumbers:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0,forceEllipses:!1}).directive("uibPagination",["$parse","uibPaginationConfig",function(t,o){return{scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["uibPagination","?ngModel"],restrict:"A",controller:"UibPaginationController",controllerAs:"pagination",templateUrl:function(t,e){return e.templateUrl||"uib/template/pagination/pagination.html"},link:function(t,e,n,i){e.addClass("pagination");var r=i[0],a=i[1];a&&r.init(a,o)}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.stackedMap"]).provider("$uibTooltip",function(){var s={placement:"top",placementClassPrefix:"",animation:!0,popupDelay:0,popupCloseDelay:0,useContentExp:!1},l={mouseenter:"mouseleave",click:"click",outsideClick:"outsideClick",focus:"blur",none:""},u={};this.options=function(t){angular.extend(u,t)},this.setTriggers=function(t){angular.extend(l,t)},this.$get=["$window","$compile","$timeout","$document","$uibPosition","$interpolate","$rootScope","$parse","$$stackedMap",function(t,a,U,z,W,o,e,q,n){function i(t){if(27===t.which){var e=G.top();e&&(e.value.close(),e=null)}}var G=n.createNew();return z.on("keyup",i),e.$on("$destroy",function(){z.off("keyup",i)}),function(V,H,n,B){function Y(t){var e=(t||B.trigger||n).split(" ");return{show:e,hide:e.map(function(t){return l[t]||t})}}B=angular.extend({},s,u,B);var t=V.replace(/[A-Z]/g,function(t,e){return(e?"-":"")+t.toLowerCase()}),e=o.startSymbol(),i=o.endSymbol(),r="<div "+t+'-popup uib-title="'+e+"title"+i+'" '+(B.useContentExp?'content-exp="contentExp()" ':'content="'+e+"content"+i+'" ')+'origin-scope="origScope" class="uib-position-measure '+H+'" tooltip-animation-class="fade"uib-tooltip-classes ng-class="{ in: isOpen }" ></div>';return{compile:function(t,e){var N=a(r);return function(i,a,r,t){function n(){D.isOpen?s():o()}function o(){S&&!i.$eval(r[H+"Enable"])||(c(),function(){D.title=r[H+"Title"],D.content=$?$(i):r[V],D.popupClass=r[H+"Class"],D.placement=angular.isDefined(r[H+"Placement"])?r[H+"Placement"]:B.placement;var t=W.parsePlacement(D.placement);x=t[1]?t[0]+"-"+t[1]:t[0];var e=parseInt(r[H+"PopupDelay"],10),n=parseInt(r[H+"PopupCloseDelay"],10);D.popupDelay=isNaN(e)?B.popupDelay:e,D.popupCloseDelay=isNaN(n)?B.popupCloseDelay:n}(),D.popupDelay?y||(y=U(e,D.popupDelay,!1)):e())}function s(){l(),D.popupCloseDelay?b||(b=U(u,D.popupCloseDelay,!1)):u()}function e(){return l(),c(),D.content?(g||(m=D.$new(),g=N(m,function(t){k?z.find("body").append(t):a.after(t)}),G.add(D,{close:u}),O.length=0,$?(O.push(i.$watch($,function(t){!(D.content=t)&&D.isOpen&&u()})),O.push(m.$watch(function(){T||(T=!0,m.$$postDigest(function(){T=!1,D&&D.isOpen&&E()}))}))):O.push(r.$observe(V,function(t){!(D.content=t)&&D.isOpen?u():E()})),O.push(r.$observe(H+"Title",function(t){D.title=t,D.isOpen&&E()})),O.push(r.$observe(H+"Placement",function(t){D.placement=t||B.placement,D.isOpen&&E()}))),void D.$evalAsync(function(){h(D.isOpen=!0),E()})):angular.noop}function l(){y&&(U.cancel(y),y=null),_&&(U.cancel(_),_=null)}function u(){D&&D.$evalAsync(function(){D&&(h(D.isOpen=!1),D.animation?v||(v=U(d,150,!1)):d())})}function c(){b&&(U.cancel(b),b=null),v&&(U.cancel(v),v=null)}function d(){l(),c(),O.length&&(angular.forEach(O,function(t){t()}),O.length=0),g&&(g.remove(),g=null,w&&U.cancel(w)),G.remove(D),m&&(m.$destroy(),m=null)}function h(t){M&&angular.isFunction(M.assign)&&M.assign(i,t)}function f(t){D&&D.isOpen&&g&&(a[0].contains(t.target)||g[0].contains(t.target)||s())}function p(t){27===t.which&&s()}var g,m,v,y,b,_,w,x,k=!!angular.isDefined(B.appendToBody)&&B.appendToBody,C=Y(void 0),S=angular.isDefined(r[H+"Enable"]),D=i.$new(!0),T=!1,M=!!angular.isDefined(r[H+"IsOpen"])&&q(r[H+"IsOpen"]),$=!!B.useContentExp&&q(r[V]),O=[],E=function(){g&&g.html()&&(_||(_=U(function(){var t=W.positionElements(a,g,D.placement,k),n=angular.isDefined(g.offsetHeight)?g.offsetHeight:g.prop("offsetHeight"),i=k?W.offset(a):W.position(a);g.css({top:t.top+"px",left:t.left+"px"});var r=t.placement.split("-");g.hasClass(r[0])||(g.removeClass(x.split("-")[0]),g.addClass(r[0])),g.hasClass(B.placementClassPrefix+t.placement)||(g.removeClass(B.placementClassPrefix+x),g.addClass(B.placementClassPrefix+t.placement)),w=U(function(){var t=angular.isDefined(g.offsetHeight)?g.offsetHeight:g.prop("offsetHeight"),e=W.adjustTop(r,i,n,t);e&&g.css(e),w=null},0,!1),g.hasClass("uib-position-measure")?(W.positionArrow(g,t.placement),g.removeClass("uib-position-measure")):x!==t.placement&&W.positionArrow(g,t.placement),x=t.placement,_=null},0,!1)))};D.origScope=i,D.isOpen=!1,D.contentExp=function(){return D.content},r.$observe("disabled",function(t){t&&l(),t&&D.isOpen&&u()}),M&&i.$watch(M,function(t){D&&!t===D.isOpen&&n()});var P,A,R,I=function(){C.show.forEach(function(t){"outsideClick"===t?a.off("click",n):(a.off(t,o),a.off(t,n)),a.off("keypress",p)}),C.hide.forEach(function(t){"outsideClick"===t?z.off("click",f):a.off(t,s)})};P=[],A=[],R=i.$eval(r[H+"Trigger"]),I(),angular.isObject(R)?(Object.keys(R).forEach(function(t){P.push(t),A.push(R[t])}),C={show:P,hide:A}):C=Y(R),"none"!==C.show&&C.show.forEach(function(t,e){"outsideClick"===t?(a.on("click",n),z.on("click",f)):t===C.hide[e]?a.on(t,n):t&&(a.on(t,o),a.on(C.hide[e],s)),a.on("keypress",p)});var F=i.$eval(r[H+"Animation"]);D.animation=angular.isDefined(F)?!!F:B.animation;var j,L=H+"AppendToBody";j=L in r&&void 0===r[L]||i.$eval(r[L]),k=angular.isDefined(j)?j:k,i.$on("$destroy",function(){I(),d(),D=null})}}}}}]}).directive("uibTooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(d,i,h,f){return{link:function(t,a,e){var o,n,s,l=t.$eval(e.tooltipTemplateTranscludeScope),u=0,c=function(){n&&(n.remove(),n=null),o&&(o.$destroy(),o=null),s&&(d.leave(s).then(function(){n=null}),n=s,s=null)};t.$watch(i.parseAsResourceUrl(e.uibTooltipTemplateTransclude),function(i){var r=++u;i?(f(i,!0).then(function(t){if(r===u){var e=l.$new(),n=h(t)(e,function(t){c(),d.enter(t,a)});s=n,(o=e).$emit("$includeContentLoaded",i)}},function(){r===u&&(c(),t.$emit("$includeContentError",i))}),t.$emit("$includeContentRequested",i)):c()}),t.$on("$destroy",c)}}}]).directive("uibTooltipClasses",["$uibPosition",function(r){return{restrict:"A",link:function(t,e,n){if(t.placement){var i=r.parsePlacement(t.placement);e.addClass(i[0])}t.popupClass&&e.addClass(t.popupClass),t.animation&&e.addClass(n.tooltipAnimationClass)}}}]).directive("uibTooltipPopup",function(){return{restrict:"A",scope:{content:"@"},templateUrl:"uib/template/tooltip/tooltip-popup.html"}}).directive("uibTooltip",["$uibTooltip",function(t){return t("uibTooltip","tooltip","mouseenter")}]).directive("uibTooltipTemplatePopup",function(){return{restrict:"A",scope:{contentExp:"&",originScope:"&"},templateUrl:"uib/template/tooltip/tooltip-template-popup.html"}}).directive("uibTooltipTemplate",["$uibTooltip",function(t){return t("uibTooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("uibTooltipHtmlPopup",function(){return{restrict:"A",scope:{contentExp:"&"},templateUrl:"uib/template/tooltip/tooltip-html-popup.html"}}).directive("uibTooltipHtml",["$uibTooltip",function(t){return t("uibTooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("uibPopoverTemplatePopup",function(){return{restrict:"A",scope:{uibTitle:"@",contentExp:"&",originScope:"&"},templateUrl:"uib/template/popover/popover-template.html"}}).directive("uibPopoverTemplate",["$uibTooltip",function(t){return t("uibPopoverTemplate","popover","click",{useContentExp:!0})}]).directive("uibPopoverHtmlPopup",function(){return{restrict:"A",scope:{contentExp:"&",uibTitle:"@"},templateUrl:"uib/template/popover/popover-html.html"}}).directive("uibPopoverHtml",["$uibTooltip",function(t){return t("uibPopoverHtml","popover","click",{useContentExp:!0})}]).directive("uibPopoverPopup",function(){return{restrict:"A",scope:{uibTitle:"@",content:"@"},templateUrl:"uib/template/popover/popover.html"}}).directive("uibPopover",["$uibTooltip",function(t){return t("uibPopover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("uibProgressConfig",{animate:!0,max:100}).controller("UibProgressController",["$scope","$attrs","uibProgressConfig",function(t,e,n){function i(){return angular.isDefined(t.maxParam)?t.maxParam:n.max}var r=this,a=angular.isDefined(e.animate)?t.$parent.$eval(e.animate):n.animate;this.bars=[],t.max=i(),this.addBar=function(e,t,n){a||t.css({transition:"none"}),this.bars.push(e),e.max=i(),e.title=n&&angular.isDefined(n.title)?n.title:"progressbar",e.$watch("value",function(t){e.recalculatePercentage()}),e.recalculatePercentage=function(){var t=r.bars.reduce(function(t,e){return e.percent=+(100*e.value/e.max).toFixed(2),t+e.percent},0);100<t&&(e.percent-=t-100)},e.$on("$destroy",function(){t=null,r.removeBar(e)})},this.removeBar=function(t){this.bars.splice(this.bars.indexOf(t),1),this.bars.forEach(function(t){t.recalculatePercentage()})},t.$watch("maxParam",function(t){r.bars.forEach(function(t){t.max=i(),t.recalculatePercentage()})})}]).directive("uibProgress",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",require:"uibProgress",scope:{maxParam:"=?max"},templateUrl:"uib/template/progressbar/progress.html"}}).directive("uibBar",function(){return{replace:!0,transclude:!0,require:"^uibProgress",scope:{value:"=",type:"@"},templateUrl:"uib/template/progressbar/bar.html",link:function(t,e,n,i){i.addBar(t,e,n)}}}).directive("uibProgressbar",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",scope:{value:"=",maxParam:"=?max",type:"@"},templateUrl:"uib/template/progressbar/progressbar.html",link:function(t,e,n,i){i.addBar(t,angular.element(e.children()[0]),{title:n.title})}}}),angular.module("ui.bootstrap.rating",[]).constant("uibRatingConfig",{max:5,stateOn:null,stateOff:null,enableReset:!0,titles:["one","two","three","four","five"]}).controller("UibRatingController",["$scope","$attrs","uibRatingConfig",function(i,r,a){var o={$setViewValue:angular.noop},n=this;this.init=function(t){(o=t).$render=this.render,o.$formatters.push(function(t){return angular.isNumber(t)&&t<<0!==t&&(t=Math.round(t)),t}),this.stateOn=angular.isDefined(r.stateOn)?i.$parent.$eval(r.stateOn):a.stateOn,this.stateOff=angular.isDefined(r.stateOff)?i.$parent.$eval(r.stateOff):a.stateOff,this.enableReset=angular.isDefined(r.enableReset)?i.$parent.$eval(r.enableReset):a.enableReset;var e=angular.isDefined(r.titles)?i.$parent.$eval(r.titles):a.titles;this.titles=angular.isArray(e)&&0<e.length?e:a.titles;var n=angular.isDefined(r.ratingStates)?i.$parent.$eval(r.ratingStates):new Array(angular.isDefined(r.max)?i.$parent.$eval(r.max):a.max);i.range=this.buildTemplateObjects(n)},this.buildTemplateObjects=function(t){for(var e=0,n=t.length;e<n;e++)t[e]=angular.extend({index:e},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(e)},t[e]);return t},this.getTitle=function(t){return t>=this.titles.length?t+1:this.titles[t]},i.rate=function(t){if(!i.readonly&&0<=t&&t<=i.range.length){var e=n.enableReset&&o.$viewValue===t?0:t;o.$setViewValue(e),o.$render()}},i.enter=function(t){i.readonly||(i.value=t),i.onHover({value:t})},i.reset=function(){i.value=o.$viewValue,i.onLeave()},i.onKeydown=function(t){/(37|38|39|40)/.test(t.which)&&(t.preventDefault(),t.stopPropagation(),i.rate(i.value+(38===t.which||39===t.which?1:-1)))},this.render=function(){i.value=o.$viewValue,i.title=n.getTitle(i.value-1)}}]).directive("uibRating",function(){return{require:["uibRating","ngModel"],restrict:"A",scope:{readonly:"=?readOnly",onHover:"&",onLeave:"&"},controller:"UibRatingController",templateUrl:"uib/template/rating/rating.html",link:function(t,e,n,i){var r=i[0],a=i[1];r.init(a)}}}),angular.module("ui.bootstrap.tabs",[]).controller("UibTabsetController",["$scope",function(t){function a(t){for(var e=0;e<l.tabs.length;e++)if(l.tabs[e].index===t)return e}var o,s,l=this;l.tabs=[],l.select=function(t,e){if(!s){var n=a(o),i=l.tabs[n];if(i){if(i.tab.onDeselect({$event:e,$selectedIndex:t}),e&&e.isDefaultPrevented())return;i.tab.active=!1}var r=l.tabs[t];r?(r.tab.onSelect({$event:e}),r.tab.active=!0,l.active=r.index,o=r.index):!r&&angular.isDefined(o)&&(l.active=null,o=null)}},l.addTab=function(t){if(l.tabs.push({tab:t,index:t.index}),l.tabs.sort(function(t,e){return t.index>e.index?1:t.index<e.index?-1:0}),t.index===l.active||!angular.isDefined(l.active)&&1===l.tabs.length){var e=a(t.index);l.select(e)}},l.removeTab=function(t){for(var e,n=0;n<l.tabs.length;n++)if(l.tabs[n].tab===t){e=n;break}if(l.tabs[e].index===l.active){var i=e===l.tabs.length-1?e-1:e+1%l.tabs.length;l.select(i)}l.tabs.splice(e,1)},t.$watch("tabset.active",function(t){angular.isDefined(t)&&t!==o&&l.select(a(t))}),t.$on("$destroy",function(){s=!0})}]).directive("uibTabset",function(){return{transclude:!0,replace:!0,scope:{},bindToController:{active:"=?",type:"@"},controller:"UibTabsetController",controllerAs:"tabset",templateUrl:function(t,e){return e.templateUrl||"uib/template/tabs/tabset.html"},link:function(t,e,n){t.vertical=!!angular.isDefined(n.vertical)&&t.$parent.$eval(n.vertical),t.justified=!!angular.isDefined(n.justified)&&t.$parent.$eval(n.justified)}}}).directive("uibTab",["$parse",function(a){return{require:"^uibTabset",replace:!0,templateUrl:function(t,e){return e.templateUrl||"uib/template/tabs/tab.html"},transclude:!0,scope:{heading:"@",index:"=?",classes:"@?",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},controllerAs:"tab",link:function(i,t,e,r,n){i.disabled=!1,e.disable&&i.$parent.$watch(a(e.disable),function(t){i.disabled=!!t}),angular.isUndefined(e.index)&&(r.tabs&&r.tabs.length?i.index=Math.max.apply(null,r.tabs.map(function(t){return t.index}))+1:i.index=0),angular.isUndefined(e.classes)&&(i.classes=""),i.select=function(t){if(!i.disabled){for(var e,n=0;n<r.tabs.length;n++)if(r.tabs[n].tab===i){e=n;break}r.select(e,t)}},r.addTab(i),i.$on("$destroy",function(){r.removeTab(i)}),i.$transcludeFn=n}}}]).directive("uibTabHeadingTransclude",function(){return{restrict:"A",require:"^uibTab",link:function(t,e){t.$watch("headingElement",function(t){t&&(e.html(""),e.append(t))})}}}).directive("uibTabContentTransclude",function(){return{restrict:"A",require:"^uibTabset",link:function(t,n,e){var i=t.$eval(e.uibTabContentTransclude).tab;i.$transcludeFn(i.$parent,function(t){angular.forEach(t,function(t){var e;(e=t).tagName&&(e.hasAttribute("uib-tab-heading")||e.hasAttribute("data-uib-tab-heading")||e.hasAttribute("x-uib-tab-heading")||"uib-tab-heading"===e.tagName.toLowerCase()||"data-uib-tab-heading"===e.tagName.toLowerCase()||"x-uib-tab-heading"===e.tagName.toLowerCase()||"uib:tab-heading"===e.tagName.toLowerCase())?i.headingElement=t:n.append(t)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("uibTimepickerConfig",{hourStep:1,minuteStep:1,secondStep:1,showMeridian:!0,showSeconds:!1,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0,templateUrl:"uib/template/timepicker/timepicker.html"}).controller("UibTimepickerController",["$scope","$element","$attrs","$parse","$log","$locale","uibTimepickerConfig",function(a,t,o,e,n,i,s){function r(){var t=+a.hours;return(a.showMeridian?0<t&&t<13:0<=t&&t<24)&&""!==a.hours?(a.showMeridian&&(12===t&&(t=0),a.meridian===k[1]&&(t+=12)),t):void 0}function l(){var t=+a.minutes;return 0<=t&&t<60&&""!==a.minutes?t:void 0}function u(t,e){return null===t?"":angular.isDefined(t)&&t.toString().length<2&&!e?"0"+t:t.toString()}function c(t){d(),x.$setViewValue(new Date(_)),h(t)}function d(){v&&v.$setValidity("hours",!0),y&&y.$setValidity("minutes",!0),b&&b.$setValidity("seconds",!0),x.$setValidity("time",!0),a.invalidHours=!1,a.invalidMinutes=!1,a.invalidSeconds=!1}function h(t){if(x.$modelValue){var e=_.getHours(),n=_.getMinutes(),i=_.getSeconds();a.showMeridian&&(e=0===e||12===e?12:e%12),a.hours="h"===t?e:u(e,!C),"m"!==t&&(a.minutes=u(n)),a.meridian=_.getHours()<12?k[0]:k[1],"s"!==t&&(a.seconds=u(i)),a.meridian=_.getHours()<12?k[0]:k[1]}else a.hours=null,a.minutes=null,a.seconds=null,a.meridian=k[0]}function f(t){_=g(_,t),c()}function p(t,e){return g(t,60*e)}function g(t,e){var n=new Date(t.getTime()+1e3*e),i=new Date(t);return i.setHours(n.getHours(),n.getMinutes(),n.getSeconds()),i}function m(){return(null===a.hours||""===a.hours)&&(null===a.minutes||""===a.minutes)&&(!a.showSeconds||a.showSeconds&&(null===a.seconds||""===a.seconds))}var v,y,b,_=new Date,w=[],x={$setViewValue:angular.noop},k=angular.isDefined(o.meridians)?a.$parent.$eval(o.meridians):s.meridians||i.DATETIME_FORMATS.AMPMS,C=!angular.isDefined(o.padHours)||a.$parent.$eval(o.padHours);a.tabindex=angular.isDefined(o.tabindex)?o.tabindex:0,t.removeAttr("tabindex"),this.init=function(t,e){(x=t).$render=this.render,x.$formatters.unshift(function(t){return t?new Date(t):null});var n=e.eq(0),i=e.eq(1),r=e.eq(2);v=n.controller("ngModel"),y=i.controller("ngModel"),b=r.controller("ngModel"),(angular.isDefined(o.mousewheel)?a.$parent.$eval(o.mousewheel):s.mousewheel)&&this.setupMousewheelEvents(n,i,r),(angular.isDefined(o.arrowkeys)?a.$parent.$eval(o.arrowkeys):s.arrowkeys)&&this.setupArrowkeyEvents(n,i,r),a.readonlyInput=angular.isDefined(o.readonlyInput)?a.$parent.$eval(o.readonlyInput):s.readonlyInput,this.setupInputEvents(n,i,r)};var S=s.hourStep;o.hourStep&&w.push(a.$parent.$watch(e(o.hourStep),function(t){S=+t}));var D,T,M=s.minuteStep;o.minuteStep&&w.push(a.$parent.$watch(e(o.minuteStep),function(t){M=+t})),w.push(a.$parent.$watch(e(o.min),function(t){var e=new Date(t);D=isNaN(e)?void 0:e})),w.push(a.$parent.$watch(e(o.max),function(t){var e=new Date(t);T=isNaN(e)?void 0:e}));var $=!1;o.ngDisabled&&w.push(a.$parent.$watch(e(o.ngDisabled),function(t){$=t})),a.noIncrementHours=function(){var t=p(_,60*S);return $||T<t||t<_&&t<D},a.noDecrementHours=function(){var t=p(_,60*-S);return $||t<D||_<t&&T<t},a.noIncrementMinutes=function(){var t=p(_,M);return $||T<t||t<_&&t<D},a.noDecrementMinutes=function(){var t=p(_,-M);return $||t<D||_<t&&T<t},a.noIncrementSeconds=function(){var t=g(_,O);return $||T<t||t<_&&t<D},a.noDecrementSeconds=function(){var t=g(_,-O);return $||t<D||_<t&&T<t},a.noToggleMeridian=function(){return _.getHours()<12?$||p(_,720)>T:$||p(_,-720)<D};var O=s.secondStep;o.secondStep&&w.push(a.$parent.$watch(e(o.secondStep),function(t){O=+t})),a.showSeconds=s.showSeconds,o.showSeconds&&w.push(a.$parent.$watch(e(o.showSeconds),function(t){a.showSeconds=!!t})),a.showMeridian=s.showMeridian,o.showMeridian&&w.push(a.$parent.$watch(e(o.showMeridian),function(t){if(a.showMeridian=!!t,x.$error.time){var e=r(),n=l();angular.isDefined(e)&&angular.isDefined(n)&&(_.setHours(e),c())}else h()})),this.setupMousewheelEvents=function(t,e,n){var i=function(t){t.originalEvent&&(t=t.originalEvent);var e=t.wheelDelta?t.wheelDelta:-t.deltaY;return t.detail||0<e};t.on("mousewheel wheel",function(t){$||a.$apply(i(t)?a.incrementHours():a.decrementHours()),t.preventDefault()}),e.on("mousewheel wheel",function(t){$||a.$apply(i(t)?a.incrementMinutes():a.decrementMinutes()),t.preventDefault()}),n.on("mousewheel wheel",function(t){$||a.$apply(i(t)?a.incrementSeconds():a.decrementSeconds()),t.preventDefault()})},this.setupArrowkeyEvents=function(t,e,n){t.on("keydown",function(t){$||(38===t.which?(t.preventDefault(),a.incrementHours(),a.$apply()):40===t.which&&(t.preventDefault(),a.decrementHours(),a.$apply()))}),e.on("keydown",function(t){$||(38===t.which?(t.preventDefault(),a.incrementMinutes(),a.$apply()):40===t.which&&(t.preventDefault(),a.decrementMinutes(),a.$apply()))}),n.on("keydown",function(t){$||(38===t.which?(t.preventDefault(),a.incrementSeconds(),a.$apply()):40===t.which&&(t.preventDefault(),a.decrementSeconds(),a.$apply()))})},this.setupInputEvents=function(t,e,n){if(a.readonlyInput)return a.updateHours=angular.noop,a.updateMinutes=angular.noop,void(a.updateSeconds=angular.noop);var i=function(t,e,n){x.$setViewValue(null),x.$setValidity("time",!1),angular.isDefined(t)&&(a.invalidHours=t,v&&v.$setValidity("hours",!1)),angular.isDefined(e)&&(a.invalidMinutes=e,y&&y.$setValidity("minutes",!1)),angular.isDefined(n)&&(a.invalidSeconds=n,b&&b.$setValidity("seconds",!1))};a.updateHours=function(){var t=r(),e=l();x.$setDirty(),angular.isDefined(t)&&angular.isDefined(e)?(_.setHours(t),_.setMinutes(e),_<D||T<_?i(!0):c("h")):i(!0)},t.on("blur",function(t){x.$setTouched(),m()?d():null===a.hours||""===a.hours?i(!0):!a.invalidHours&&a.hours<10&&a.$apply(function(){a.hours=u(a.hours,!C)})}),a.updateMinutes=function(){var t=l(),e=r();x.$setDirty(),angular.isDefined(t)&&angular.isDefined(e)?(_.setHours(e),_.setMinutes(t),_<D||T<_?i(void 0,!0):c("m")):i(void 0,!0)},e.on("blur",function(t){x.$setTouched(),m()?d():null===a.minutes?i(void 0,!0):!a.invalidMinutes&&a.minutes<10&&a.$apply(function(){a.minutes=u(a.minutes)})}),a.updateSeconds=function(){var t,e=0<=(t=+a.seconds)&&t<60?t:void 0;x.$setDirty(),angular.isDefined(e)?(_.setSeconds(e),c("s")):i(void 0,void 0,!0)},n.on("blur",function(t){m()?d():!a.invalidSeconds&&a.seconds<10&&a.$apply(function(){a.seconds=u(a.seconds)})})},this.render=function(){var t=x.$viewValue;isNaN(t)?(x.$setValidity("time",!1),n.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(t&&(_=t),_<D||T<_?(x.$setValidity("time",!1),a.invalidHours=!0,a.invalidMinutes=!0):d(),h())},a.showSpinners=angular.isDefined(o.showSpinners)?a.$parent.$eval(o.showSpinners):s.showSpinners,a.incrementHours=function(){a.noIncrementHours()||f(60*S*60)},a.decrementHours=function(){a.noDecrementHours()||f(60*-S*60)},a.incrementMinutes=function(){a.noIncrementMinutes()||f(60*M)},a.decrementMinutes=function(){a.noDecrementMinutes()||f(60*-M)},a.incrementSeconds=function(){a.noIncrementSeconds()||f(O)},a.decrementSeconds=function(){a.noDecrementSeconds()||f(-O)},a.toggleMeridian=function(){var t=l(),e=r();a.noToggleMeridian()||(angular.isDefined(t)&&angular.isDefined(e)?f(720*(_.getHours()<12?60:-60)):a.meridian=a.meridian===k[0]?k[1]:k[0])},a.blur=function(){x.$setTouched()},a.$on("$destroy",function(){for(;w.length;)w.shift()()})}]).directive("uibTimepicker",["uibTimepickerConfig",function(n){return{require:["uibTimepicker","?^ngModel"],restrict:"A",controller:"UibTimepickerController",controllerAs:"timepicker",scope:{},templateUrl:function(t,e){return e.templateUrl||n.templateUrl},link:function(t,e,n,i){var r=i[0],a=i[1];a&&r.init(a,e.find("input"))}}}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.debounce","ui.bootstrap.position"]).factory("uibTypeaheadParser",["$parse",function(n){var i=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(t){var e=t.match(i);if(!e)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+t+'".');return{itemName:e[3],source:n(e[4]),viewMapper:n(e[2]||e[1]),modelMapper:n(e[1])}}}}]).controller("UibTypeaheadController",["$scope","$element","$attrs","$compile","$parse","$q","$timeout","$document","$window","$rootScope","$$debounce","$uibPosition","uibTypeaheadParser",function(u,c,s,t,i,e,l,n,r,a,d,o,h){function f(){L.moveInProgress||(L.moveInProgress=!0,L.$digest()),q()}function p(){L.position=$?o.offset(c):o.position(c),L.position.top+=c.prop("offsetHeight")}var g,m,v=[9,13,27,38,40],y=u.$eval(s.typeaheadMinLength);y||0===y||(y=1),u.$watch(s.typeaheadMinLength,function(t){y=t||0===t?t:1});var b=u.$eval(s.typeaheadWaitMs)||0,_=!1!==u.$eval(s.typeaheadEditable);u.$watch(s.typeaheadEditable,function(t){_=!1!==t});var w,x,k=i(s.typeaheadLoading).assign||angular.noop,C=s.typeaheadShouldSelect?i(s.typeaheadShouldSelect):function(t,e){var n=e.$event;return 13===n.which||9===n.which},S=i(s.typeaheadOnSelect),D=!!angular.isDefined(s.typeaheadSelectOnBlur)&&u.$eval(s.typeaheadSelectOnBlur),T=i(s.typeaheadNoResults).assign||angular.noop,M=s.typeaheadInputFormatter?i(s.typeaheadInputFormatter):void 0,$=!!s.typeaheadAppendToBody&&u.$eval(s.typeaheadAppendToBody),O=s.typeaheadAppendTo?u.$eval(s.typeaheadAppendTo):null,E=!1!==u.$eval(s.typeaheadFocusFirst),P=!!s.typeaheadSelectOnExact&&u.$eval(s.typeaheadSelectOnExact),A=i(s.typeaheadIsOpen).assign||angular.noop,R=u.$eval(s.typeaheadShowHint)||!1,I=i(s.ngModel),F=i(s.ngModel+"($$$p)"),j=h.parse(s.uibTypeahead),L=u.$new(),N=u.$on("$destroy",function(){L.$destroy()});L.$on("$destroy",N);var V,H,B="typeahead-"+L.$id+"-"+Math.floor(1e4*Math.random());c.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":B}),R&&((V=angular.element("<div></div>")).css("position","relative"),c.after(V),(H=c.clone()).attr("placeholder",""),H.attr("tabindex","-1"),H.val(""),H.css({position:"absolute",top:"0px",left:"0px","border-color":"transparent","box-shadow":"none",opacity:1,background:"none 0% 0% / auto repeat scroll padding-box border-box rgb(255, 255, 255)",color:"#999"}),c.css({position:"relative","vertical-align":"top","background-color":"transparent"}),H.attr("id")&&H.removeAttr("id"),V.append(H),H.after(c));var Y=angular.element("<div uib-typeahead-popup></div>");Y.attr({id:B,matches:"matches",active:"activeIdx",select:"select(activeIdx, evt)","move-in-progress":"moveInProgress",query:"query",position:"position","assign-is-open":"assignIsOpen(isOpen)",debounce:"debounceUpdate"}),angular.isDefined(s.typeaheadTemplateUrl)&&Y.attr("template-url",s.typeaheadTemplateUrl),angular.isDefined(s.typeaheadPopupTemplateUrl)&&Y.attr("popup-template-url",s.typeaheadPopupTemplateUrl);var U=function(){L.matches=[],L.activeIdx=-1,c.attr("aria-expanded",!1),R&&H.val("")},z=function(t){return B+"-option-"+t};L.$watch("activeIdx",function(t){t<0?c.removeAttr("aria-activedescendant"):c.attr("aria-activedescendant",z(t))});var W=function(o,s){var l={$viewValue:o};k(u,!0),T(u,!1),e.when(j.source(u,l)).then(function(t){var e,n,i=o===g.$viewValue;if(i&&w)if(t&&0<t.length){L.activeIdx=E?0:-1,T(u,!1);for(var r=L.matches.length=0;r<t.length;r++)l[j.itemName]=t[r],L.matches.push({id:z(r),label:j.viewMapper(L,l),model:t[r]});if(L.query=o,p(),c.attr("aria-expanded",!0),P&&1===L.matches.length&&(e=o,n=0,!!(L.matches.length>n&&e)&&e.toUpperCase()===L.matches[n].label.toUpperCase())&&(angular.isNumber(L.debounceUpdate)||angular.isObject(L.debounceUpdate)?d(function(){L.select(0,s)},angular.isNumber(L.debounceUpdate)?L.debounceUpdate:L.debounceUpdate.default):L.select(0,s)),R){var a=L.matches[0].label;angular.isString(o)&&0<o.length&&a.slice(0,o.length).toUpperCase()===o.toUpperCase()?H.val(o+a.slice(o.length)):H.val("")}}else U(),T(u,!0);i&&k(u,!1)},function(){U(),k(u,!1),T(u,!0)})};$&&(angular.element(r).on("resize",f),n.find("body").on("scroll",f));var q=d(function(){L.matches.length&&p(),L.moveInProgress=!1},200);L.moveInProgress=!1,L.query=void 0;var G,Z=function(){G&&l.cancel(G)};U(),L.assignIsOpen=function(t){A(u,t)},L.select=function(t,e){var n,i,r,a,o={};x=!0,o[j.itemName]=i=L.matches[t].model,n=j.modelMapper(u,o),r=u,a=n,angular.isFunction(I(u))&&m.getOption("getterSetter")?F(r,{$$$p:a}):I.assign(r,a),g.$setValidity("editable",!0),g.$setValidity("parse",!0),S(u,{$item:i,$model:n,$label:j.viewMapper(u,o),$event:e}),U(),!1!==L.$eval(s.typeaheadFocusOnSelect)&&l(function(){c[0].focus()},0,!1)},c.on("keydown",function(t){if(0!==L.matches.length&&-1!==v.indexOf(t.which)){var e,n=C(u,{$event:t});if(-1===L.activeIdx&&n||9===t.which&&t.shiftKey)return U(),void L.$digest();switch(t.preventDefault(),t.which){case 27:t.stopPropagation(),U(),u.$digest();break;case 38:L.activeIdx=(0<L.activeIdx?L.activeIdx:L.matches.length)-1,L.$digest(),(e=Y[0].querySelectorAll(".uib-typeahead-match")[L.activeIdx]).parentNode.scrollTop=e.offsetTop;break;case 40:L.activeIdx=(L.activeIdx+1)%L.matches.length,L.$digest(),(e=Y[0].querySelectorAll(".uib-typeahead-match")[L.activeIdx]).parentNode.scrollTop=e.offsetTop;break;default:n&&L.$apply(function(){angular.isNumber(L.debounceUpdate)||angular.isObject(L.debounceUpdate)?d(function(){L.select(L.activeIdx,t)},angular.isNumber(L.debounceUpdate)?L.debounceUpdate:L.debounceUpdate.default):L.select(L.activeIdx,t)})}}}),c.on("focus",function(t){w=!0,0!==y||g.$viewValue||l(function(){W(g.$viewValue,t)},0)}),c.on("blur",function(t){D&&L.matches.length&&-1!==L.activeIdx&&!x&&(x=!0,L.$apply(function(){angular.isObject(L.debounceUpdate)&&angular.isNumber(L.debounceUpdate.blur)?d(function(){L.select(L.activeIdx,t)},L.debounceUpdate.blur):L.select(L.activeIdx,t)})),!_&&g.$error.editable&&(g.$setViewValue(),L.$apply(function(){g.$setValidity("editable",!0),g.$setValidity("parse",!0)}),c.val("")),x=w=!1});var X=function(t){c[0]!==t.target&&3!==t.which&&0!==L.matches.length&&(U(),a.$$phase||u.$digest())};n.on("click",X),u.$on("$destroy",function(){n.off("click",X),($||O)&&K.remove(),$&&(angular.element(r).off("resize",f),n.find("body").off("scroll",f)),Y.remove(),R&&V.remove()});var K=t(Y)(L);$?n.find("body").append(K):O?angular.element(O).eq(0).append(K):c.after(K),this.init=function(t){var e,n;e=g=t,angular.version.minor<6?(n=e.$options||{}).getOption=function(t){return n[t]}:n=e.$options,m=n,L.debounceUpdate=i(m.getOption("debounce"))(u),g.$parsers.unshift(function(t){return w=!0,0===y||t&&t.length>=y?0<b?(Z(),e=t,G=l(function(){W(e)},b)):W(t):(k(u,!1),Z(),U()),_?t:t?void g.$setValidity("editable",!1):(g.$setValidity("editable",!0),null);var e}),g.$formatters.push(function(t){var e,n={};return _||g.$setValidity("editable",!0),M?(n.$model=t,M(u,n)):(n[j.itemName]=t,e=j.viewMapper(u,n),n[j.itemName]=void 0,e!==j.viewMapper(u,n)?e:t)})}}]).directive("uibTypeahead",function(){return{controller:"UibTypeaheadController",require:["ngModel","uibTypeahead"],link:function(t,e,n,i){i[1].init(i[0])}}}).directive("uibTypeaheadPopup",["$$debounce",function(r){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&",assignIsOpen:"&",debounce:"&"},replace:!0,templateUrl:function(t,e){return e.popupTemplateUrl||"uib/template/typeahead/typeahead-popup.html"},link:function(i,t,e){i.templateUrl=e.templateUrl,i.isOpen=function(){var t=0<i.matches.length;return i.assignIsOpen({isOpen:t}),t},i.isActive=function(t){return i.active===t},i.selectActive=function(t){i.active=t},i.selectMatch=function(t,e){var n=i.debounce();angular.isNumber(n)||angular.isObject(n)?r(function(){i.select({activeIdx:t,evt:e})},angular.isNumber(n)?n:n.default):i.select({activeIdx:t,evt:e})}}}}]).directive("uibTypeaheadMatch",["$templateRequest","$compile","$parse",function(r,a,o){return{scope:{index:"=",match:"=",query:"="},link:function(n,i,t){var e=o(t.templateUrl)(n.$parent)||"uib/template/typeahead/typeahead-match.html";r(e).then(function(t){var e=angular.element(t.trim());i.replaceWith(e),a(e)(n)})}}}]).filter("uibTypeaheadHighlight",["$sce","$injector","$log",function(n,t,i){var r;return r=t.has("$sanitize"),function(t,e){return!r&&/<.*>/g.test(t)&&i.warn("Unsafe use of typeahead please use ngSanitize"),t=e?(""+t).replace(new RegExp(e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),"gi"),"<strong>$&</strong>"):t,r||(t=n.trustAsHtml(t)),t}}]),angular.module("ui.bootstrap.carousel").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibCarouselCss&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'),angular.$$uibCarouselCss=!0}),angular.module("ui.bootstrap.datepicker").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker .uib-title{width:100%;}.uib-day button,.uib-month button,.uib-year button{min-width:100%;}.uib-left,.uib-right{width:100%}</style>'),angular.$$uibDatepickerCss=!0}),angular.module("ui.bootstrap.position").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibPositionCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-position-measure{display:block !important;visibility:hidden !important;position:absolute !important;top:-9999px !important;left:-9999px !important;}.uib-position-scrollbar-measure{position:absolute !important;top:-9999px !important;width:50px !important;height:50px !important;overflow:scroll !important;}.uib-position-body-scrollbar-measure{overflow:scroll !important;}</style>'),angular.$$uibPositionCss=!0}),angular.module("ui.bootstrap.datepickerPopup").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerpopupCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker-popup.dropdown-menu{display:block;float:none;margin:0;}.uib-button-bar{padding:10px 9px 2px;}</style>'),angular.$$uibDatepickerpopupCss=!0}),angular.module("ui.bootstrap.tooltip").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTooltipCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-tooltip-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-bottom > .tooltip-arrow,[uib-popover-popup].popover.top-left > .arrow,[uib-popover-popup].popover.top-right > .arrow,[uib-popover-popup].popover.bottom-left > .arrow,[uib-popover-popup].popover.bottom-right > .arrow,[uib-popover-popup].popover.left-top > .arrow,[uib-popover-popup].popover.left-bottom > .arrow,[uib-popover-popup].popover.right-top > .arrow,[uib-popover-popup].popover.right-bottom > .arrow,[uib-popover-html-popup].popover.top-left > .arrow,[uib-popover-html-popup].popover.top-right > .arrow,[uib-popover-html-popup].popover.bottom-left > .arrow,[uib-popover-html-popup].popover.bottom-right > .arrow,[uib-popover-html-popup].popover.left-top > .arrow,[uib-popover-html-popup].popover.left-bottom > .arrow,[uib-popover-html-popup].popover.right-top > .arrow,[uib-popover-html-popup].popover.right-bottom > .arrow,[uib-popover-template-popup].popover.top-left > .arrow,[uib-popover-template-popup].popover.top-right > .arrow,[uib-popover-template-popup].popover.bottom-left > .arrow,[uib-popover-template-popup].popover.bottom-right > .arrow,[uib-popover-template-popup].popover.left-top > .arrow,[uib-popover-template-popup].popover.left-bottom > .arrow,[uib-popover-template-popup].popover.right-top > .arrow,[uib-popover-template-popup].popover.right-bottom > .arrow{top:auto;bottom:auto;left:auto;right:auto;margin:0;}[uib-popover-popup].popover,[uib-popover-html-popup].popover,[uib-popover-template-popup].popover{display:block !important;}</style>'),angular.$$uibTooltipCss=!0}),angular.module("ui.bootstrap.timepicker").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTimepickerCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-time input{width:50px;}</style>'),angular.$$uibTimepickerCss=!0}),angular.module("ui.bootstrap.typeahead").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTypeaheadCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-typeahead-popup].dropdown-menu{display:block;}</style>'),angular.$$uibTypeaheadCss=!0}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?t(require("jquery")):t(jQuery)}(function(C){"use strict";var e,i=C(window),r=C(document),c=window.location,t=".cropper",d="preview"+t,l=/^(e|n|w|s|ne|nw|sw|se|all|crop|move|zoom)$/,u="cropper-modal",h="cropper-hide",S="cropper-hidden",o="cropper-move",a="cropper-crop",n="cropper-disabled",s="mousedown touchstart",f="mousemove touchmove",p="mouseup mouseleave touchend touchleave touchcancel",g="wheel mousewheel DOMMouseScroll",m="resize"+t,v="build"+t,y="built"+t,b="dragstart"+t,_="dragmove"+t,w="dragend"+t,x="zoomin"+t,k="zoomout"+t,D="change"+t,T=C.isFunction(C("<canvas>")[0].getContext),M=Math.sqrt,$=Math.min,O=Math.max,E=Math.abs,P=Math.sin,A=Math.cos,R=parseFloat,I={};function F(t){return"number"==typeof t&&!isNaN(t)}function j(t){return void 0===t}function L(t,e){var n=[];return F(e)&&n.push(e),n.slice.apply(t,n)}function N(t,e){var n=L(arguments,2);return function(){return t.apply(e,n.concat(L(arguments)))}}function V(t){return t?"rotate("+t+"deg)":"none"}function H(t,e){var n,i,r=E(t.degree)%180,a=(90<r?180-r:r)*Math.PI/180,o=P(a),s=A(a),l=t.width,u=t.height,c=t.aspectRatio;return e?i=(n=l/(s+o/c))/c:(n=l*s+u*o,i=l*o+u*s),{width:n,height:i}}function B(t,e){this.$element=C(t),this.options=C.extend({},B.DEFAULTS,C.isPlainObject(e)&&e),this.ready=!1,this.built=!1,this.rotated=!1,this.cropped=!1,this.disabled=!1,this.canvas=null,this.cropBox=null,this.load()}I.load=function(i){var t,e,n,r,a,o,s,l=this.options,u=this.$element;if(!i)if(u.is("img")){if(!u.attr("src"))return;i=u.prop("src")}else u.is("canvas")&&T&&(i=u[0].toDataURL());i&&(n=C.Event(v),u.one(v,l.build).trigger(n),n.isDefaultPrevented()||(l.checkImageOrigin&&((s=i.match(/^(https?:)\/\/([^\:\/\?#]+):?(\d*)/i))&&(s[1]!==c.protocol||s[2]!==c.hostname||s[3]!==c.port))&&(t=' crossOrigin="anonymous"',u.prop("crossOrigin")||(a=i,o="timestamp="+(new Date).getTime(),e=a+(-1===a.indexOf("?")?"?":"&")+o)),this.$clone=r=C("<img"+(t||"")+' src="'+(e||i)+'">'),r.one("load",C.proxy(function(){var t=r[0],e=t.naturalWidth||t.width,n=t.naturalHeight||t.height;this.image={naturalWidth:e,naturalHeight:n,aspectRatio:e/n,rotate:0},this.url=i,this.ready=!0,this.build()},this)).one("error",function(){r.remove()}),r.addClass(h).insertAfter(u)))},I.build=function(){var t,e,n,i=this.$element,r=this.$clone,a=this.options;this.ready&&(this.built&&this.unbuild(),this.$cropper=t=C(B.TEMPLATE),i.addClass(S),r.removeClass(h),this.$container=i.parent().append(t),this.$canvas=t.find(".cropper-canvas").append(r),this.$dragBox=t.find(".cropper-drag-box"),this.$cropBox=e=t.find(".cropper-crop-box"),this.$viewBox=t.find(".cropper-view-box"),this.$face=n=e.find(".cropper-face"),this.addListeners(),this.initPreview(),a.aspectRatio=R(a.aspectRatio)||NaN,a.autoCrop?(this.cropped=!0,a.modal&&this.$dragBox.addClass(u)):e.addClass(S),a.background&&t.addClass("cropper-bg"),a.highlight||n.addClass("cropper-invisible"),a.guides||e.find(".cropper-dashed").addClass(S),a.cropBoxMovable&&n.addClass(o).data("drag","all"),a.cropBoxResizable||e.find(".cropper-line, .cropper-point").addClass(S),this.setDragMode(a.dragCrop?"crop":a.movable?"move":"none"),this.built=!0,this.render(),this.setData(a.data),i.one(y,a.built).trigger(y))},I.unbuild=function(){this.built&&(this.built=!1,this.initialImage=null,this.initialCanvas=null,this.initialCropBox=null,this.container=null,this.canvas=null,this.cropBox=null,this.removeListeners(),this.resetPreview(),this.$preview=null,this.$viewBox=null,this.$cropBox=null,this.$dragBox=null,this.$canvas=null,this.$container=null,this.$cropper.remove(),this.$cropper=null)},C.extend(I,{render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var t=this.$element,e=this.$container,n=this.$cropper,i=this.options;n.addClass(S),t.removeClass(S),n.css(this.container={width:O(e.width(),R(i.minContainerWidth)||200),height:O(e.height(),R(i.minContainerHeight)||100)}),t.addClass(S),n.removeClass(S)},initCanvas:function(){var t=this.container,e=t.width,n=t.height,i=this.image,r=i.aspectRatio,a={aspectRatio:r,width:e,height:n};e<n*r?a.height=e/r:a.width=n*r,a.oldLeft=a.left=(e-a.width)/2,a.oldTop=a.top=(n-a.height)/2,this.canvas=a,this.limitCanvas(!0,!0),this.initialImage=C.extend({},i),this.initialCanvas=C.extend({},a)},limitCanvas:function(t,e){var n,i,r=this.options,a=r.strict,o=this.container,s=o.width,l=o.height,u=this.canvas,c=u.aspectRatio,d=this.cropBox,h=this.cropped&&d,f=this.initialCanvas||u,p=f.width,g=f.height;t&&(n=R(r.minCanvasWidth)||0,i=R(r.minCanvasHeight)||0,n?(a&&(n=O(h?d.width:p,n)),i=n/c):i?(a&&(i=O(h?d.height:g,i)),n=i*c):a&&(h?(n=d.width)<(i=d.height)*c?n=i*c:i=n/c:(n=p,i=g)),C.extend(u,{minWidth:n,minHeight:i,maxWidth:1/0,maxHeight:1/0})),e&&(a?h?(u.minLeft=$(d.left,d.left+d.width-u.width),u.minTop=$(d.top,d.top+d.height-u.height),u.maxLeft=d.left,u.maxTop=d.top):(u.minLeft=$(0,s-u.width),u.minTop=$(0,l-u.height),u.maxLeft=O(0,s-u.width),u.maxTop=O(0,l-u.height)):(u.minLeft=-u.width,u.minTop=-u.height,u.maxLeft=s,u.maxTop=l))},renderCanvas:function(t){var e,n,i=this.options,r=this.canvas,a=this.image;this.rotated&&(this.rotated=!1,(e=(n=H({width:a.width,height:a.height,degree:a.rotate})).width/n.height)!==r.aspectRatio&&(r.left-=(n.width-r.width)/2,r.top-=(n.height-r.height)/2,r.width=n.width,r.height=n.height,r.aspectRatio=e,this.limitCanvas(!0,!1))),(r.width>r.maxWidth||r.width<r.minWidth)&&(r.left=r.oldLeft),(r.height>r.maxHeight||r.height<r.minHeight)&&(r.top=r.oldTop),r.width=$(O(r.width,r.minWidth),r.maxWidth),r.height=$(O(r.height,r.minHeight),r.maxHeight),this.limitCanvas(!1,!0),r.oldLeft=r.left=$(O(r.left,r.minLeft),r.maxLeft),r.oldTop=r.top=$(O(r.top,r.minTop),r.maxTop),this.$canvas.css({width:r.width,height:r.height,left:r.left,top:r.top}),this.renderImage(),this.cropped&&i.strict&&this.limitCropBox(!0,!0),t&&this.output()},renderImage:function(){var t,e=this.canvas,n=this.image;n.rotate&&(t=H({width:e.width,height:e.height,degree:n.rotate,aspectRatio:n.aspectRatio},!0)),C.extend(n,t?{width:t.width,height:t.height,left:(e.width-t.width)/2,top:(e.height-t.height)/2}:{width:e.width,height:e.height,left:0,top:0}),this.$clone.css({width:n.width,height:n.height,marginLeft:n.left,marginTop:n.top,transform:V(n.rotate)})},initCropBox:function(){var t=this.options,e=this.canvas,n=t.aspectRatio,i=R(t.autoCropArea)||.8,r={width:e.width,height:e.height};n&&(e.height*n>e.width?r.height=r.width/n:r.width=r.height*n),this.cropBox=r,this.limitCropBox(!0,!0),r.width=$(O(r.width,r.minWidth),r.maxWidth),r.height=$(O(r.height,r.minHeight),r.maxHeight),r.width=O(r.minWidth,r.width*i),r.height=O(r.minHeight,r.height*i),r.oldLeft=r.left=e.left+(e.width-r.width)/2,r.oldTop=r.top=e.top+(e.height-r.height)/2,this.initialCropBox=C.extend({},r)},limitCropBox:function(t,e){var n,i,r=this.options,a=r.strict,o=this.container,s=o.width,l=o.height,u=this.canvas,c=this.cropBox,d=r.aspectRatio;t&&(n=R(r.minCropBoxWidth)||0,i=R(r.minCropBoxHeight)||0,c.minWidth=$(s,n),c.minHeight=$(l,i),c.maxWidth=$(s,a?u.width:s),c.maxHeight=$(l,a?u.height:l),d&&(c.maxHeight*d>c.maxWidth?(c.minHeight=c.minWidth/d,c.maxHeight=c.maxWidth/d):(c.minWidth=c.minHeight*d,c.maxWidth=c.maxHeight*d)),c.minWidth=$(c.maxWidth,c.minWidth),c.minHeight=$(c.maxHeight,c.minHeight)),e&&(a?(c.minLeft=O(0,u.left),c.minTop=O(0,u.top),c.maxLeft=$(s,u.left+u.width)-c.width,c.maxTop=$(l,u.top+u.height)-c.height):(c.minLeft=0,c.minTop=0,c.maxLeft=s-c.width,c.maxTop=l-c.height))},renderCropBox:function(){var t=this.options,e=this.container,n=e.width,i=e.height,r=this.cropBox;(r.width>r.maxWidth||r.width<r.minWidth)&&(r.left=r.oldLeft),(r.height>r.maxHeight||r.height<r.minHeight)&&(r.top=r.oldTop),r.width=$(O(r.width,r.minWidth),r.maxWidth),r.height=$(O(r.height,r.minHeight),r.maxHeight),this.limitCropBox(!1,!0),r.oldLeft=r.left=$(O(r.left,r.minLeft),r.maxLeft),r.oldTop=r.top=$(O(r.top,r.minTop),r.maxTop),t.movable&&t.cropBoxMovable&&this.$face.data("drag",r.width===n&&r.height===i?"move":"all"),this.$cropBox.css({width:r.width,height:r.height,left:r.left,top:r.top}),this.cropped&&t.strict&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){var t=this.options,e=this.$element;this.preview(),t.crop&&t.crop.call(e,this.getData()),e.trigger(D)}}),I.initPreview=function(){var e=this.url;this.$preview=C(this.options.preview),this.$viewBox.html('<img src="'+e+'">'),this.$preview.each(function(){var t=C(this);t.data(d,{width:t.width(),height:t.height(),original:t.html()}).html('<img src="'+e+'" style="display:block;width:100%;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation: 0deg!important">')})},I.resetPreview=function(){this.$preview.each(function(){var t=C(this);t.html(t.data(d).original).removeData(d)})},I.preview=function(){var t=this.image,e=this.canvas,a=this.cropBox,o=t.width,s=t.height,l=a.left-e.left-t.left,u=a.top-e.top-t.top,c=t.rotate;this.cropped&&!this.disabled&&(this.$viewBox.find("img").css({width:o,height:s,marginLeft:-l,marginTop:-u,transform:V(c)}),this.$preview.each(function(){var t=C(this),e=t.data(d),n=e.width/a.width,i=e.width,r=a.height*n;r>e.height&&(n=e.height/a.height,i=a.width*n,r=e.height),t.width(i).height(r).find("img").css({width:o*n,height:s*n,marginLeft:-l*n,marginTop:-u*n,transform:V(c)})}))},I.addListeners=function(){var t=this.options,e=this.$element,n=this.$cropper;C.isFunction(t.dragstart)&&e.on(b,t.dragstart),C.isFunction(t.dragmove)&&e.on(_,t.dragmove),C.isFunction(t.dragend)&&e.on(w,t.dragend),C.isFunction(t.zoomin)&&e.on(x,t.zoomin),C.isFunction(t.zoomout)&&e.on(k,t.zoomout),C.isFunction(t.change)&&e.on(D,t.change),n.on(s,C.proxy(this.dragstart,this)),t.zoomable&&t.mouseWheelZoom&&n.on(g,C.proxy(this.wheel,this)),t.doubleClickToggle&&n.on("dblclick",C.proxy(this.dblclick,this)),r.on(f,this._dragmove=N(this.dragmove,this)).on(p,this._dragend=N(this.dragend,this)),t.responsive&&i.on(m,this._resize=N(this.resize,this))},I.removeListeners=function(){var t=this.options,e=this.$element,n=this.$cropper;C.isFunction(t.dragstart)&&e.off(b,t.dragstart),C.isFunction(t.dragmove)&&e.off(_,t.dragmove),C.isFunction(t.dragend)&&e.off(w,t.dragend),C.isFunction(t.zoomin)&&e.off(x,t.zoomin),C.isFunction(t.zoomout)&&e.off(k,t.zoomout),C.isFunction(t.change)&&e.off(D,t.change),n.off(s,this.dragstart),t.zoomable&&t.mouseWheelZoom&&n.off(g,this.wheel),t.doubleClickToggle&&n.off("dblclick",this.dblclick),r.off(f,this._dragmove).off(p,this._dragend),t.responsive&&i.off(m,this._resize)},C.extend(I,{resize:function(){var n,i,r,t=this.$container,e=this.container;!this.disabled&&e&&(1===(r=t.width()/e.width)&&t.height()===e.height||(n=this.getCanvasData(),i=this.getCropBoxData(),this.render(),this.setCanvasData(C.each(n,function(t,e){n[t]=e*r})),this.setCropBoxData(C.each(i,function(t,e){i[t]=e*r}))))},dblclick:function(){this.disabled||(this.$dragBox.hasClass(a)?this.setDragMode("move"):this.setDragMode("crop"))},wheel:function(t){var e=t.originalEvent,n=1;this.disabled||(t.preventDefault(),e.deltaY?n=0<e.deltaY?1:-1:e.wheelDelta?n=-e.wheelDelta/120:e.detail&&(n=0<e.detail?1:-1),this.zoom(.1*-n))},dragstart:function(t){var e,n,i,r=this.options,a=t.originalEvent,o=a&&a.touches,s=t;if(!this.disabled){if(o){if(1<(i=o.length)){if(!r.zoomable||!r.touchDragZoom||2!==i)return;s=o[1],this.startX2=s.pageX,this.startY2=s.pageY,e="zoom"}s=o[0]}if(e=e||C(s.target).data("drag"),l.test(e)){if(t.preventDefault(),n=C.Event(b,{originalEvent:a,dragType:e}),this.$element.trigger(n),n.isDefaultPrevented())return;this.dragType=e,this.cropping=!1,this.startX=s.pageX,this.startY=s.pageY,"crop"===e&&(this.cropping=!0,this.$dragBox.addClass(u))}}},dragmove:function(t){var e,n,i=this.options,r=t.originalEvent,a=r&&r.touches,o=t,s=this.dragType;if(!this.disabled){if(a){if(1<(n=a.length)){if(!i.zoomable||!i.touchDragZoom||2!==n)return;o=a[1],this.endX2=o.pageX,this.endY2=o.pageY}o=a[0]}if(s){if(t.preventDefault(),e=C.Event(_,{originalEvent:r,dragType:s}),this.$element.trigger(e),e.isDefaultPrevented())return;this.endX=o.pageX,this.endY=o.pageY,this.change(o.shiftKey)}}},dragend:function(t){var e,n=this.dragType;if(!this.disabled&&n){if(t.preventDefault(),e=C.Event(w,{originalEvent:t.originalEvent,dragType:n}),this.$element.trigger(e),e.isDefaultPrevented())return;this.cropping&&(this.cropping=!1,this.$dragBox.toggleClass(u,this.cropped&&this.options.modal)),this.dragType=""}}}),C.extend(I,{crop:function(){this.built&&!this.disabled&&(this.cropped||(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&this.$dragBox.addClass(u),this.$cropBox.removeClass(S)),this.setCropBoxData(this.initialCropBox))},reset:function(){this.built&&!this.disabled&&(this.image=C.extend({},this.initialImage),this.canvas=C.extend({},this.initialCanvas),this.cropBox=C.extend({},this.initialCropBox),this.renderCanvas(),this.cropped&&this.renderCropBox())},clear:function(){this.cropped&&!this.disabled&&(C.extend(this.cropBox,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(),this.renderCanvas(),this.$dragBox.removeClass(u),this.$cropBox.addClass(S))},destroy:function(){var t=this.$element;this.ready?(this.unbuild(),t.removeClass(S)):this.$clone&&this.$clone.remove(),t.removeData("cropper")},replace:function(t){!this.disabled&&t&&(this.options.data=null,this.load(t))},enable:function(){this.built&&(this.disabled=!1,this.$cropper.removeClass(n))},disable:function(){this.built&&(this.disabled=!0,this.$cropper.addClass(n))},move:function(t,e){var n=this.canvas;this.built&&!this.disabled&&this.options.movable&&F(t)&&F(e)&&(n.left+=t,n.top+=e,this.renderCanvas(!0))},zoom:function(t){var e,n,i,r=this.canvas;if((t=R(t))&&this.built&&!this.disabled&&this.options.zoomable){if(e=0<t?C.Event(x):C.Event(k),this.$element.trigger(e),e.isDefaultPrevented())return;t=t<=-1?1/(1-t):t<=1?1+t:t,n=r.width*t,i=r.height*t,r.left-=(n-r.width)/2,r.top-=(i-r.height)/2,r.width=n,r.height=i,this.renderCanvas(!0),this.setDragMode("move")}},rotate:function(t){var e=this.image;(t=R(t))&&this.built&&!this.disabled&&this.options.rotatable&&(e.rotate=(e.rotate+t)%360,this.rotated=!0,this.renderCanvas(!0))},getData:function(n){var i,r,t=this.cropBox,e=this.canvas,a=this.image;return this.built&&this.cropped?(r={x:t.left-e.left,y:t.top-e.top,width:t.width,height:t.height},i=a.width/a.naturalWidth,C.each(r,function(t,e){e/=i,r[t]=n?Math.round(e):e})):r={x:0,y:0,width:0,height:0},r.rotate=this.ready?a.rotate:0,r},setData:function(t){var e,n=this.image,i=this.canvas,r={};this.built&&!this.disabled&&C.isPlainObject(t)&&(F(t.rotate)&&t.rotate!==n.rotate&&this.options.rotatable&&(n.rotate=t.rotate,this.rotated=!0,this.renderCanvas(!0)),e=n.width/n.naturalWidth,F(t.x)&&(r.left=t.x*e+i.left),F(t.y)&&(r.top=t.y*e+i.top),F(t.width)&&(r.width=t.width*e),F(t.height)&&(r.height=t.height*e),this.setCropBoxData(r))},getContainerData:function(){return this.built?this.container:{}},getImageData:function(){return this.ready?this.image:{}},getCanvasData:function(){var t,e=this.canvas;return this.built&&(t={left:e.left,top:e.top,width:e.width,height:e.height}),t||{}},setCanvasData:function(t){var e=this.canvas,n=e.aspectRatio;this.built&&!this.disabled&&C.isPlainObject(t)&&(F(t.left)&&(e.left=t.left),F(t.top)&&(e.top=t.top),F(t.width)?(e.width=t.width,e.height=t.width/n):F(t.height)&&(e.height=t.height,e.width=t.height*n),this.renderCanvas(!0))},getCropBoxData:function(){var t,e=this.cropBox;return this.built&&this.cropped&&(t={left:e.left,top:e.top,width:e.width,height:e.height}),t||{}},setCropBoxData:function(t){var e=this.cropBox,n=this.options.aspectRatio;this.built&&this.cropped&&!this.disabled&&C.isPlainObject(t)&&(F(t.left)&&(e.left=t.left),F(t.top)&&(e.top=t.top),F(t.width)&&(e.width=t.width),F(t.height)&&(e.height=t.height),n&&(F(t.width)?e.height=e.width/n:F(t.height)&&(e.width=e.height*n)),this.renderCropBox())},getCroppedCanvas:function(t){var _,w,e,n,i,r,x,a,o,s,k;if(this.built&&this.cropped&&T)return C.isPlainObject(t)||(t={}),k=this.getData(),_=k.width,w=k.height,a=_/w,C.isPlainObject(t)&&(i=t.width,r=t.height,i?(r=i/a,x=i/_):r&&(i=r*a,x=r/w)),e=i||_,n=r||w,(o=C("<canvas>")[0]).width=e,o.height=n,s=o.getContext("2d"),t.fillColor&&(s.fillStyle=t.fillColor,s.fillRect(0,0,e,n)),s.drawImage.apply(s,function(){var t,e,n,i,r,a,o,s,l,u,c,d,h,f,p=(o=this.$clone[0],s=this.image,l=C("<canvas>")[0],u=l.getContext("2d"),c=s.naturalWidth,d=s.naturalHeight,h=s.rotate,f=H({width:c,height:d,degree:h}),h?(l.width=f.width,l.height=f.height,u.save(),u.translate(f.width/2,f.height/2),u.rotate(h*Math.PI/180),u.drawImage(o,-c/2,-d/2,c,d),u.restore()):(l.width=c,l.height=d,u.drawImage(o,0,0,c,d)),l),g=p.width,m=p.height,v=[p],y=k.x,b=k.y;return y<=-_||g<y?y=t=n=r=0:y<=0?(n=-y,t=r=$(g,_+(y=0))):y<=g&&(n=0,t=r=$(_,g-y)),t<=0||b<=-w||m<b?b=e=i=a=0:b<=0?(i=-b,e=a=$(m,w+(b=0))):b<=m&&(i=0,e=a=$(w,m-b)),v.push(y,b,t,e),x&&(n*=x,i*=x,r*=x,a*=x),0<r&&0<a&&v.push(n,i,r,a),v}.call(this)),o},setAspectRatio:function(t){var e=this.options;this.disabled||j(t)||(e.aspectRatio=R(t)||NaN,this.built&&(this.initCropBox(),this.cropped&&this.renderCropBox()))},setDragMode:function(t){var e,n,i=this.options;this.ready&&!this.disabled&&(e=i.dragCrop&&"crop"===t,n=i.movable&&"move"===t,t=e||n?t:"none",this.$dragBox.data("drag",t).toggleClass(a,e).toggleClass(o,n),i.cropBoxMovable||this.$face.data("drag",t).toggleClass(a,e).toggleClass(o,n))}}),I.change=function(t){var e,n,i,r,a,o,s=this.dragType,l=this.options,u=this.canvas,c=this.container,d=this.cropBox,h=d.width,f=d.height,p=d.left,g=d.top,m=p+h,v=g+f,y=0,b=0,_=c.width,w=c.height,x=!0,k=l.aspectRatio,C={x:this.endX-this.startX,y:this.endY-this.startY};switch(!k&&t&&(k=h&&f?h/f:1),l.strict&&(y=d.minLeft,b=d.minTop,_=y+$(c.width,u.width),w=b+$(c.height,u.height)),k&&(C.X=C.y*k,C.Y=C.x/k),s){case"all":p+=C.x,g+=C.y;break;case"e":if(0<=C.x&&(_<=m||k&&(g<=b||w<=v))){x=!1;break}h+=C.x,k&&(f=h/k,g-=C.Y/2),h<0&&(s="w",h=0);break;case"n":if(C.y<=0&&(g<=b||k&&(p<=y||_<=m))){x=!1;break}f-=C.y,g+=C.y,k&&(h=f*k,p+=C.X/2),f<0&&(s="s",f=0);break;case"w":if(C.x<=0&&(p<=y||k&&(g<=b||w<=v))){x=!1;break}h-=C.x,p+=C.x,k&&(f=h/k,g+=C.Y/2),h<0&&(s="e",h=0);break;case"s":if(0<=C.y&&(w<=v||k&&(p<=y||_<=m))){x=!1;break}f+=C.y,k&&(h=f*k,p-=C.X/2),f<0&&(s="n",f=0);break;case"ne":if(k){if(C.y<=0&&(g<=b||_<=m)){x=!1;break}f-=C.y,g+=C.y,h=f*k}else 0<=C.x?m<_?h+=C.x:C.y<=0&&g<=b&&(x=!1):h+=C.x,C.y<=0?b<g&&(f-=C.y,g+=C.y):(f-=C.y,g+=C.y);h<0&&f<0?(s="sw",h=f=0):h<0?(s="nw",h=0):f<0&&(s="se",f=0);break;case"nw":if(k){if(C.y<=0&&(g<=b||p<=y)){x=!1;break}f-=C.y,g+=C.y,h=f*k,p+=C.X}else C.x<=0?y<p?(h-=C.x,p+=C.x):C.y<=0&&g<=b&&(x=!1):(h-=C.x,p+=C.x),C.y<=0?b<g&&(f-=C.y,g+=C.y):(f-=C.y,g+=C.y);h<0&&f<0?(s="se",h=f=0):h<0?(s="ne",h=0):f<0&&(s="sw",f=0);break;case"sw":if(k){if(C.x<=0&&(p<=y||w<=v)){x=!1;break}h-=C.x,p+=C.x,f=h/k}else C.x<=0?y<p?(h-=C.x,p+=C.x):0<=C.y&&w<=v&&(x=!1):(h-=C.x,p+=C.x),0<=C.y?v<w&&(f+=C.y):f+=C.y;h<0&&f<0?(s="ne",h=f=0):h<0?(s="se",h=0):f<0&&(s="nw",f=0);break;case"se":if(k){if(0<=C.x&&(_<=m||w<=v)){x=!1;break}f=(h+=C.x)/k}else 0<=C.x?m<_?h+=C.x:0<=C.y&&w<=v&&(x=!1):h+=C.x,0<=C.y?v<w&&(f+=C.y):f+=C.y;h<0&&f<0?(s="nw",h=f=0):h<0?(s="sw",h=0):f<0&&(s="ne",f=0);break;case"move":u.left+=C.x,u.top+=C.y,this.renderCanvas(!0),x=!1;break;case"zoom":this.zoom((n=E(this.startX-this.startX2),i=E(this.startY-this.startY2),r=E(this.endX-this.endX2),a=E(this.endY-this.endY2),o=M(n*n+i*i),(M(r*r+a*a)-o)/o)),this.startX2=this.endX2,this.startY2=this.endY2,x=!1;break;case"crop":C.x&&C.y&&(e=this.$cropper.offset(),p=this.startX-e.left,g=this.startY-e.top,h=d.minWidth,f=d.minHeight,0<C.x?0<C.y?s="se":(s="ne",g-=f):0<C.y?(s="sw",p-=h):(s="nw",p-=h,g-=f),this.cropped||(this.cropped=!0,this.$cropBox.removeClass(S)))}x&&(d.width=h,d.height=f,d.left=p,d.top=g,this.dragType=s,this.renderCropBox()),this.startX=this.endX,this.startY=this.endY},C.extend(B.prototype,I),B.DEFAULTS={aspectRatio:NaN,autoCropArea:.8,crop:null,data:null,preview:"",strict:!0,responsive:!0,checkImageOrigin:!0,modal:!0,guides:!0,highlight:!0,background:!0,autoCrop:!0,dragCrop:!0,movable:!0,rotatable:!0,zoomable:!0,touchDragZoom:!0,mouseWheelZoom:!0,cropBoxMovable:!0,cropBoxResizable:!0,doubleClickToggle:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,build:null,built:null,dragstart:null,dragmove:null,dragend:null,zoomin:null,zoomout:null,change:null},B.setDefaults=function(t){C.extend(B.DEFAULTS,t)},B.TEMPLATE=(e=(e="div,span,drag,data,point,cropper,class,line,dashed,box").split(","),'<0 6="5-container"><0 6="5-canvas"></0><0 6="5-2-9"></0><0 6="5-crop-9"><1 6="5-view-9"></1><1 6="5-8 8-h"></1><1 6="5-8 8-v"></1><1 6="5-face"></1><1 6="5-7 7-e" 3-2="e"></1><1 6="5-7 7-n" 3-2="n"></1><1 6="5-7 7-w" 3-2="w"></1><1 6="5-7 7-s" 3-2="s"></1><1 6="5-4 4-e" 3-2="e"></1><1 6="5-4 4-n" 3-2="n"></1><1 6="5-4 4-w" 3-2="w"></1><1 6="5-4 4-s" 3-2="s"></1><1 6="5-4 4-ne" 3-2="ne"></1><1 6="5-4 4-nw" 3-2="nw"></1><1 6="5-4 4-sw" 3-2="sw"></1><1 6="5-4 4-se" 3-2="se"></1></0></0>'.replace(/\d+/g,function(t){return e[t]})),B.other=C.fn.cropper,C.fn.cropper=function(i){var r,a=L(arguments,1);return this.each(function(){var t,e=C(this),n=e.data("cropper");n||e.data("cropper",n=new B(this,i)),"string"==typeof i&&C.isFunction(t=n[i])&&(r=t.apply(n,a))}),j(r)?this:r},C.fn.cropper.Constructor=B,C.fn.cropper.setDefaults=B.setDefaults,C.fn.cropper.noConflict=function(){return C.fn.cropper=B.other,this}}),function(){"use strict";angular.module("ngCropper",["ng"]).directive("ngCropper",["$q","$parse",function(s,r){return{restrict:"A",scope:{options:"=ngCropperOptions",proxy:"=ngCropperProxy",showEvent:"=ngCropperShow",hideEvent:"=ngCropperHide"},link:function(e,n,t){var i=!1;e.$on(e.showEvent,function(){i||(i=!0,function(t,e){t=t||{};var n=s.when(t);t.maximize&&(i=t,n=(r=e,a=s.defer(),o=new Image,o.onload=function(){a.resolve({width:o.width,height:o.height})},o.src=r.src,a.promise).then(function(t){return i.data=t,i}));var i,r,a,o;return n}(e.options,n[0]).then(function(t){!function(t){if(!e.proxy)return;(0,r(e.proxy).assign)(e.$parent,t.cropper.bind(t))}(n),n.cropper(t)}))}),e.$on(e.hideEvent,function(){i&&(i=!1,n.cropper("destroy"))}),e.$watch("options.disabled",function(t){i&&(t&&n.cropper("disable"),t||n.cropper("enable"))})}}}]).service("Cropper",["$q",function(i){function t(t){var e=i.defer(),n=new Image;return n.onload=function(t){e.resolve(t.target)},n.src=t,e.promise}function h(t){var e=document.createElement("canvas");return e.width=t.width,e.height=t.height,e.style.display="none",document.body.appendChild(e),e}function f(t){t.parentElement.removeChild(t)}this.encode=function(t){var e=i.defer(),n=new FileReader;return n.onload=function(t){e.resolve(t.target.result)},n.readAsDataURL(t),e.promise},this.decode=function(t){for(var e=t.split(";")[0].split(":")[1],n=atob(t.split(",")[1]),i=new Uint8Array(n.length),r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return new Blob([i],{type:e})},this.crop=function(i,r){var a=this.decode;return this.encode(i).then(t).then(function(t){var e=h(r);e.getContext("2d").drawImage(t,r.x,r.y,r.width,r.height,0,0,r.width,r.height);var n=e.toDataURL(i.type);return f(e),a(n)})},this.scale=function(u,c){var d=this.decode;return this.encode(u).then(t).then(function(t){var e,n,i,r=t.height,a=t.width;angular.isNumber(c)&&(n=r*(e=c),i=a*e),angular.isObject(c)&&(e=a/r,n=c.height,i=c.width,n&&!i?i=n*e:i&&!n&&(n=i/e));var o=h(c),s=o.getContext("2d");o.height=n,o.width=i,s.drawImage(t,0,0,a,r,0,0,i,n);var l=o.toDataURL(u.type);return f(o),d(l)})}}])}(),function(t){"use strict";angular.module("vcRecaptcha",[])}(),function(m){"use strict";m.module("vcRecaptcha").provider("vcRecaptchaService",function(){var p=this,g={};p.onLoadFunctionName="vcRecaptchaApiLoaded",p.setDefaults=function(t){m.copy(t,g)},p.setSiteKey=function(t){g.key=t},p.setTheme=function(t){g.theme=t},p.setStoken=function(t){g.stoken=t},p.setSize=function(t){g.size=t},p.setType=function(t){g.type=t},p.setLang=function(t){g.lang=t},p.setBadge=function(t){g.badge=t},p.setOnLoadFunctionName=function(t){p.onLoadFunctionName=t},p.$get=["$rootScope","$window","$q","$document","$interval",function(e,t,r,n,i){function a(){if(!s)throw new Error("reCaptcha has not been loaded yet.")}function o(){return m.isFunction((t.grecaptcha||{}).render)}var s,l=r.defer(),u=l.promise,c={};t.vcRecaptchaApiLoadedCallback=t.vcRecaptchaApiLoadedCallback||[];var d=function(){s=t.grecaptcha,l.resolve(s)};if(t.vcRecaptchaApiLoadedCallback.push(d),t[p.onLoadFunctionName]=function(){t.vcRecaptchaApiLoadedCallback.forEach(function(t){t()})},o())d();else if(t.document.querySelector('script[src^="https://www.google.com/recaptcha/api.js"]'))var h=i(function(){o()&&(i.cancel(h),d())},25);else{var f=t.document.createElement("script");f.async=!0,f.defer=!0,f.src="https://www.google.com/recaptcha/api.js?onload="+p.onLoadFunctionName+"&render=explicit",n.find("body")[0].appendChild(f)}return{create:function(n,i){return i.sitekey=i.key||g.key,i.theme=i.theme||g.theme,i.stoken=i.stoken||g.stoken,i.size=i.size||g.size,i.type=i.type||g.type,i.hl=i.lang||g.lang,i.badge=i.badge||g.badge,i.sitekey||function(){throw new Error('You need to set the "key" attribute to your public reCaptcha key. If you don\'t have a key, please get one from https://www.google.com/recaptcha/admin/create')}(),(s?r.when(s):u).then(function(t){var e=t.render(n,i);return c[e]=n,e})},reload:function(t){a(),s.reset(t),e.$broadcast("reCaptchaReset",t)},execute:function(t){a(),s.execute(t)},useLang:function(t,e){var n=c[t];if(!n)throw new Error("reCaptcha Widget ID not exists",t);var i=n.querySelector("iframe");if(!e)return i&&i.src&&/[?&]hl=\w+/.test(i.src)?i.src.replace(/.+[?&]hl=(\w+)([^\w].+)?/,"$1"):null;if(i&&i.src){var r=i.src;/[?&]hl=/.test(r)?r=r.replace(/([?&]hl=)\w+/,"$1"+e):r+=(-1===r.indexOf("?")?"?":"&")+"hl="+e,i.src=r}},getResponse:function(t){return a(),s.getResponse(t)},getInstance:function(t){return c[t]},destroy:function(t){delete c[t]}}}]})}(angular),function(h){"use strict";h.module("vcRecaptcha").directive("vcRecaptcha",["$document","$timeout","vcRecaptchaService",function(u,c,d){return{restrict:"A",require:"?^^form",scope:{response:"=?ngModel",key:"=?",stoken:"=?",theme:"=?",size:"=?",type:"=?",lang:"=?",badge:"=?",tabindex:"=?",required:"=?",onCreate:"&",onSuccess:"&",onExpire:"&",onError:"&"},link:function(i,e,n,t){function r(){t&&t.$setValidity("recaptcha",null),d.destroy(i.widgetId),h.element(u[0].querySelectorAll(".pls-container")).parent().remove()}function a(){c(function(){i.response="",s(),i.onExpire({widgetId:i.widgetId})})}function o(){var t=arguments;c(function(){i.response="",s(),i.onError({widgetId:i.widgetId,arguments:t})})}function s(){t&&t.$setValidity("recaptcha",!1===i.required?null:Boolean(i.response))}i.widgetId=null,t&&h.isDefined(n.required)&&i.$watch("required",s);var l=i.$watch("key",function(t){d.create(e[0],{callback:function(t){c(function(){i.response=t,s(),i.onSuccess({response:t,widgetId:i.widgetId})})},key:t,stoken:i.stoken||n.stoken||null,theme:i.theme||n.theme||null,type:i.type||n.type||null,lang:i.lang||n.lang||null,tabindex:i.tabindex||n.tabindex||null,size:i.size||n.size||null,badge:i.badge||n.badge||null,"expired-callback":a,"error-callback":n.onError?o:void 0}).then(function(n){s(),i.widgetId=n,i.onCreate({widgetId:n}),i.$on("$destroy",r),i.$on("reCaptchaReset",function(t,e){(h.isUndefined(e)||n===e)&&(i.response="",s())})}),l()})}}}])}(angular),function(s){var l,u,n,i,e,c,r,a,o,d,t,h,f,p=0,g={},m=[],v=0,y={},b=[],_=null,w=new Image,x=/\.(jpg|gif|png|bmp|jpeg)(.*)?$/i,k=/[^\.]\.(swf)\s*$/i,C=1,S=0,D="",T=!1,M=s.extend(s("<div/>")[0],{prop:0}),$=navigator.userAgent.match(/msie [6]/i)&&!window.XMLHttpRequest,O=function(){u.hide(),w.onerror=w.onload=null,_&&_.abort(),l.empty()},E=function(){if(!1===g.onError(m,p,g))return u.hide(),void(T=!1);g.titleShow=!1,g.width="auto",g.height="auto",l.html('<p id="fbplus-error">The requested content cannot be loaded.<br />Please try again later.</p>'),A()},P=function(){var i,t,e,n,r,a,o=m[p];if(O(),g=s.extend({},s.fn.fancyboxPlus.defaults,void 0===s(o).data("fancyboxPlus")?g:s(o).data("fancyboxPlus")),!1!==(a=g.onStart(m,p,g)))if("object"==typeof a&&(g=s.extend(g,a)),e=g.title||(o.nodeName?s(o).attr("title"):o.title)||"",o.nodeName&&!g.orig&&(g.orig=s(o).children("img:first").length?s(o).children("img:first"):s(o)),""===e&&g.orig&&g.titleFromAlt&&(e=g.orig.attr("alt")),i=g.href||(o.nodeName?s(o).attr("href"):o.href)||null,(/^(?:javascript)/i.test(i)||"#"==i)&&(i=null),g.type?(t=g.type,i||(i=g.content)):g.content?t="html":i&&(t=i.match(x)?"image":i.match(k)?"swf":s(o).hasClass("iframe")?"iframe":0===i.indexOf("#")?"inline":"ajax"),t)switch("inline"==t&&(o=i.substr(i.indexOf("#")),t=0<s(o).length?"inline":"ajax"),g.type=t,g.href=i,g.title=e,g.autoDimensions&&("html"==g.type||"inline"==g.type||"ajax"==g.type?(g.width="auto",g.height="auto"):g.autoDimensions=!1),g.modal&&(g.overlayShow=!0,g.hideOnOverlayClick=!1,g.hideOnContentClick=!1,g.enableEscapeButton=!1,g.showCloseButton=!1),g.padding=parseInt(g.padding,10),g.margin=parseInt(g.margin,10),l.css("padding",g.padding+g.margin),s(".fbplus-inline-tmp").unbind("fbplus-cancel").bind("fbplus-change",function(){s(this).replaceWith(c.children())}),t){case"html":l.html(g.content),A();break;case"inline":if(!0===s(o).parent().is("#fbplus-content"))return void(T=!1);s('<div class="fbplus-inline-tmp" />').hide().insertBefore(s(o)).bind("fbplus-cleanup",function(){s(this).replaceWith(c.children())}).bind("fbplus-cancel",function(){s(this).replaceWith(l.children())}),s(o).appendTo(l),A();break;case"image":T=!1,s.fancyboxPlus.showActivity(),(w=new Image).onerror=function(){E()},w.onload=function(){T=!0,w.onerror=w.onload=null,R()},w.src=i;break;case"swf":g.scrolling="no",n='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+g.width+'" height="'+g.height+'"><param name="movie" value="'+i+'"></param>',r="",s.each(g.swf,function(t,e){n+='<param name="'+t+'" value="'+e+'"></param>',r+=" "+t+'="'+e+'"'}),n+='<embed src="'+i+'" type="application/x-shockwave-flash" width="'+g.width+'" height="'+g.height+'"'+r+"></embed></object>",l.html(n),A();break;case"ajax":T=!1,s.fancyboxPlus.showActivity(),g.ajax.win=g.ajax.success,_=s.ajax(s.extend({},g.ajax,{url:i,data:g.ajax.data||{},error:function(t,e,n){0<t.status&&E()},success:function(t,e,n){if(200==("object"==typeof n?n:_).status){if("function"==typeof g.ajax.win){if(!1===(a=g.ajax.win(i,t,e,n)))return void u.hide();"string"!=typeof a&&"object"!=typeof a||(t=a)}l.html(t),A()}}}));break;case"iframe":I()}else E();else T=!1},A=function(){var t=g.width,e=g.height;t=-1<t.toString().indexOf("%")?parseInt((s(window).width()-2*g.margin)*parseFloat(t)/100,10)+"px":"auto"==t?"auto":t+"px",e=-1<e.toString().indexOf("%")?parseInt((s(window).height()-2*g.margin)*parseFloat(e)/100,10)+"px":"auto"==e?"auto":e+"px",l.wrapInner('<div style="width:'+t+";height:"+e+";overflow: "+("auto"==g.scrolling?"auto":"yes"==g.scrolling?"scroll":"hidden")+';position:relative;"></div>'),g.width=l.width(),g.height=l.height(),I()},R=function(){g.width=w.width,g.height=w.height,s("<img />").attr({id:"fbplus-img",src:w.src,alt:g.title}).appendTo(l),I()},I=function(){var t,e;return u.hide(),i.is(":visible")&&!1===y.onCleanup(b,v,y)?(s.event.trigger("fbplus-cancel"),void(T=!1)):(T=!0,s(c.add(n)).unbind(),s(window).unbind("resize.fb scroll.fb"),s(document).unbind("keydown.fb"),i.is(":visible")&&"outside"!==y.titlePosition&&i.css("height",i.height()),b=m,v=p,(y=g).overlayShow?(n.css({"background-color":y.overlayColor,opacity:y.overlayOpacity,cursor:y.hideOnOverlayClick?"pointer":"auto",height:s(document).height()}),n.is(":visible")||($&&s("select:not(#fbplus-tmp select)").filter(function(){return"hidden"!==this.style.visibility}).css({visibility:"hidden"}).one("fbplus-cleanup",function(){this.style.visibility="inherit"}),n.show())):n.hide(),f=H(),F(),i.is(":visible")?(s(r.add(o).add(d)).hide(),t=i.position(),h={top:t.top,left:t.left,width:i.width(),height:i.height()},e=h.width==f.width&&h.height==f.height,void c.fadeTo(y.changeFade,.3,function(){var t=function(){c.html(l.contents()).fadeTo(y.changeFade,1,j)};s.event.trigger("fbplus-change"),c.empty().removeAttr("filter").css({"border-width":y.padding,width:f.width-2*y.padding,height:g.autoDimensions?"auto":f.height-S-2*y.padding}),e?t():(M.prop=0,s(M).animate({prop:1},{duration:y.changeSpeed,easing:y.easingChange,step:N,complete:t}))})):(i.removeAttr("style"),c.css("border-width",y.padding),"elastic"==y.transitionIn?(h=B(),c.html(l.contents()),i.show(),y.opacity&&(f.opacity=0),M.prop=0,void s(M).animate({prop:1},{duration:y.speedIn,easing:y.easingIn,step:N,complete:j})):("inside"==y.titlePosition&&0<S&&a.show(),c.css({width:f.width-2*y.padding,height:g.autoDimensions?"auto":f.height-S-2*y.padding}).html(l.contents()),void i.css(f).fadeIn("none"==y.transitionIn?0:y.speedIn,j))))},F=function(){var t;if(D=y.title||"",S=0,a.empty().removeAttr("style").removeClass(),!1!==y.titleShow)if((D=s.isFunction(y.titleFormat)?y.titleFormat(D,b,v,y):!(!(t=D)||!t.length)&&("float"==y.titlePosition?'<table id="fbplus-title-float-wrap" cellpadding="0" cellspacing="0"><tr><td id="fbplus-title-float-left"></td><td id="fbplus-title-float-main">'+t+'</td><td id="fbplus-title-float-right"></td></tr></table>':'<div id="fbplus-title-'+y.titlePosition+'">'+t+"</div>"))&&""!==D){switch(a.addClass("fbplus-title-"+y.titlePosition).html(D).appendTo("body").show(),y.titlePosition){case"inside":a.css({width:f.width-2*y.padding,marginLeft:y.padding,marginRight:y.padding}),S=a.outerHeight(!0),a.appendTo(e),f.height+=S;break;case"over":a.css({marginLeft:y.padding,width:f.width-2*y.padding,bottom:y.padding}).appendTo(e);break;case"float":a.css("left",-1*parseInt((a.width()-f.width-40)/2,10)).appendTo(i);break;default:a.css({width:f.width-2*y.padding,paddingLeft:y.padding,paddingRight:y.padding}).appendTo(i)}a.hide()}else a.hide();else a.hide()},j=function(){s.support.opacity||(s("#fancybox-content").css("filter",0),s("#fancybox-wrap").css("filter",0)),g.autoDimensions&&c.css("height","auto"),i.css("height","auto"),D&&D.length&&a.show(),y.showCloseButton&&r.show(),function(){if((y.enableEscapeButton||y.enableKeyboardNav)&&s(document).bind("keydown.fb",function(t){27==t.keyCode&&y.enableEscapeButton?(t.preventDefault(),s.fancyboxPlus.close()):37!=t.keyCode&&39!=t.keyCode||!y.enableKeyboardNav||"INPUT"===t.target.tagName||"TEXTAREA"===t.target.tagName||"SELECT"===t.target.tagName||(t.preventDefault(),s.fancyboxPlus[37==t.keyCode?"prev":"next"]())}),!y.showNavArrows)return o.hide(),d.hide();(y.cyclic&&1<b.length||0!==v)&&o.show(),(y.cyclic&&1<b.length||v!=b.length-1)&&d.show()}(),y.hideOnContentClick&&c.bind("click",s.fancyboxPlus.close),y.hideOnOverlayClick&&n.bind("click",s.fancyboxPlus.close),s(window).bind("resize.fb",s.fancyboxPlus.resize),y.centerOnScroll&&s(window).bind("scroll.fb",s.fancyboxPlus.center),"iframe"==y.type&&s('<iframe id="fbplus-frame" name="fbplus-frame'+(new Date).getTime()+'" frameborder="0" hspace="0" '+(navigator.userAgent.match(/msie [6]/i)?'allowtransparency="true""':"")+' scrolling="'+g.scrolling+'" src="'+y.href+'"></iframe>').appendTo(c),i.show(),T=!1,s.fancyboxPlus.center(),y.onComplete(b,v,y),L()},L=function(){var t;b.length-1>v&&void 0!==(t=b[v+1].href)&&t.match(x)&&((new Image).src=t),0<v&&void 0!==(t=b[v-1].href)&&t.match(x)&&((new Image).src=t)},N=function(t){var e={width:parseInt(h.width+(f.width-h.width)*t,10),height:parseInt(h.height+(f.height-h.height)*t,10),top:parseInt(h.top+(f.top-h.top)*t,10),left:parseInt(h.left+(f.left-h.left)*t,10)};void 0!==f.opacity&&(e.opacity=t<.5?.5:t),i.css(e),c.css({width:e.width-2*y.padding,height:e.height-S*t-2*y.padding})},V=function(){return[s(window).width()-2*y.margin,s(window).height()-2*y.margin,s(document).scrollLeft()+y.margin,s(document).scrollTop()+y.margin]},H=function(){var t,e=V(),n={},i=y.autoScale,r=2*y.padding;return-1<y.width.toString().indexOf("%")?n.width=parseInt(e[0]*parseFloat(y.width)/100,10):n.width=y.width+r,-1<y.height.toString().indexOf("%")?n.height=parseInt(e[1]*parseFloat(y.height)/100,10):n.height=y.height+r,i&&(n.width>e[0]||n.height>e[1])&&("image"==g.type||"swf"==g.type?(t=y.width/y.height,n.width>e[0]&&(n.width=e[0],n.height=parseInt((n.width-r)/t+r,10)),n.height>e[1]&&(n.height=e[1],n.width=parseInt((n.height-r)*t+r,10))):(n.width=Math.min(n.width,e[0]),n.height=Math.min(n.height,e[1]))),n.top=parseInt(Math.max(e[3]-20,e[3]+.5*(e[1]-n.height-40)),10),n.left=parseInt(Math.max(e[2]-20,e[2]+.5*(e[0]-n.width-40)),10),n},B=function(){var t,e,n,i,r=!!g.orig&&s(g.orig),a={};return r&&r.length?((i=(n=r).offset()).top+=parseInt(n.css("paddingTop"),10)||0,i.left+=parseInt(n.css("paddingLeft"),10)||0,i.top+=parseInt(n.css("border-top-width"),10)||0,i.left+=parseInt(n.css("border-left-width"),10)||0,i.width=n.width(),i.height=n.height(),a={width:(t=i).width+2*y.padding,height:t.height+2*y.padding,top:t.top-y.padding-20,left:t.left-y.padding-20}):(e=V(),a={width:2*y.padding,height:2*y.padding,top:parseInt(e[3]+.5*e[1],10),left:parseInt(e[2]+.5*e[0],10)}),a},Y=function(){u.is(":visible")?(s("div",u).css("top",-40*C+"px"),C=(C+1)%12):clearInterval(t)};s.fn.fancyboxPlus=function(t){return s(this).length&&s(this).data("fancyboxPlus",s.extend({},t,s.metadata?s(this).metadata():{})).unbind("click.fb").bind("click.fb",function(t){if(t.preventDefault(),!T){T=!0,s(this).blur(),m=[],p=0;var e=s(this).attr("rel")||"";e&&""!=e&&"nofollow"!==e?(m=s("a[rel="+e+"], area[rel="+e+"]"),p=m.index(this)):m.push(this),P()}}),this},s.fancyboxPlus=function(t){var e;if(!T){if(T=!0,e=void 0!==arguments[1]?arguments[1]:{},m=[],p=parseInt(e.index,10)||0,s.isArray(t)){for(var n=0,i=t.length;n<i;n++)"object"==typeof t[n]?s(t[n]).data("fancyboxPlus",s.extend({},e,t[n])):t[n]=s({}).data("fancyboxPlus",s.extend({content:t[n]},e));m=jQuery.merge(m,t)}else"object"==typeof t?s(t).data("fancyboxPlus",s.extend({},e,t)):t=s({}).data("fancyboxPlus",s.extend({content:t},e)),m.push(t);(p>m.length||p<0)&&(p=0),P()}},s.fancyboxPlus.showActivity=function(){clearInterval(t),u.show(),t=setInterval(Y,66)},s.fancyboxPlus.hideActivity=function(){u.hide()},s.fancyboxPlus.next=function(){return s.fancyboxPlus.pos(v+1)},s.fancyboxPlus.prev=function(){return s.fancyboxPlus.pos(v-1)},s.fancyboxPlus.pos=function(t){T||(t=parseInt(t),m=b,-1<t&&t<b.length?(p=t,P()):y.cyclic&&1<b.length&&(p=t>=b.length?0:b.length-1,P()))},s.fancyboxPlus.cancel=function(){T||(T=!0,s.event.trigger("fbplus-cancel"),O(),g.onCancel(m,p,g),T=!1)},s.fancyboxPlus.close=function(){if(!T&&!i.is(":hidden"))if(T=!0,y&&!1===y.onCleanup(b,v,y))T=!1;else if(O(),s(r.add(o).add(d)).hide(),s(c.add(n)).unbind(),s(window).unbind("resize.fb scroll.fb"),s(document).unbind("keydown.fb"),c.find("iframe").attr("src",$&&/^https/i.test(window.location.href||"")?"javascript:void(false)":"about:blank"),"inside"!==y.titlePosition&&a.empty(),i.stop(),"elastic"==y.transitionOut){h=B();var t=i.position();f={top:t.top,left:t.left,width:i.width(),height:i.height()},y.opacity&&(f.opacity=1),a.empty().hide(),M.prop=1,s(M).animate({prop:0},{duration:y.speedOut,easing:y.easingOut,step:N,complete:e})}else i.fadeOut("none"==y.transitionOut?0:y.speedOut,e);function e(){n.fadeOut("fast"),a.empty().hide(),i.hide(),s.event.trigger("fbplus-cleanup"),c.empty(),y.onClosed(b,v,y),b=g=[],v=p=0,y=g={},T=!1}},s.fancyboxPlus.resize=function(){n.is(":visible")&&n.css("height",s(document).height()),s.fancyboxPlus.center(!0)},s.fancyboxPlus.center=function(){var t,e;T||(e=!0===arguments[0]?1:0,t=V(),!e&&(i.width()>t[0]||i.height()>t[1])||i.stop().animate({top:parseInt(Math.max(t[3]-20,t[3]+.5*(t[1]-c.height()-40)-y.padding)),left:parseInt(Math.max(t[2]-20,t[2]+.5*(t[0]-c.width()-40)-y.padding))},"number"==typeof arguments[0]?arguments[0]:200))},s.fancyboxPlus.init=function(){s("#fbplus-wrap").length||(s("body").append(l=s('<div id="fbplus-tmp"></div>'),u=s('<div id="fbplus-loading"><div></div></div>'),n=s('<div id="fbplus-overlay"></div>'),i=s('<div id="fbplus-wrap"></div>')),(e=s('<div id="fbplus-outer"></div>').append('<div class="fbplus-bg" id="fbplus-bg-n"></div><div class="fbplus-bg" id="fbplus-bg-ne"></div><div class="fbplus-bg" id="fbplus-bg-e"></div><div class="fbplus-bg" id="fbplus-bg-se"></div><div class="fbplus-bg" id="fbplus-bg-s"></div><div class="fbplus-bg" id="fbplus-bg-sw"></div><div class="fbplus-bg" id="fbplus-bg-w"></div><div class="fbplus-bg" id="fbplus-bg-nw"></div>').appendTo(i)).append(c=s('<div id="fbplus-content"></div>'),r=s('<a id="fbplus-close"></a>'),a=s('<div id="fbplus-title"></div>'),o=s('<a href="javascript:;" id="fbplus-left"><span class="fancy-ico" id="fbplus-left-ico"></span></a>'),d=s('<a href="javascript:;" id="fbplus-right"><span class="fancy-ico" id="fbplus-right-ico"></span></a>')),r.click(s.fancyboxPlus.close),u.click(s.fancyboxPlus.cancel),o.click(function(t){t.preventDefault(),s.fancyboxPlus.prev()}),d.click(function(t){t.preventDefault(),s.fancyboxPlus.next()}),s.fn.mousewheel&&i.bind("mousewheel.fb",function(t,e){T?t.preventDefault():0!=s(t.target).get(0).clientHeight&&s(t.target).get(0).scrollHeight!==s(t.target).get(0).clientHeight||(t.preventDefault(),s.fancyboxPlus[0<e?"prev":"next"]())}),s.support.opacity||i.addClass("fbplus-ie"),$&&(u.addClass("fbplus-ie6"),i.addClass("fbplus-ie6"),s('<iframe id="fbplus-hide-sel-frame" src="'+(/^https/i.test(window.location.href||"")?"javascript:void(false)":"about:blank")+'" scrolling="no" border="0" frameborder="0" tabindex="-1"></iframe>').prependTo(e)))},s.fn.fancyboxPlus.defaults={padding:10,margin:40,opacity:!1,modal:!1,cyclic:!1,scrolling:"auto",width:560,height:340,autoScale:!0,autoDimensions:!0,centerOnScroll:!1,ajax:{},swf:{wmode:"transparent"},hideOnOverlayClick:!0,hideOnContentClick:!1,overlayShow:!0,overlayOpacity:.7,overlayColor:"#777",titleShow:!0,titlePosition:"float",titleFormat:null,titleFromAlt:!1,transitionIn:"fade",transitionOut:"fade",speedIn:300,speedOut:300,changeSpeed:300,changeFade:"fast",easingIn:"swing",easingOut:"swing",showCloseButton:!0,showNavArrows:!0,enableEscapeButton:!0,enableKeyboardNav:!0,onStart:function(){},onCancel:function(){},onComplete:function(){},onCleanup:function(){},onClosed:function(){},onError:function(){}},s(document).ready(function(){s.fancyboxPlus.init()})}(jQuery),function(){"use strict";function t(l,u,t,c,d,e){return{restrict:"A",link:n,priority:100};function n(a,o,s,t){a.$on("$destroy",function(){o.remove()}),function(t){var e={href:s.src?s.src:s.href,onComplete:function(){u.$apply(function(){var t=$("#fbplus-content");l(t)(u)})}};if(s.fancyboxable&&0<s.fancyboxable.length){var n=c(s.fancyboxable),i=n(a);angular.extend(e,i)}for(var r in e)e.hasOwnProperty(r)&&void 0===e[r]&&delete e[r];void 0!==t&&(e.open=t);d(function(){s.ngSrc?d(function(){e.href=s.src?s.src:s.href,$(o).fancyboxPlus(e)},300):$(o).fancyboxPlus(e)},0)}()}}function e(o,s,t,e,l,u){return{restrict:"E",scope:{open:"=",options:"=",templateUrl:"&",onStart:"&",onCancel:"&",onComplete:"&",onCleanup:"&",onClosed:"&"},require:"fancybox",link:i,controller:n,controllerAs:"vm"};function n(t){}function i(i,t,r,e){function a(t){var e={href:r.src,boxFor:r.boxFor,onOpen:function(){i.onOpen&&i.onOpen()&&i.onOpen()()},onCancel:function(){i.onCancel&&i.onCancel()&&i.onCancel()()},onComplete:function(){s.$apply(function(){var t=$("#fbplus-content");o(t)(s)}),i.onComplete&&i.onComplete()&&i.onComplete()()},onCleanup:function(){i.onCleanup&&i.onCleanup()&&i.onCleanup()()},onClosed:function(){i.$apply(function(){i.open=!1}),i.onClosed&&i.onClosed()&&i.onClosed()()}};for(var n in i.options&&angular.extend(e,i.options),e)e.hasOwnProperty(n)&&void 0===e[n]&&delete e[n];void 0!==t&&(e.open=t),l(function(){e.boxFor?$(e.boxFor).fancyboxPlus(e):e.href&&$.fancyboxPlus(e)},0)}i.$watch("open",function(t,e){var n;e!==t&&((n=t)?a(n):u.close())}),i.$on("$destroy",function(){t.remove()}),a()}}angular.module("fancyboxplus",[]).service("fancyboxService",function(){return{fancyboxPlus:t,showActivity:function(){t().showActivity()},hideActivity:function(){t().hideActivity()},next:function(){t().next()},prev:function(){t().prev()},pos:function(){t().pos()},cancel:function(){t().cancel()},close:function(){t().close()},resize:function(){t().resize()},center:function(){t().center()}};function t(){return $.fancyboxPlus}}).directive("fancyboxable",t).directive("fancybox",e),t.$inject=["$compile","$rootScope","$http","$parse","$timeout","fancyboxService"],e.$inject=["$compile","$rootScope","$http","$parse","$timeout","fancyboxService"]}(),function(t,e,n){"use strict";window.angular.module("ngImageCompress",[]).directive("ngImageCompress",["$q",function(i){var l=t.URL||t.webkitURL,u=function(t){var e=i.defer(),n=new FileReader;return n.onload=function(t){e.resolve(t.target.result)},n.readAsDataURL(t),e.promise};return{restrict:"A",scope:{image:"=",resizeMaxHeight:"@?",resizeMaxWidth:"@?",resizeQuality:"@?",resizeType:"@?"},link:function(a,t,r){var o=function(n,i){var t,e,r;t=n.url,e=function(t){var e=function(t,e){var n=e.resizeType,i=100*e.resizeQuality||70,r="image/jpeg";void 0!==n&&"png"===n&&(r="image/png");var a=e.resizeMaxHeight||300,o=e.resizeMaxWidth||250,s=t.height,l=t.width;s<l?o<l&&(s=Math.round(s*=o/l),l=o):a<s&&(l=Math.round(l*=a/s),s=a);var u=document.createElement("canvas");u.width=l,u.height=s;u.getContext("2d").drawImage(t,0,0,l,s);var c=u.toDataURL(r,i/100),d=new Image;return d.src=c,d.src}(t,a);n.compressed={dataURL:e,type:e.match(/:(.+\/.+);/)[1]},i(n)},(r=new Image).onload=function(){e(r)},r.src=t},s=function(t){a.$apply(function(){r.multiple?a.image.push(t):a.image=t})};t.bind("change",function(t){r.multiple&&(a.image=[]);for(var e=t.target.files,n=0;n<e.length;n++){var i={file:e[n],url:l.createObjectURL(e[n])};u(e[n]).then(function(t){i.dataURL=t}),a.resizeMaxHeight||a.resizeMaxWidth?o(i,function(t){s(t)}):s(i)}})}}}])}(window),function(){var e=function(t){return t instanceof e?t:this instanceof e?void(this.EXIFwrapped=t):new e(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=e),exports.EXIF=e):this.EXIF=e;var u=e.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},c=e.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},d=e.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},h=e.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}};function r(t){return!!t.exifdata}function i(i,r){function e(t){var e=l(t),n=function(t){var e=new DataView(t);if(255!=e.getUint8(0)||216!=e.getUint8(1))return!1;var n=2,i=t.byteLength;for(;n<i;){if(l=n,56===(s=e).getUint8(l)&&66===s.getUint8(l+1)&&73===s.getUint8(l+2)&&77===s.getUint8(l+3)&&4===s.getUint8(l+4)&&4===s.getUint8(l+5)){var r=e.getUint8(n+7);r%2!=0&&(r+=1),0===r&&(r=4);var a=n+8+r,o=e.getUint16(n+6+r);return p(t,a,o)}n++}var s,l}(t);i.exifdata=e||{},i.iptcdata=n||{},r&&r.call(i)}var t,n,a;if(i.src)if(/^data\:/i.test(i.src))e(function(t,e){e=e||t.match(/^data\:([^\;]+)\;base64,/im)[1]||"",t=t.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var n=atob(t),i=n.length,r=new ArrayBuffer(i),a=new Uint8Array(r),o=0;o<i;o++)a[o]=n.charCodeAt(o);return r}(i.src));else if(/^blob\:/i.test(i.src)){(s=new FileReader).onload=function(t){e(t.target.result)},t=i.src,n=function(t){s.readAsArrayBuffer(t)},(a=new XMLHttpRequest).open("GET",t,!0),a.responseType="blob",a.onload=function(t){200!=this.status&&0!==this.status||n(this.response)},a.send()}else{var o=new XMLHttpRequest;o.onload=function(){if(200!=this.status&&0!==this.status)throw"Could not load image";e(o.response),o=null},o.open("GET",i.src,!0),o.responseType="arraybuffer",o.send(null)}else if(window.FileReader&&(i instanceof window.Blob||i instanceof window.File)){var s;(s=new FileReader).onload=function(t){e(t.target.result)},s.readAsArrayBuffer(i)}}function l(t){var e=new DataView(t);if(255!=e.getUint8(0)||216!=e.getUint8(1))return!1;for(var n=2,i=t.byteLength;n<i;){if(255!=e.getUint8(n))return!1;if(225==e.getUint8(n+1))return a(e,n+4,e.getUint16(n+2));n+=2+e.getUint16(n+2)}}var f={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"};function p(t,e,n){for(var i,r,a,o,s=new DataView(t),l={},u=e;u<e+n;)28===s.getUint8(u)&&2===s.getUint8(u+1)&&(o=s.getUint8(u+2))in f&&((a=s.getInt16(u+3))+5,r=f[o],i=v(s,u+5,a),l.hasOwnProperty(r)?l[r]instanceof Array?l[r].push(i):l[r]=[l[r],i]:l[r]=i),u++;return l}function g(t,e,n,i,r){var a,o,s=t.getUint16(n,!r),l={};for(o=0;o<s;o++)a=n+12*o+2,l[i[t.getUint16(a,!r)]]=m(t,a,e,n,r);return l}function m(t,e,n,i,r){var a,o,s,l,u,c,d=t.getUint16(e+2,!r),h=t.getUint32(e+4,!r),f=t.getUint32(e+8,!r)+n;switch(d){case 1:case 7:if(1==h)return t.getUint8(e+8,!r);for(a=4<h?f:e+8,o=[],l=0;l<h;l++)o[l]=t.getUint8(a+l);return o;case 2:return v(t,a=4<h?f:e+8,h-1);case 3:if(1==h)return t.getUint16(e+8,!r);for(a=2<h?f:e+8,o=[],l=0;l<h;l++)o[l]=t.getUint16(a+2*l,!r);return o;case 4:if(1==h)return t.getUint32(e+8,!r);for(o=[],l=0;l<h;l++)o[l]=t.getUint32(f+4*l,!r);return o;case 5:if(1==h)return u=t.getUint32(f,!r),c=t.getUint32(f+4,!r),(s=new Number(u/c)).numerator=u,s.denominator=c,s;for(o=[],l=0;l<h;l++)u=t.getUint32(f+8*l,!r),c=t.getUint32(f+4+8*l,!r),o[l]=new Number(u/c),o[l].numerator=u,o[l].denominator=c;return o;case 9:if(1==h)return t.getInt32(e+8,!r);for(o=[],l=0;l<h;l++)o[l]=t.getInt32(f+4*l,!r);return o;case 10:if(1==h)return t.getInt32(f,!r)/t.getInt32(f+4,!r);for(o=[],l=0;l<h;l++)o[l]=t.getInt32(f+8*l,!r)/t.getInt32(f+4+8*l,!r);return o}}function v(t,e,i){var r="";for(n=e;n<e+i;n++)r+=String.fromCharCode(t.getUint8(n));return r}function a(t,e){if("Exif"!=v(t,e,4))return!1;var n,i,r,a,o,s=e+6;if(18761==t.getUint16(s))n=!1;else{if(19789!=t.getUint16(s))return!1;n=!0}if(42!=t.getUint16(s+2,!n))return!1;var l=t.getUint32(s+4,!n);if(l<8)return!1;if((i=g(t,s,s+l,c,n)).ExifIFDPointer)for(r in a=g(t,s,s+i.ExifIFDPointer,u,n)){switch(r){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":a[r]=h[r][a[r]];break;case"ExifVersion":case"FlashpixVersion":a[r]=String.fromCharCode(a[r][0],a[r][1],a[r][2],a[r][3]);break;case"ComponentsConfiguration":a[r]=h.Components[a[r][0]]+h.Components[a[r][1]]+h.Components[a[r][2]]+h.Components[a[r][3]]}i[r]=a[r]}if(i.GPSInfoIFDPointer)for(r in o=g(t,s,s+i.GPSInfoIFDPointer,d,n)){switch(r){case"GPSVersionID":o[r]=o[r][0]+"."+o[r][1]+"."+o[r][2]+"."+o[r][3]}i[r]=o[r]}return i}e.getData=function(t,e){return!((t instanceof Image||t instanceof HTMLImageElement)&&!t.complete)&&(r(t)?e&&e.call(t):i(t,e),!0)},e.getTag=function(t,e){if(r(t))return t.exifdata[e]},e.getAllTags=function(t){if(!r(t))return{};var e,n=t.exifdata,i={};for(e in n)n.hasOwnProperty(e)&&(i[e]=n[e]);return i},e.pretty=function(t){if(!r(t))return"";var e,n=t.exifdata,i="";for(e in n)n.hasOwnProperty(e)&&("object"==typeof n[e]?n[e]instanceof Number?i+=e+" : "+n[e]+" ["+n[e].numerator+"/"+n[e].denominator+"]\r\n":i+=e+" : ["+n[e].length+" values]\r\n":i+=e+" : "+n[e]+"\r\n");return i},e.readFromBinaryFile=function(t){return l(t)},"function"==typeof define&&define.amd&&define("exif-js",[],function(){return e})}.call(this),function(t,e){"function"==typeof define&&define.amd?define(["exif-js"],e):"object"==typeof exports?module.exports=e(require("exif-js")):t.CanvasCompress=e(t.EXIF)}(this,function(c){"use strict";function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},t=function(){function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}}(),f=window.URL||window.webkitURL,v=Math.log(2),p={PNG:"image/png",JPEG:"image/jpeg",WEBP:"image/webp"},g=Object.keys(p).map(function(t){return p[t]}),m=p.JPEG,y=.9,b={width:1e3,height:618},_={_Promise:window.Promise,get Promise(){if("function"!=typeof this._Promise)throw new Error("canvas-compress requires Promise");return this._Promise},set Promise(t){if("function"!=typeof t)throw new TypeError("Promise should be a function");this._Promise=t}},r=function t(){var n=this;h(this,t),this.promise=new _.Promise(function(t,e){n.resolve=t,n.reject=e})},e=function(){function d(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=e.type,i=void 0===n?m:n,r=e.width,a=void 0===r?b.width:r,o=e.height,s=void 0===o?b.height:o,l=e.quality,u=void 0===l?y:l;h(this,d),t=i,i=g.includes(t)?t:m,u=parseFloat(u);var c={width:parseFloat(a),height:parseFloat(s)};Object.defineProperties(this,{isJPEG:{value:i===p.JPEG},outputType:{get:function(){return i}},outputSize:{get:function(){return c}},outputQuality:{get:function(){return u}}})}return t(d,null,[{key:"usePromise",value:function(t){_.Promise=t}},{key:"isSupportedType",value:function(t){return g.includes(t)}}]),t(d,[{key:"_clear",value:function(t,e,n){this.isJPEG?(t.fillStyle="#fff",t.fillRect(0,0,e,n)):t.clearRect(0,0,e,n)}},{key:"_getOriginalImage",value:function(t){var e=f.createObjectURL(t),n=new Image,i=new r;return n.onload=function(){i.resolve(n)},n.onerror=function(){i.reject("image load error")},n.src=e,i.promise}},{key:"_drawOriginalImage",value:function(a){var o=this,s=document.createElement("canvas"),l=s.getContext("2d"),u=new r;return c.getData(a,function(){var t=c.getTag(a,"Orientation")||1,e=function(t,e){var n=t.width,i=t.height;switch(e){case 1:return{width:n,height:i,matrix:[1,0,0,1,0,0]};case 2:return{width:n,height:i,matrix:[-1,0,0,1,n,0]};case 3:return{width:n,height:i,matrix:[-1,0,0,-1,n,i]};case 4:return{width:n,height:i,matrix:[1,0,0,-1,0,i]};case 5:return{width:i,height:n,matrix:[0,1,1,0,0,0]};case 6:return{width:i,height:n,matrix:[0,1,-1,0,i,0]};case 7:return{width:i,height:n,matrix:[0,-1,-1,0,i,n]};case 8:return{width:i,height:n,matrix:[0,-1,1,0,0,n]}}}(a,t),n=e.width,i=e.height,r=e.matrix;s.width=n,s.height=i,l.save(),l.transform.apply(l,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(r)),o._clear(l,n,i),l.drawImage(a,0,0),l.restore(),f.revokeObjectURL(a.src),u.resolve(s)}),u.promise}},{key:"_resizeImage",value:function(t){var e=this.outputSize,n=t.width,i=t.height,r=Math.min(1,e.width/n,e.height/i);return _.Promise.resolve({source:t,scale:r})}},{key:"_drawImage",value:function(t){var e=t.source,n=t.scale;if(1===n)return _.Promise.resolve(e);var i=e.getContext("2d"),r=Math.min(4,Math.ceil(1/n/v)),a=Math.pow(n,1/r),o=document.createElement("canvas"),s=o.getContext("2d"),l=e.width,u=e.height;o.width=l,o.height=u;for(var c=0;c<r;){var d=l*a|0,h=u*a|0,f=void 0,p=void 0;if(c%2==0?(f=e,p=s):(f=o,p=i),this._clear(p,l,u),p.drawImage(f,0,0,l,u,0,0,d,h),l=d,u=h,++c===r){var g=f===e?o:e,m=p.getImageData(0,0,l,u);return g.width=l,g.height=u,p.putImageData(m,0,0),_.Promise.resolve(g)}}}},{key:"_compress",value:function(t){var e=this.outputType,n=this.outputQuality,i=t.width,r=t.height,a=t.toDataURL(e,n),o=atob(a.split(",")[1]).split("").map(function(t){return t.charCodeAt(0)}),s=new Blob([new Uint8Array(o)],{type:e});return _.Promise.resolve({blob:s,width:i,height:r})}},{key:"process",value:function(e){if(!e)return _.Promise.reject(new ReferenceError("file blob is required"));if(!e.type.match(/^image/))return _.Promise.reject(new TypeError("unsupport file type: "+e.type));var n={};return this._getOriginalImage(e).then(function(t){return n.width=t.width,n.height=t.height,t}).then(this._drawOriginalImage.bind(this)).then(this._resizeImage.bind(this)).then(this._drawImage.bind(this)).then(this._compress.bind(this)).then(function(t){return{source:i({blob:e},n),result:i({},t)}})}}]),d}();return e.MIME=i({},p,{JPG:p.JPEG}),e}),function(){"use strict";angular.module("ui.mask",[]).value("uiMaskConfig",{maskDefinitions:{9:/\d/,A:/[a-zA-Z]/,"*":/[a-zA-Z0-9]/},clearOnBlur:!0,clearOnBlurPlaceholder:!1,escChar:"\\",eventsToHandle:["input","keyup","click","focus"],addDefaultPlaceholder:!0,allowInvalidValue:!1}).provider("uiMask.Config",function(){var i={};this.maskDefinitions=function(t){return i.maskDefinitions=t},this.clearOnBlur=function(t){return i.clearOnBlur=t},this.clearOnBlurPlaceholder=function(t){return i.clearOnBlurPlaceholder=t},this.eventsToHandle=function(t){return i.eventsToHandle=t},this.addDefaultPlaceholder=function(t){return i.addDefaultPlaceholder=t},this.allowInvalidValue=function(t){return i.allowInvalidValue=t},this.$get=["uiMaskConfig",function(t){var e=t;for(var n in i)angular.isObject(i[n])&&!angular.isArray(i[n])?angular.extend(e[n],i[n]):e[n]=i[n];return e}]}).directive("uiMask",["uiMask.Config",function(t){function H(t){return t===document.activeElement&&(!document.hasFocus||document.hasFocus())&&!!(t.type||t.href||~t.tabIndex)}return{priority:100,require:"ngModel",restrict:"A",compile:function(){var V=angular.copy(t);return function(C,S,u,D){var T,c,M,d,h,n,i,$,O,E,P,A,r=!1,e=!1,a=u.placeholder,t=u.maxlength,o=D.$isEmpty;function s(t){return angular.isDefined(t)?(function(t){var a=0;if(T=[],c=[],M="",angular.isString(t)){var o=!1,s=h=0,e=t.split(""),l=!1;angular.forEach(e,function(t,e){var n,i,r;l?(l=!1,M+=t,a++):g.escChar===t?l=!0:g.maskDefinitions[t]?(T.push(a),M+=(n=e-s,r=angular.isDefined(u.uiMaskPlaceholder)?u.uiMaskPlaceholder:u.placeholder,angular.isDefined(r)&&r[n]?r[n]:"space"===(i=angular.isDefined(u.uiMaskPlaceholderChar)&&u.uiMaskPlaceholderChar?u.uiMaskPlaceholderChar:"_").toLowerCase()?" ":i[0]),c.push(g.maskDefinitions[t]),a++,o||h++,o=!1):"?"===t?(o=!0,s++):(M+=t,a++)})}T.push(T.slice().pop()+1),d=function(){var n,t,e=M.split("");T&&!isNaN(T[0])&&angular.forEach(T,function(t){e[t]="_"});n=e.join(""),t=(t=n.replace(/[_]+/g,"_").split("_")).filter(function(t){return""!==t});var i=0;return t.map(function(t){var e=n.indexOf(t,i);return i=e+1,{value:t,position:e}})}(),r=1<T.length}(t),r?(function(){n=O=R(D.$modelValue||""),$=I(n),i=v(n),u.maxlength&&S.attr("maxlength",2*T[T.length-1]);!a&&g.addDefaultPlaceholder&&S.attr("placeholder",M);var t=D.$modelValue,e=D.$formatters.length;for(;e--;)t=D.$formatters[e](t);D.$viewValue=t||"",D.$render()}(),function(){if(e)return;S.bind("blur",b),S.bind("mousedown mouseup",_),S.bind("keydown",x),S.bind(g.eventsToHandle.join(" "),k),e=!0}(),!0):m()):m()}function l(t){t&&(M=t,!r||0===S.val().length&&angular.isDefined(u.placeholder)||S.val(I(R(S.val()))))}var f=!(D.$isEmpty=function(t){return o(r?R(t||""):t)});function p(t){return r?(n=R(t||""),i=v(n),D.$setValidity("mask",i),n.length&&(i||g.allowInvalidValue)?I(n):void 0):t}u.$observe("modelViewValue",function(t){"true"===t&&(f=!0)}),u.$observe("allowInvalidValue",function(t){g.allowInvalidValue=""===t||!!t,p(D.$modelValue)});var g={};function m(){return r=!1,function(){if(!e)return;S.unbind("blur",b),S.unbind("mousedown",_),S.unbind("mouseup",_),S.unbind("keydown",x),S.unbind("input",k),S.unbind("keyup",k),S.unbind("click",k),S.unbind("focus",k),e=!1}(),angular.isDefined(a)?S.attr("placeholder",a):S.removeAttr("placeholder"),angular.isDefined(t)?S.attr("maxlength",t):S.removeAttr("maxlength"),S.val(D.$modelValue),D.$viewValue=D.$modelValue,!1}function v(t){return!t.length||t.length>=h}function R(n){var i,r,e="",t=S[0],a=c.slice(),o=E,s=o+N(t),l="";return n=n.toString(),i=0,r=n.length-M.length,angular.forEach(d,function(t){var e=t.position;o<=e&&e<s||(o<=e&&(e+=r),n.substring(e,e+t.value.length)===t.value&&(l+=n.slice(i,e),i=e+t.value.length))}),n=l+n.slice(i),angular.forEach(n.split(""),function(t){a.length&&a[0].test(t)&&(e+=t,a.shift())}),e}function I(n){var i="",r=T.slice();return angular.forEach(M.split(""),function(t,e){n.length&&e===r[0]?(i+=n.charAt(0)||"_",n=n.substr(1),r.shift()):i+=t}),i}u.uiOptions?(g=C.$eval("["+u.uiOptions+"]"),g=angular.isObject(g[0])?function(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(void 0===e[n]?e[n]=angular.copy(t[n]):angular.isObject(e[n])&&!angular.isArray(e[n])&&(e[n]=angular.extend({},t[n],e[n])));return e}(V,g[0]):V):g=V,u.$observe("uiMask",s),angular.isDefined(u.uiMaskPlaceholder)?u.$observe("uiMaskPlaceholder",l):u.$observe("placeholder",l),angular.isDefined(u.uiMaskPlaceholderChar)&&u.$observe("uiMaskPlaceholderChar",function(){return s(u.uiMask)}),D.$formatters.unshift(p),D.$parsers.unshift(function(t){return r?(n=R(t||""),i=v(n),D.$viewValue=n.length?I(n):"",D.$setValidity("mask",i),i||g.allowInvalidValue?f?D.$viewValue:n:void 0):t});var y=S.val();function b(){if((g.clearOnBlur||g.clearOnBlurPlaceholder&&0===n.length&&u.placeholder)&&(P=E=0,i&&0!==n.length||("",S.val(""),C.$apply(function(){D.$pristine||D.$setViewValue("")}))),n!==y){var t=S.val(),e=""===n&&t&&angular.isDefined(u.uiMaskPlaceholderChar)&&"space"===u.uiMaskPlaceholderChar;e&&S.val(""),function(t){var e;if(angular.isFunction(window.Event)&&!t.fireEvent)try{e=new Event("change",{view:window,bubbles:!0,cancelable:!1})}catch(t){(e=document.createEvent("HTMLEvents")).initEvent("change",!1,!0)}finally{t.dispatchEvent(e)}else"createEvent"in document?((e=document.createEvent("HTMLEvents")).initEvent("change",!1,!0),t.dispatchEvent(e)):t.fireEvent&&t.fireEvent("onchange")}(S[0]),e&&S.val(t)}y=n}function _(t){"mousedown"===t.type?S.bind("mouseout",w):S.unbind("mouseout",w)}function w(){P=N(this),S.unbind("mouseout",w)}function x(t){var e=8===t.which,n=j(this)-1||0,i=90===t.which&&t.ctrlKey;if(e){for(;0<=n;){if(F(n)){L(this,n+1);break}n--}A=-1===n}i&&(S.val(""),t.preventDefault())}function k(t){var e=(t=t||{}).which,n=t.type;if(16!==e&&91!==e){var i,r=S.val(),a=$,o=!1,s=R(r),l=O,u=j(this)||0,c=E||0,d=u-c,h=T[0],f=T[s.length]||T.slice().shift(),p=P||0,g=0<N(this),m=0<p,v=r.length>a.length||p&&r.length>a.length-p,y=r.length<a.length||p&&r.length===a.length-p,b=37<=e&&e<=40&&t.shiftKey,_=8===e||"keyup"!==n&&y&&-1===d,w=46===e||"keyup"!==n&&y&&0===d&&!m,x=(37===e||_||"click"===n)&&h<u;if(P=N(this),!b&&(!g||"click"!==n&&"keyup"!==n&&"focus"!==n)){if(_&&A)return S.val(M),C.$apply(function(){D.$setViewValue("")}),void L(this,c);if("input"===n&&y&&!m&&s===l){for(;_&&h<u&&!F(u);)u--;for(;w&&u<f&&-1===T.indexOf(u);)u++;var k=T.indexOf(u);(s=s.substring(0,k)+s.substring(k+1))!==l&&(o=!0)}for(i=I(s),$=i,O=s,!o&&r.length>i.length&&(o=!0),S.val(i),o&&C.$apply(function(){D.$setViewValue(i)}),v&&u<=h&&(u=h+1),x&&u--,u=f<u?f:u<h?h:u;!F(u)&&h<u&&u<f;)u+=x?-1:1;(x&&u<f||v&&!F(c))&&u++,L(this,E=u)}}}function F(t){return-1<T.indexOf(t)}function j(t){if(!t)return 0;if(void 0!==t.selectionStart)return t.selectionStart;if(document.selection&&H(S[0])){t.focus();var e=document.selection.createRange();return e.moveStart("character",t.value?-t.value.length:0),e.text.length}return 0}function L(t,e){if(!t)return 0;if(0!==t.offsetWidth&&0!==t.offsetHeight)if(t.setSelectionRange)H(S[0])&&(t.focus(),t.setSelectionRange(e,e));else if(t.createTextRange){var n=t.createTextRange();n.collapse(!0),n.moveEnd("character",e),n.moveStart("character",e),n.select()}}function N(t){return t?void 0!==t.selectionStart?t.selectionEnd-t.selectionStart:window.getSelection?window.getSelection().toString().length:document.selection?document.selection.createRange().text.length:0:0}S.bind("mousedown mouseup",_),Array.prototype.indexOf||(Array.prototype.indexOf=function(t){if(null===this)throw new TypeError;var e=Object(this),n=e.length>>>0;if(0===n)return-1;var i=0;if(1<arguments.length&&((i=Number(arguments[1]))!=i?i=0:0!==i&&i!==1/0&&i!==-1/0&&(i=(0<i||-1)*Math.floor(Math.abs(i)))),n<=i)return-1;for(var r=0<=i?i:Math.max(n-Math.abs(i),0);r<n;r++)if(r in e&&e[r]===t)return r;return-1})}}}}])}();var $jscomp=$jscomp||{};$jscomp.scope={},$jscomp.findInternal=function(t,e,n){t instanceof String&&(t=String(t));for(var i=t.length,r=0;r<i;r++){var a=t[r];if(e.call(n,a,r,t))return{i:r,v:a}}return{i:-1,v:void 0}},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.SIMPLE_FROUND_POLYFILL=!1,$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},$jscomp.getGlobal=function(t){return"undefined"!=typeof window&&window===t?t:"undefined"!=typeof global&&null!=global?global:t},$jscomp.global=$jscomp.getGlobal(this),$jscomp.polyfill=function(t,e,n,i){if(e){for(n=$jscomp.global,t=t.split("."),i=0;i<t.length-1;i++){var r=t[i];r in n||(n[r]={}),n=n[r]}(e=e(i=n[t=t[t.length-1]]))!=i&&null!=e&&$jscomp.defineProperty(n,t,{configurable:!0,writable:!0,value:e})}},$jscomp.polyfill("Array.prototype.find",function(t){return t||function(t,e){return $jscomp.findInternal(this,t,e).v}},"es6","es3"),function(t,e,n){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports&&"undefined"==typeof Meteor?module.exports=t(require("jquery")):t(e||n)}(function(o){var s=function(u,y,b){var _={invalid:[],getCaret:function(){try{var t=0,e=u.get(0),n=document.selection,i=e.selectionStart;if(n&&-1===navigator.appVersion.indexOf("MSIE 10")){var r=n.createRange();r.moveStart("character",-_.val().length),t=r.text.length}else(i||"0"===i)&&(t=i);return t}catch(t){}},setCaret:function(t){try{if(u.is(":focus")){var e=u.get(0);if(e.setSelectionRange)e.setSelectionRange(t,t);else{var n=e.createTextRange();n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",t),n.select()}}}catch(t){}},events:function(){u.on("keydown.mask",function(t){u.data("mask-keycode",t.keyCode||t.which),u.data("mask-previus-value",u.val()),u.data("mask-previus-caret-pos",_.getCaret()),_.maskDigitPosMapOld=_.maskDigitPosMap}).on(o.jMaskGlobals.useInput?"input.mask":"keyup.mask",_.behaviour).on("paste.mask drop.mask",function(){setTimeout(function(){u.keydown().keyup()},100)}).on("change.mask",function(){u.data("changed",!0)}).on("blur.mask",function(){a===_.val()||u.data("changed")||u.trigger("change"),u.data("changed",!1)}).on("blur.mask",function(){a=_.val()}).on("focus.mask",function(t){!0===b.selectOnFocus&&o(t.target).select()}).on("focusout.mask",function(){b.clearIfNotMatch&&!i.test(_.val())&&_.val("")})},getRegexMask:function(){for(var t,e,n,i,r=[],a=0;a<y.length;a++)(t=w.translation[y.charAt(a)])?(e=t.pattern.toString().replace(/.{1}$|^.{1}/g,""),n=t.optional,(t=t.recursive)?(r.push(y.charAt(a)),i={digit:y.charAt(a),pattern:e}):r.push(n||t?e+"?":e)):r.push(y.charAt(a).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"));return r=r.join(""),i&&(r=r.replace(new RegExp("("+i.digit+"(.*"+i.digit+")?)"),"($1)?").replace(new RegExp(i.digit,"g"),i.pattern)),new RegExp(r)},destroyEvents:function(){u.off("input keydown keyup paste drop blur focusout ".split(" ").join(".mask "))},val:function(t){var e=u.is("input")?"val":"text";return 0<arguments.length?(u[e]()!==t&&u[e](t),e=u):e=u[e](),e},calculateCaretPosition:function(t){var e=_.getMasked(),n=_.getCaret();if(t!==e){var i=u.data("mask-previus-caret-pos")||0;e=e.length;var r,a=t.length,o=t=0,s=0,l=0;for(r=n;r<e&&_.maskDigitPosMap[r];r++)o++;for(r=n-1;0<=r&&_.maskDigitPosMap[r];r--)t++;for(r=n-1;0<=r;r--)_.maskDigitPosMap[r]&&s++;for(r=i-1;0<=r;r--)_.maskDigitPosMapOld[r]&&l++;a<n?n=10*e:n<=i&&i!==a?_.maskDigitPosMapOld[n]||(n=(i=n)-(l-s)-t,_.maskDigitPosMap[n]&&(n=i)):i<n&&(n=n+(s-l)+o)}return n},behaviour:function(t){t=t||window.event,_.invalid=[];var e=u.data("mask-keycode");if(-1===o.inArray(e,w.byPassKeys)){e=_.getMasked();var n=_.getCaret(),i=u.data("mask-previus-value")||"";return setTimeout(function(){_.setCaret(_.calculateCaretPosition(i))},o.jMaskGlobals.keyStrokeCompensation),_.val(e),_.setCaret(n),_.callbacks(t)}},getMasked:function(t,e){var n,i=[],r=void 0===e?_.val():e+"",a=0,o=y.length,s=0,l=r.length,u=1,c="push",d=-1,h=0;if(e=[],b.reverse){c="unshift",u=-1;var f=0;a=o-1,s=l-1;var p=function(){return-1<a&&-1<s}}else f=o-1,p=function(){return a<o&&s<l};for(;p();){var g=y.charAt(a),m=r.charAt(s),v=w.translation[g];v?(m.match(v.pattern)?(i[c](m),v.recursive&&(-1===d?d=a:a===f&&a!==d&&(a=d-u),f===d&&(a-=u)),a+=u):m===n?(h--,n=void 0):v.optional?(a+=u,s-=u):v.fallback?(i[c](v.fallback),a+=u,s-=u):_.invalid.push({p:s,v:m,e:v.pattern}),s+=u):(t||i[c](g),m===g?(e.push(s),s+=u):(n=g,e.push(s+h),h++),a+=u)}return t=y.charAt(f),o!==l+1||w.translation[t]||i.push(t),i=i.join(""),_.mapMaskdigitPositions(i,e,l),i},mapMaskdigitPositions:function(t,e,n){for(t=b.reverse?t.length-n:0,_.maskDigitPosMap={},n=0;n<e.length;n++)_.maskDigitPosMap[e[n]+t]=1},callbacks:function(t){var e=_.val(),n=e!==a,i=[e,t,u,b],r=function(t,e,n){"function"==typeof b[t]&&e&&b[t].apply(this,n)};r("onChange",!0===n,i),r("onKeyPress",!0===n,i),r("onComplete",e.length===y.length,i),r("onInvalid",0<_.invalid.length,[e,t,u,_.invalid,b])}};u=o(u);var i,w=this,a=_.val();y="function"==typeof y?y(_.val(),void 0,u,b):y,w.mask=y,w.options=b,w.remove=function(){var t=_.getCaret();return w.options.placeholder&&u.removeAttr("placeholder"),u.data("mask-maxlength")&&u.removeAttr("maxlength"),_.destroyEvents(),_.val(w.getCleanVal()),_.setCaret(t),u},w.getCleanVal=function(){return _.getMasked(!0)},w.getMaskedVal=function(t){return _.getMasked(!1,t)},w.init=function(t){if(t=t||!1,b=b||{},w.clearIfNotMatch=o.jMaskGlobals.clearIfNotMatch,w.byPassKeys=o.jMaskGlobals.byPassKeys,w.translation=o.extend({},o.jMaskGlobals.translation,b.translation),w=o.extend(!0,{},w,b),i=_.getRegexMask(),t)_.events(),_.val(_.getMasked());else{b.placeholder&&u.attr("placeholder",b.placeholder),u.data("mask")&&u.attr("autocomplete","off");for(var e=!(t=0);t<y.length;t++){var n=w.translation[y.charAt(t)];if(n&&n.recursive){e=!1;break}}e&&u.attr("maxlength",y.length).data("mask-maxlength",!0),_.destroyEvents(),_.events(),t=_.getCaret(),_.val(_.getMasked()),_.setCaret(t)}},w.init(!u.is("input"))};o.maskWatchers={};var e=function(){var t=o(this),e={},n=t.attr("data-mask");if(t.attr("data-mask-reverse")&&(e.reverse=!0),t.attr("data-mask-clearifnotmatch")&&(e.clearIfNotMatch=!0),"true"===t.attr("data-mask-selectonfocus")&&(e.selectOnFocus=!0),l(t,n,e))return t.data("mask",new s(this,n,e))},l=function(t,e,n){n=n||{};var i=o(t).data("mask"),r=JSON.stringify;t=o(t).val()||o(t).text();try{return"function"==typeof e&&(e=e(t)),"object"!=typeof i||r(i.options)!==r(n)||i.mask!==e}catch(t){}},t=function(t){var e=document.createElement("div"),n=(t="on"+t)in e;return n||(e.setAttribute(t,"return;"),n="function"==typeof e[t]),n};o.fn.mask=function(t,e){e=e||{};var n=this.selector,i=o.jMaskGlobals,r=i.watchInterval;i=e.watchInputs||i.watchInputs;var a=function(){if(l(this,t,e))return o(this).data("mask",new s(this,t,e))};return o(this).each(a),n&&""!==n&&i&&(clearInterval(o.maskWatchers[n]),o.maskWatchers[n]=setInterval(function(){o(document).find(n).each(a)},r)),this},o.fn.masked=function(t){return this.data("mask").getMaskedVal(t)},o.fn.unmask=function(){return clearInterval(o.maskWatchers[this.selector]),delete o.maskWatchers[this.selector],this.each(function(){var t=o(this).data("mask");t&&t.remove().removeData("mask")})},o.fn.cleanVal=function(){return this.data("mask").getCleanVal()},o.applyDataMask=function(t){((t=t||o.jMaskGlobals.maskElements)instanceof o?t:o(t)).filter(o.jMaskGlobals.dataMaskAttr).each(e)},t={maskElements:"input,td,span,div",dataMaskAttr:"*[data-mask]",dataMask:!0,watchInterval:300,watchInputs:!0,keyStrokeCompensation:10,useInput:!/Chrome\/[2-4][0-9]|SamsungBrowser/.test(window.navigator.userAgent)&&t("input"),watchDataMask:!1,byPassKeys:[9,16,17,18,36,37,38,39,40,91],translation:{0:{pattern:/\d/},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/}}},o.jMaskGlobals=o.jMaskGlobals||{},(t=o.jMaskGlobals=o.extend(!0,{},t,o.jMaskGlobals)).dataMask&&o.applyDataMask(),setInterval(function(){o.jMaskGlobals.watchDataMask&&o.applyDataMask()},t.watchInterval)},window.jQuery,window.Zepto),function(c){c.fn.extend({complexify:function(r,a){var o=49,s=120,l=[[32,32],[48,57],[65,90],[97,122],[33,47],[58,64],[91,96],[123,126],[128,255],[256,383],[384,591],[592,687],[688,767],[768,879],[880,1023],[1024,1279],[1328,1423],[1424,1535],[1536,1791],[1792,1871],[1920,1983],[2304,2431],[2432,2559],[2560,2687],[2688,2815],[2816,2943],[2944,3071],[3072,3199],[3200,3327],[3328,3455],[3456,3583],[3584,3711],[3712,3839],[3840,4095],[4096,4255],[4256,4351],[4352,4607],[4608,4991],[5024,5119],[5120,5759],[5760,5791],[5792,5887],[6016,6143],[6144,6319],[7680,7935],[7936,8191],[8192,8303],[8304,8351],[8352,8399],[8400,8447],[8448,8527],[8528,8591],[8592,8703],[8704,8959],[8960,9215],[9216,9279],[9280,9311],[9312,9471],[9472,9599],[9600,9631],[9632,9727],[9728,9983],[9984,10175],[10240,10495],[11904,12031],[12032,12255],[12272,12287],[12288,12351],[12352,12447],[12448,12543],[12544,12591],[12592,12687],[12688,12703],[12704,12735],[12800,13055],[13056,13311],[13312,19893],[19968,40959],[40960,42127],[42128,42191],[44032,55203],[55296,56191],[56192,56319],[56320,57343],[57344,63743],[63744,64255],[64256,64335],[64336,65023],[65056,65071],[65072,65103],[65104,65135],[65136,65278],[65279,65279],[65280,65519],[65520,65533]],t={minimumChars:8,strengthScaleFactor:1,bannedPasswords:window.COMPLEXIFY_BANLIST||[],banMode:"strict"};function u(t,e){for(var n=t.length-1;0<=n;n--)if(e[0]<=t.charCodeAt(n)&&t.charCodeAt(n)<=e[1])return e[1]-e[0]+1;return 0}function e(){var t,e=c(this).val(),n=0;if(function(t){if("strict"===r.banMode){for(var e=0;e<r.bannedPasswords.length;e++)if(-1!==t.toLowerCase().indexOf(r.bannedPasswords[e].toLowerCase()))return!0;return!1}return-1<c.inArray(t,r.bannedPasswords)}(e))n=1;else for(var i=l.length-1;0<=i;i--)n+=u(e,l[i]);n=Math.log(Math.pow(n,e.length))*(1/r.strengthScaleFactor),t=o<n&&e.length>=r.minimumChars,n=100<(n=n/s*100)?100:n,a.call(this,t,n)}return c.isFunction(r)&&!a&&(a=r,r={}),r=c.extend(t,r),this.each(function(){c(this).val()&&e.apply(this)}),this.each(function(){c(this).bind("keyup focus input propertychange mouseup",e)})}})}(jQuery),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).Chart=e()}(this,function(){"use strict";"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function Jn(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}function t(t,e){return t(e={exports:{}},e.exports),e.exports}var c={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},u=t(function(t){var u={};for(var e in c)c.hasOwnProperty(e)&&(u[c[e]]=e);var o=t.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var n in o)if(o.hasOwnProperty(n)){if(!("channels"in o[n]))throw new Error("missing channels property: "+n);if(!("labels"in o[n]))throw new Error("missing channel labels property: "+n);if(o[n].labels.length!==o[n].channels)throw new Error("channel and label counts mismatch: "+n);var i=o[n].channels,r=o[n].labels;delete o[n].channels,delete o[n].labels,Object.defineProperty(o[n],"channels",{value:i}),Object.defineProperty(o[n],"labels",{value:r})}o.rgb.hsl=function(t){var e,n,i=t[0]/255,r=t[1]/255,a=t[2]/255,o=Math.min(i,r,a),s=Math.max(i,r,a),l=s-o;return s===o?e=0:i===s?e=(r-a)/l:r===s?e=2+(a-i)/l:a===s&&(e=4+(i-r)/l),(e=Math.min(60*e,360))<0&&(e+=360),n=(o+s)/2,[e,100*(s===o?0:n<=.5?l/(s+o):l/(2-s-o)),100*n]},o.rgb.hsv=function(t){var e,n,i,r,a,o=t[0]/255,s=t[1]/255,l=t[2]/255,u=Math.max(o,s,l),c=u-Math.min(o,s,l),d=function(t){return(u-t)/6/c+.5};return 0===c?r=a=0:(a=c/u,e=d(o),n=d(s),i=d(l),o===u?r=i-n:s===u?r=1/3+e-i:l===u&&(r=2/3+n-e),r<0?r+=1:1<r&&(r-=1)),[360*r,100*a,100*u]},o.rgb.hwb=function(t){var e=t[0],n=t[1],i=t[2];return[o.rgb.hsl(t)[0],100*(1/255*Math.min(e,Math.min(n,i))),100*(i=1-1/255*Math.max(e,Math.max(n,i)))]},o.rgb.cmyk=function(t){var e,n=t[0]/255,i=t[1]/255,r=t[2]/255;return[100*((1-n-(e=Math.min(1-n,1-i,1-r)))/(1-e)||0),100*((1-i-e)/(1-e)||0),100*((1-r-e)/(1-e)||0),100*e]},o.rgb.keyword=function(t){var e=u[t];if(e)return e;var n,i,r,a=1/0;for(var o in c)if(c.hasOwnProperty(o)){var s=c[o],l=(i=t,r=s,Math.pow(i[0]-r[0],2)+Math.pow(i[1]-r[1],2)+Math.pow(i[2]-r[2],2));l<a&&(a=l,n=o)}return n},o.keyword.rgb=function(t){return c[t]},o.rgb.xyz=function(t){var e=t[0]/255,n=t[1]/255,i=t[2]/255;return[100*(.4124*(e=.04045<e?Math.pow((e+.055)/1.055,2.4):e/12.92)+.3576*(n=.04045<n?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(i=.04045<i?Math.pow((i+.055)/1.055,2.4):i/12.92)),100*(.2126*e+.7152*n+.0722*i),100*(.0193*e+.1192*n+.9505*i)]},o.rgb.lab=function(t){var e=o.rgb.xyz(t),n=e[0],i=e[1],r=e[2];return i/=100,r/=108.883,n=.008856<(n/=95.047)?Math.pow(n,1/3):7.787*n+16/116,[116*(i=.008856<i?Math.pow(i,1/3):7.787*i+16/116)-16,500*(n-i),200*(i-(r=.008856<r?Math.pow(r,1/3):7.787*r+16/116))]},o.hsl.rgb=function(t){var e,n,i,r,a,o=t[0]/360,s=t[1]/100,l=t[2]/100;if(0===s)return[a=255*l,a,a];e=2*l-(n=l<.5?l*(1+s):l+s-l*s),r=[0,0,0];for(var u=0;u<3;u++)(i=o+1/3*-(u-1))<0&&i++,1<i&&i--,a=6*i<1?e+6*(n-e)*i:2*i<1?n:3*i<2?e+(n-e)*(2/3-i)*6:e,r[u]=255*a;return r},o.hsl.hsv=function(t){var e=t[0],n=t[1]/100,i=t[2]/100,r=n,a=Math.max(i,.01);return n*=(i*=2)<=1?i:2-i,r*=a<=1?a:2-a,[e,100*(0===i?2*r/(a+r):2*n/(i+n)),100*((i+n)/2)]},o.hsv.rgb=function(t){var e=t[0]/60,n=t[1]/100,i=t[2]/100,r=Math.floor(e)%6,a=e-Math.floor(e),o=255*i*(1-n),s=255*i*(1-n*a),l=255*i*(1-n*(1-a));switch(i*=255,r){case 0:return[i,l,o];case 1:return[s,i,o];case 2:return[o,i,l];case 3:return[o,s,i];case 4:return[l,o,i];case 5:return[i,o,s]}},o.hsv.hsl=function(t){var e,n,i,r=t[0],a=t[1]/100,o=t[2]/100,s=Math.max(o,.01);return i=(2-a)*o,n=a*s,[r,100*(n=(n/=(e=(2-a)*s)<=1?e:2-e)||0),100*(i/=2)]},o.hwb.rgb=function(t){var e,n,i,r,a,o,s,l=t[0]/360,u=t[1]/100,c=t[2]/100,d=u+c;switch(1<d&&(u/=d,c/=d),i=6*l-(e=Math.floor(6*l)),0!=(1&e)&&(i=1-i),r=u+i*((n=1-c)-u),e){default:case 6:case 0:a=n,o=r,s=u;break;case 1:a=r,o=n,s=u;break;case 2:a=u,o=n,s=r;break;case 3:a=u,o=r,s=n;break;case 4:a=r,o=u,s=n;break;case 5:a=n,o=u,s=r}return[255*a,255*o,255*s]},o.cmyk.rgb=function(t){var e=t[0]/100,n=t[1]/100,i=t[2]/100,r=t[3]/100;return[255*(1-Math.min(1,e*(1-r)+r)),255*(1-Math.min(1,n*(1-r)+r)),255*(1-Math.min(1,i*(1-r)+r))]},o.xyz.rgb=function(t){var e,n,i,r=t[0]/100,a=t[1]/100,o=t[2]/100;return n=-.9689*r+1.8758*a+.0415*o,i=.0557*r+-.204*a+1.057*o,e=.0031308<(e=3.2406*r+-1.5372*a+-.4986*o)?1.055*Math.pow(e,1/2.4)-.055:12.92*e,n=.0031308<n?1.055*Math.pow(n,1/2.4)-.055:12.92*n,i=.0031308<i?1.055*Math.pow(i,1/2.4)-.055:12.92*i,[255*(e=Math.min(Math.max(0,e),1)),255*(n=Math.min(Math.max(0,n),1)),255*(i=Math.min(Math.max(0,i),1))]},o.xyz.lab=function(t){var e=t[0],n=t[1],i=t[2];return n/=100,i/=108.883,e=.008856<(e/=95.047)?Math.pow(e,1/3):7.787*e+16/116,[116*(n=.008856<n?Math.pow(n,1/3):7.787*n+16/116)-16,500*(e-n),200*(n-(i=.008856<i?Math.pow(i,1/3):7.787*i+16/116))]},o.lab.xyz=function(t){var e,n,i,r=t[0];e=t[1]/500+(n=(r+16)/116),i=n-t[2]/200;var a=Math.pow(n,3),o=Math.pow(e,3),s=Math.pow(i,3);return n=.008856<a?a:(n-16/116)/7.787,e=.008856<o?o:(e-16/116)/7.787,i=.008856<s?s:(i-16/116)/7.787,[e*=95.047,n*=100,i*=108.883]},o.lab.lch=function(t){var e,n=t[0],i=t[1],r=t[2];return(e=360*Math.atan2(r,i)/2/Math.PI)<0&&(e+=360),[n,Math.sqrt(i*i+r*r),e]},o.lch.lab=function(t){var e,n=t[0],i=t[1];return e=t[2]/360*2*Math.PI,[n,i*Math.cos(e),i*Math.sin(e)]},o.rgb.ansi16=function(t){var e=t[0],n=t[1],i=t[2],r=1 in arguments?arguments[1]:o.rgb.hsv(t)[2];if(0===(r=Math.round(r/50)))return 30;var a=30+(Math.round(i/255)<<2|Math.round(n/255)<<1|Math.round(e/255));return 2===r&&(a+=60),a},o.hsv.ansi16=function(t){return o.rgb.ansi16(o.hsv.rgb(t),t[2])},o.rgb.ansi256=function(t){var e=t[0],n=t[1],i=t[2];return e===n&&n===i?e<8?16:248<e?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(n/255*5)+Math.round(i/255*5)},o.ansi16.rgb=function(t){var e=t%10;if(0===e||7===e)return 50<t&&(e+=3.5),[e=e/10.5*255,e,e];var n=.5*(1+~~(50<t));return[(1&e)*n*255,(e>>1&1)*n*255,(e>>2&1)*n*255]},o.ansi256.rgb=function(t){if(232<=t){var e=10*(t-232)+8;return[e,e,e]}var n;return t-=16,[Math.floor(t/36)/5*255,Math.floor((n=t%36)/6)/5*255,n%6/5*255]},o.rgb.hex=function(t){var e=(((255&Math.round(t[0]))<<16)+((255&Math.round(t[1]))<<8)+(255&Math.round(t[2]))).toString(16).toUpperCase();return"000000".substring(e.length)+e},o.hex.rgb=function(t){var e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];var n=e[0];3===e[0].length&&(n=n.split("").map(function(t){return t+t}).join(""));var i=parseInt(n,16);return[i>>16&255,i>>8&255,255&i]},o.rgb.hcg=function(t){var e,n=t[0]/255,i=t[1]/255,r=t[2]/255,a=Math.max(Math.max(n,i),r),o=Math.min(Math.min(n,i),r),s=a-o;return e=s<=0?0:a===n?(i-r)/s%6:a===i?2+(r-n)/s:4+(n-i)/s+4,e/=6,[360*(e%=1),100*s,100*(s<1?o/(1-s):0)]},o.hsl.hcg=function(t){var e=t[1]/100,n=t[2]/100,i=1,r=0;return(i=n<.5?2*e*n:2*e*(1-n))<1&&(r=(n-.5*i)/(1-i)),[t[0],100*i,100*r]},o.hsv.hcg=function(t){var e=t[1]/100,n=t[2]/100,i=e*n,r=0;return i<1&&(r=(n-i)/(1-i)),[t[0],100*i,100*r]},o.hcg.rgb=function(t){var e=t[0]/360,n=t[1]/100,i=t[2]/100;if(0===n)return[255*i,255*i,255*i];var r,a=[0,0,0],o=e%1*6,s=o%1,l=1-s;switch(Math.floor(o)){case 0:a[0]=1,a[1]=s,a[2]=0;break;case 1:a[0]=l,a[1]=1,a[2]=0;break;case 2:a[0]=0,a[1]=1,a[2]=s;break;case 3:a[0]=0,a[1]=l,a[2]=1;break;case 4:a[0]=s,a[1]=0,a[2]=1;break;default:a[0]=1,a[1]=0,a[2]=l}return r=(1-n)*i,[255*(n*a[0]+r),255*(n*a[1]+r),255*(n*a[2]+r)]},o.hcg.hsv=function(t){var e=t[1]/100,n=e+t[2]/100*(1-e),i=0;return 0<n&&(i=e/n),[t[0],100*i,100*n]},o.hcg.hsl=function(t){var e=t[1]/100,n=t[2]/100*(1-e)+.5*e,i=0;return 0<n&&n<.5?i=e/(2*n):.5<=n&&n<1&&(i=e/(2*(1-n))),[t[0],100*i,100*n]},o.hcg.hwb=function(t){var e=t[1]/100,n=e+t[2]/100*(1-e);return[t[0],100*(n-e),100*(1-n)]},o.hwb.hcg=function(t){var e=t[1]/100,n=1-t[2]/100,i=n-e,r=0;return i<1&&(r=(n-i)/(1-i)),[t[0],100*i,100*r]},o.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]},o.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]},o.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]},o.gray.hsl=o.gray.hsv=function(t){return[0,0,t[0]]},o.gray.hwb=function(t){return[0,100,t[0]]},o.gray.cmyk=function(t){return[0,0,0,t[0]]},o.gray.lab=function(t){return[t[0],0,0]},o.gray.hex=function(t){var e=255&Math.round(t[0]/100*255),n=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(n.length)+n},o.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]}});u.rgb,u.hsl,u.hsv,u.hwb,u.cmyk,u.xyz,u.lab,u.lch,u.hex,u.keyword,u.ansi16,u.ansi256,u.hcg,u.apple,u.gray;function l(t){var e=function(){for(var t={},e=Object.keys(u),n=e.length,i=0;i<n;i++)t[e[i]]={distance:-1,parent:null};return t}(),n=[t];for(e[t].distance=0;n.length;)for(var i=n.pop(),r=Object.keys(u[i]),a=r.length,o=0;o<a;o++){var s=r[o],l=e[s];-1===l.distance&&(l.distance=e[i].distance+1,l.parent=i,n.unshift(s))}return e}function a(e,n){return function(t){return n(e(t))}}function d(t,e){for(var n=[e[t].parent,t],i=u[e[t].parent][t],r=e[t].parent;e[r].parent;)n.unshift(e[r].parent),i=a(u[e[r].parent][r],i),r=e[r].parent;return i.conversion=n,i}var h={};Object.keys(u).forEach(function(o){h[o]={},Object.defineProperty(h[o],"channels",{value:u[o].channels}),Object.defineProperty(h[o],"labels",{value:u[o].labels});var s=function(t){for(var e=l(t),n={},i=Object.keys(e),r=i.length,a=0;a<r;a++){var o=i[a];null!==e[o].parent&&(n[o]=d(o,e))}return n}(o);Object.keys(s).forEach(function(t){var r,e,n,i,a=s[t];h[o][t]=(e=function(t){if(null==t)return t;1<arguments.length&&(t=Array.prototype.slice.call(arguments));var e=r(t);if("object"==typeof e)for(var n=e.length,i=0;i<n;i++)e[i]=Math.round(e[i]);return e},"conversion"in(r=a)&&(e.conversion=r.conversion),e),h[o][t].raw=(i=function(t){return null==t?t:(1<arguments.length&&(t=Array.prototype.slice.call(arguments)),n(t))},"conversion"in(n=a)&&(i.conversion=n.conversion),i)})});var f=h,o={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},n={getRgba:i,getHsla:r,getRgb:function(t){var e=i(t);return e&&e.slice(0,3)},getHsl:function(t){var e=r(t);return e&&e.slice(0,3)},getHwb:s,getAlpha:function(t){var e=i(t);{if(e)return e[3];if(e=r(t))return e[3];if(e=s(t))return e[3]}},hexString:function(t,e){var e=void 0!==e&&3===t.length?e:t[3];return"#"+y(t[0])+y(t[1])+y(t[2])+(0<=e&&e<1?y(Math.round(255*e)):"")},rgbString:function(t,e){if(e<1||t[3]&&t[3]<1)return p(t,e);return"rgb("+t[0]+", "+t[1]+", "+t[2]+")"},rgbaString:p,percentString:function(t,e){if(e<1||t[3]&&t[3]<1)return g(t,e);var n=Math.round(t[0]/255*100),i=Math.round(t[1]/255*100),r=Math.round(t[2]/255*100);return"rgb("+n+"%, "+i+"%, "+r+"%)"},percentaString:g,hslString:function(t,e){if(e<1||t[3]&&t[3]<1)return m(t,e);return"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)"},hslaString:m,hwbString:function(t,e){void 0===e&&(e=void 0!==t[3]?t[3]:1);return"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+(void 0!==e&&1!==e?", "+e:"")+")"},keyword:function(t){return e[t.slice(0,3)]}};function i(t){if(t){var e=[0,0,0],n=1,i=t.match(/^#([a-fA-F0-9]{3,4})$/i),r="";if(i){r=(i=i[1])[3];for(var a=0;a<e.length;a++)e[a]=parseInt(i[a]+i[a],16);r&&(n=Math.round(parseInt(r+r,16)/255*100)/100)}else if(i=t.match(/^#([a-fA-F0-9]{6}([a-fA-F0-9]{2})?)$/i)){r=i[2],i=i[1];for(a=0;a<e.length;a++)e[a]=parseInt(i.slice(2*a,2*a+2),16);r&&(n=Math.round(parseInt(r,16)/255*100)/100)}else if(i=t.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(a=0;a<e.length;a++)e[a]=parseInt(i[a+1]);n=parseFloat(i[4])}else if(i=t.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(a=0;a<e.length;a++)e[a]=Math.round(2.55*parseFloat(i[a+1]));n=parseFloat(i[4])}else if(i=t.match(/(\w+)/)){if("transparent"==i[1])return[0,0,0,0];if(!(e=o[i[1]]))return}for(a=0;a<e.length;a++)e[a]=v(e[a],0,255);return n=n||0==n?v(n,0,1):1,e[3]=n,e}}function r(t){if(t){var e=t.match(/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(e){var n=parseFloat(e[4]);return[v(parseInt(e[1]),0,360),v(parseFloat(e[2]),0,100),v(parseFloat(e[3]),0,100),v(isNaN(n)?1:n,0,1)]}}}function s(t){if(t){var e=t.match(/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(e){var n=parseFloat(e[4]);return[v(parseInt(e[1]),0,360),v(parseFloat(e[2]),0,100),v(parseFloat(e[3]),0,100),v(isNaN(n)?1:n,0,1)]}}}function p(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"rgba("+t[0]+", "+t[1]+", "+t[2]+", "+e+")"}function g(t,e){return"rgba("+Math.round(t[0]/255*100)+"%, "+Math.round(t[1]/255*100)+"%, "+Math.round(t[2]/255*100)+"%, "+(e||t[3]||1)+")"}function m(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+e+")"}function v(t,e,n){return Math.min(Math.max(e,t),n)}function y(t){var e=t.toString(16).toUpperCase();return e.length<2?"0"+e:e}var e={};for(var b in o)e[o[b]]=b;var _=function(t){return t instanceof _?t:this instanceof _?(this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},void("string"==typeof t?(e=n.getRgba(t))?this.setValues("rgb",e):(e=n.getHsla(t))?this.setValues("hsl",e):(e=n.getHwb(t))&&this.setValues("hwb",e):"object"==typeof t&&(void 0!==(e=t).r||void 0!==e.red?this.setValues("rgb",e):void 0!==e.l||void 0!==e.lightness?this.setValues("hsl",e):void 0!==e.v||void 0!==e.value?this.setValues("hsv",e):void 0!==e.w||void 0!==e.whiteness?this.setValues("hwb",e):void 0===e.c&&void 0===e.cyan||this.setValues("cmyk",e)))):new _(t);var e};_.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var t=this.values;return 1!==t.alpha?t.hwb.concat([t.alpha]):t.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var t=this.values;return t.rgb.concat([t.alpha])},hslaArray:function(){var t=this.values;return t.hsl.concat([t.alpha])},alpha:function(t){return void 0===t?this.values.alpha:(this.setValues("alpha",t),this)},red:function(t){return this.setChannel("rgb",0,t)},green:function(t){return this.setChannel("rgb",1,t)},blue:function(t){return this.setChannel("rgb",2,t)},hue:function(t){return t&&(t=(t%=360)<0?360+t:t),this.setChannel("hsl",0,t)},saturation:function(t){return this.setChannel("hsl",1,t)},lightness:function(t){return this.setChannel("hsl",2,t)},saturationv:function(t){return this.setChannel("hsv",1,t)},whiteness:function(t){return this.setChannel("hwb",1,t)},blackness:function(t){return this.setChannel("hwb",2,t)},value:function(t){return this.setChannel("hsv",2,t)},cyan:function(t){return this.setChannel("cmyk",0,t)},magenta:function(t){return this.setChannel("cmyk",1,t)},yellow:function(t){return this.setChannel("cmyk",2,t)},black:function(t){return this.setChannel("cmyk",3,t)},hexString:function(){return n.hexString(this.values.rgb)},rgbString:function(){return n.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return n.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return n.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return n.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return n.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return n.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return n.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var t=this.values.rgb;return t[0]<<16|t[1]<<8|t[2]},luminosity:function(){for(var t=this.values.rgb,e=[],n=0;n<t.length;n++){var i=t[n]/255;e[n]=i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4)}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var e=this.luminosity(),n=t.luminosity();return n<e?(e+.05)/(n+.05):(n+.05)/(e+.05)},level:function(t){var e=this.contrast(t);return 7.1<=e?"AAA":4.5<=e?"AA":""},dark:function(){var t=this.values.rgb;return(299*t[0]+587*t[1]+114*t[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var t=[],e=0;e<3;e++)t[e]=255-this.values.rgb[e];return this.setValues("rgb",t),this},lighten:function(t){var e=this.values.hsl;return e[2]+=e[2]*t,this.setValues("hsl",e),this},darken:function(t){var e=this.values.hsl;return e[2]-=e[2]*t,this.setValues("hsl",e),this},saturate:function(t){var e=this.values.hsl;return e[1]+=e[1]*t,this.setValues("hsl",e),this},desaturate:function(t){var e=this.values.hsl;return e[1]-=e[1]*t,this.setValues("hsl",e),this},whiten:function(t){var e=this.values.hwb;return e[1]+=e[1]*t,this.setValues("hwb",e),this},blacken:function(t){var e=this.values.hwb;return e[2]+=e[2]*t,this.setValues("hwb",e),this},greyscale:function(){var t=this.values.rgb,e=.3*t[0]+.59*t[1]+.11*t[2];return this.setValues("rgb",[e,e,e]),this},clearer:function(t){var e=this.values.alpha;return this.setValues("alpha",e-e*t),this},opaquer:function(t){var e=this.values.alpha;return this.setValues("alpha",e+e*t),this},rotate:function(t){var e=this.values.hsl,n=(e[0]+t)%360;return e[0]=n<0?360+n:n,this.setValues("hsl",e),this},mix:function(t,e){var n=t,i=void 0===e?.5:e,r=2*i-1,a=this.alpha()-n.alpha(),o=((r*a==-1?r:(r+a)/(1+r*a))+1)/2,s=1-o;return this.rgb(o*this.red()+s*n.red(),o*this.green()+s*n.green(),o*this.blue()+s*n.blue()).alpha(this.alpha()*i+n.alpha()*(1-i))},toJSON:function(){return this.rgb()},clone:function(){var t,e,n=new _,i=this.values,r=n.values;for(var a in i)i.hasOwnProperty(a)&&(t=i[a],"[object Array]"===(e={}.toString.call(t))?r[a]=t.slice(0):"[object Number]"===e&&(r[a]=t));return n}},_.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},_.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},_.prototype.getValues=function(t){for(var e=this.values,n={},i=0;i<t.length;i++)n[t.charAt(i)]=e[t][i];return 1!==e.alpha&&(n.a=e.alpha),n},_.prototype.setValues=function(t,e){var n,i,r=this.values,a=this.spaces,o=this.maxes,s=1;if(this.valid=!0,"alpha"===t)s=e;else if(e.length)r[t]=e.slice(0,t.length),s=e[t.length];else if(void 0!==e[t.charAt(0)]){for(n=0;n<t.length;n++)r[t][n]=e[t.charAt(n)];s=e.a}else if(void 0!==e[a[t][0]]){var l=a[t];for(n=0;n<t.length;n++)r[t][n]=e[l[n]];s=e.alpha}if(r.alpha=Math.max(0,Math.min(1,void 0===s?r.alpha:s)),"alpha"===t)return!1;for(n=0;n<t.length;n++)i=Math.max(0,Math.min(o[t][n],r[t][n])),r[t][n]=Math.round(i);for(var u in a)u!==t&&(r[u]=f[t][u](r[t]));return!0},_.prototype.setSpace=function(t,e){var n=e[0];return void 0===n?this.getValues(t):("number"==typeof n&&(n=Array.prototype.slice.call(e)),this.setValues(t,n),this)},_.prototype.setChannel=function(t,e,n){var i=this.values[t];return void 0===n?i[e]:(n===i[e]||(i[e]=n,this.setValues(t,i)),this)},"undefined"!=typeof window&&(window.Color=_);var w=_;function x(t){return-1===["__proto__","prototype","constructor"].indexOf(t)}var k,C={noop:function(){},uid:(k=0,function(){return k++}),isNullOrUndef:function(t){return null==t},isArray:function(t){if(Array.isArray&&Array.isArray(t))return!0;var e=Object.prototype.toString.call(t);return"[object"===e.substr(0,7)&&"Array]"===e.substr(-6)},isObject:function(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)},isFinite:function(t){return("number"==typeof t||t instanceof Number)&&isFinite(t)},valueOrDefault:function(t,e){return void 0===t?e:t},valueAtIndexOrDefault:function(t,e,n){return C.valueOrDefault(C.isArray(t)?t[e]:t,n)},callback:function(t,e,n){if(t&&"function"==typeof t.call)return t.apply(n,e)},each:function(t,e,n,i){var r,a,o;if(C.isArray(t))if(a=t.length,i)for(r=a-1;0<=r;r--)e.call(n,t[r],r);else for(r=0;r<a;r++)e.call(n,t[r],r);else if(C.isObject(t))for(a=(o=Object.keys(t)).length,r=0;r<a;r++)e.call(n,t[o[r]],o[r])},arrayEquals:function(t,e){var n,i,r,a;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(r=t[n],a=e[n],r instanceof Array&&a instanceof Array){if(!C.arrayEquals(r,a))return!1}else if(r!==a)return!1;return!0},clone:function(t){if(C.isArray(t))return t.map(C.clone);if(C.isObject(t)){for(var e=Object.create(t),n=Object.keys(t),i=n.length,r=0;r<i;++r)e[n[r]]=C.clone(t[n[r]]);return e}return t},_merger:function(t,e,n,i){if(x(t)){var r=e[t],a=n[t];C.isObject(r)&&C.isObject(a)?C.merge(r,a,i):e[t]=C.clone(a)}},_mergerIf:function(t,e,n){if(x(t)){var i=e[t],r=n[t];C.isObject(i)&&C.isObject(r)?C.mergeIf(i,r):e.hasOwnProperty(t)||(e[t]=C.clone(r))}},merge:function(t,e,n){var i,r,a,o,s,l=C.isArray(e)?e:[e],u=l.length;if(!C.isObject(t))return t;for(i=(n=n||{}).merger||C._merger,r=0;r<u;++r)if(e=l[r],C.isObject(e))for(s=0,o=(a=Object.keys(e)).length;s<o;++s)i(a[s],t,e,n);return t},mergeIf:function(t,e){return C.merge(t,e,{merger:C._mergerIf})},extend:Object.assign||function(t){return C.merge(t,[].slice.call(arguments,1),{merger:function(t,e,n){e[t]=n[t]}})},inherits:function(t){var e=this,n=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return e.apply(this,arguments)},i=function(){this.constructor=n};return i.prototype=e.prototype,n.prototype=new i,n.extend=C.inherits,t&&C.extend(n.prototype,t),n.__super__=e.prototype,n},_deprecated:function(t,e,n,i){}},S=C;C.callCallback=C.callback,C.indexOf=function(t,e,n){return Array.prototype.indexOf.call(t,e,n)},C.getValueOrDefault=C.valueOrDefault,C.getValueAtIndexOrDefault=C.valueAtIndexOrDefault;var D={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-t*(t-2)},easeInOutQuad:function(t){return(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return(t-=1)*t*t+1},easeInOutCubic:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-((t-=1)*t*t*t-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return(t-=1)*t*t*t*t+1},easeInOutQuint:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return 1-Math.cos(t*(Math.PI/2))},easeOutSine:function(t){return Math.sin(t*(Math.PI/2))},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t)-1)},easeInExpo:function(t){return 0===t?0:Math.pow(2,10*(t-1))},easeOutExpo:function(t){return 1===t?1:1-Math.pow(2,-10*t)},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t))},easeInCirc:function(t){return 1<=t?t:-(Math.sqrt(1-t*t)-1)},easeOutCirc:function(t){return Math.sqrt(1-(t-=1)*t)},easeInOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){var e=1.70158,n=0,i=1;return 0===t?0:1===t?1:(n||(n=.3),i<1?(i=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/i),-i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n))},easeOutElastic:function(t){var e=1.70158,n=0,i=1;return 0===t?0:1===t?1:(n||(n=.3),i<1?(i=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/i),i*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/n)+1)},easeInOutElastic:function(t){var e=1.70158,n=0,i=1;return 0===t?0:2==(t/=.5)?1:(n||(n=.45),i<1?(i=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/i),t<1?i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)*-.5:i*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)*.5+1)},easeInBack:function(t){return t*t*(2.70158*t-1.70158)},easeOutBack:function(t){return(t-=1)*t*(2.70158*t+1.70158)+1},easeInOutBack:function(t){var e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:function(t){return 1-D.easeOutBounce(1-t)},easeOutBounce:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:function(t){return t<.5?.5*D.easeInBounce(2*t):.5*D.easeOutBounce(2*t-1)+.5}},T={effects:D};S.easingEffects=D;var M=Math.PI,$=M/180,O=2*M,E=M/2,P=M/4,A=2*M/3,R={clear:function(t){t.ctx.clearRect(0,0,t.width,t.height)},roundedRect:function(t,e,n,i,r,a){if(a){var o=Math.min(a,r/2,i/2),s=e+o,l=n+o,u=e+i-o,c=n+r-o;t.moveTo(e,l),s<u&&l<c?(t.arc(s,l,o,-M,-E),t.arc(u,l,o,-E,0),t.arc(u,c,o,0,E),t.arc(s,c,o,E,M)):s<u?(t.moveTo(s,n),t.arc(u,l,o,-E,E),t.arc(s,l,o,E,M+E)):l<c?(t.arc(s,l,o,-M,0),t.arc(s,c,o,0,M)):t.arc(s,l,o,-M,M),t.closePath(),t.moveTo(e,n)}else t.rect(e,n,i,r)},drawPoint:function(t,e,n,i,r,a){var o,s,l,u,c,d=(a||0)*$;if(e&&"object"==typeof e&&("[object HTMLImageElement]"===(o=e.toString())||"[object HTMLCanvasElement]"===o))return t.save(),t.translate(i,r),t.rotate(d),t.drawImage(e,-e.width/2,-e.height/2,e.width,e.height),void t.restore();if(!(isNaN(n)||n<=0)){switch(t.beginPath(),e){default:t.arc(i,r,n,0,O),t.closePath();break;case"triangle":t.moveTo(i+Math.sin(d)*n,r-Math.cos(d)*n),d+=A,t.lineTo(i+Math.sin(d)*n,r-Math.cos(d)*n),d+=A,t.lineTo(i+Math.sin(d)*n,r-Math.cos(d)*n),t.closePath();break;case"rectRounded":u=n-(c=.516*n),s=Math.cos(d+P)*u,l=Math.sin(d+P)*u,t.arc(i-s,r-l,c,d-M,d-E),t.arc(i+l,r-s,c,d-E,d),t.arc(i+s,r+l,c,d,d+E),t.arc(i-l,r+s,c,d+E,d+M),t.closePath();break;case"rect":if(!a){u=Math.SQRT1_2*n,t.rect(i-u,r-u,2*u,2*u);break}d+=P;case"rectRot":s=Math.cos(d)*n,l=Math.sin(d)*n,t.moveTo(i-s,r-l),t.lineTo(i+l,r-s),t.lineTo(i+s,r+l),t.lineTo(i-l,r+s),t.closePath();break;case"crossRot":d+=P;case"cross":s=Math.cos(d)*n,l=Math.sin(d)*n,t.moveTo(i-s,r-l),t.lineTo(i+s,r+l),t.moveTo(i+l,r-s),t.lineTo(i-l,r+s);break;case"star":s=Math.cos(d)*n,l=Math.sin(d)*n,t.moveTo(i-s,r-l),t.lineTo(i+s,r+l),t.moveTo(i+l,r-s),t.lineTo(i-l,r+s),d+=P,s=Math.cos(d)*n,l=Math.sin(d)*n,t.moveTo(i-s,r-l),t.lineTo(i+s,r+l),t.moveTo(i+l,r-s),t.lineTo(i-l,r+s);break;case"line":s=Math.cos(d)*n,l=Math.sin(d)*n,t.moveTo(i-s,r-l),t.lineTo(i+s,r+l);break;case"dash":t.moveTo(i,r),t.lineTo(i+Math.cos(d)*n,r+Math.sin(d)*n)}t.fill(),t.stroke()}},_isPointInArea:function(t,e){return t.x>e.left-1e-6&&t.x<e.right+1e-6&&t.y>e.top-1e-6&&t.y<e.bottom+1e-6},clipArea:function(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()},unclipArea:function(t){t.restore()},lineTo:function(t,e,n,i){var r=n.steppedLine;if(r){if("middle"===r){var a=(e.x+n.x)/2;t.lineTo(a,i?n.y:e.y),t.lineTo(a,i?e.y:n.y)}else"after"===r&&!i||"after"!==r&&i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}else n.tension?t.bezierCurveTo(i?e.controlPointPreviousX:e.controlPointNextX,i?e.controlPointPreviousY:e.controlPointNextY,i?n.controlPointNextX:n.controlPointPreviousX,i?n.controlPointNextY:n.controlPointPreviousY,n.x,n.y):t.lineTo(n.x,n.y)}},I=R;S.clear=R.clear,S.drawRoundedRectangle=function(t){t.beginPath(),R.roundedRect.apply(R,arguments)};var F={_set:function(t,e){return S.merge(this[t]||(this[t]={}),e)}};F._set("global",{defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",defaultLineHeight:1.2,showLines:!0});var j=F,L=S.valueOrDefault;var N={toLineHeight:function(t,e){var n=(""+t).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!n||"normal"===n[1])return 1.2*e;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100}return e*t},toPadding:function(t){var e,n,i,r;return S.isObject(t)?(e=+t.top||0,n=+t.right||0,i=+t.bottom||0,r=+t.left||0):e=n=i=r=+t||0,{top:e,right:n,bottom:i,left:r,height:e+i,width:r+n}},_parseFont:function(t){var e,n=j.global,i=L(t.fontSize,n.defaultFontSize),r={family:L(t.fontFamily,n.defaultFontFamily),lineHeight:S.options.toLineHeight(L(t.lineHeight,n.defaultLineHeight),i),size:i,style:L(t.fontStyle,n.defaultFontStyle),weight:null,string:""};return r.string=!(e=r)||S.isNullOrUndef(e.size)||S.isNullOrUndef(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family,r},resolve:function(t,e,n,i){var r,a,o,s=!0;for(r=0,a=t.length;r<a;++r)if(void 0!==(o=t[r])&&(void 0!==e&&"function"==typeof o&&(o=o(e),s=!1),void 0!==n&&S.isArray(o)&&(o=o[n],s=!1),void 0!==o))return i&&!s&&(i.cacheable=!1),o}},V={_factorize:function(t){var e,n=[],i=Math.sqrt(t);for(e=1;e<i;e++)t%e==0&&(n.push(e),n.push(t/e));return i===(0|i)&&n.push(i),n.sort(function(t,e){return t-e}).pop(),n},log10:Math.log10||function(t){var e=Math.log(t)*Math.LOG10E,n=Math.round(e);return t===Math.pow(10,n)?n:e}},H=V;S.log10=V.log10;var B=S,Y=T,U=I,z=N,W=H,q={getRtlAdapter:function(t,e,n){return t?(i=e,r=n,{x:function(t){return i+i+r-t},setWidth:function(t){r=t},textAlign:function(t){return"center"===t?t:"right"===t?"left":"right"},xPlus:function(t,e){return t-e},leftForLtr:function(t,e){return t-e}}):{x:function(t){return t},setWidth:function(t){},textAlign:function(t){return t},xPlus:function(t,e){return t+e},leftForLtr:function(t,e){return t}};var i,r},overrideTextDirection:function(t,e){var n,i;"ltr"!==e&&"rtl"!==e||(i=[(n=t.canvas.style).getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)},restoreTextDirection:function(t){var e=t.prevTextDirection;void 0!==e&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}};B.easing=Y,B.canvas=U,B.options=z,B.math=W,B.rtl=q;var G=function(t){B.extend(this,t),this.initialize.apply(this,arguments)};B.extend(G.prototype,{_type:void 0,initialize:function(){this.hidden=!1},pivot:function(){return this._view||(this._view=B.extend({},this._model)),this._start={},this},transition:function(t){var e=this._model,n=this._start,i=this._view;return e&&1!==t?(i||(i=this._view={}),n||(n=this._start={}),function(t,e,n,i){var r,a,o,s,l,u,c,d,h,f=Object.keys(n);for(r=0,a=f.length;r<a;++r)if(u=n[o=f[r]],e.hasOwnProperty(o)||(e[o]=u),(s=e[o])!==u&&"_"!==o[0]){if(t.hasOwnProperty(o)||(t[o]=s),(c=typeof u)==typeof(l=t[o]))if("string"===c){if((d=w(l)).valid&&(h=w(u)).valid){e[o]=h.mix(d,i).rgbString();continue}}else if(B.isFinite(l)&&B.isFinite(u)){e[o]=l+(u-l)*i;continue}e[o]=u}}(n,i,e,t)):(this._view=B.extend({},e),this._start=null),this},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return B.isNumber(this._model.x)&&B.isNumber(this._model.y)}}),G.extend=B.inherits;var Z=G,X=Z.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),K=X;Object.defineProperty(X.prototype,"animationObject",{get:function(){return this}}),Object.defineProperty(X.prototype,"chartInstance",{get:function(){return this.chart},set:function(t){this.chart=t}}),j._set("global",{animation:{duration:1e3,easing:"easeOutQuart",onProgress:B.noop,onComplete:B.noop}});var Q={animations:[],request:null,addAnimation:function(t,e,n,i){var r,a,o=this.animations;for(e.chart=t,e.startTime=Date.now(),e.duration=n,i||(t.animating=!0),r=0,a=o.length;r<a;++r)if(o[r].chart===t)return void(o[r]=e);o.push(e),1===o.length&&this.requestAnimationFrame()},cancelAnimation:function(e){var t=B.findIndex(this.animations,function(t){return t.chart===e});-1!==t&&(this.animations.splice(t,1),e.animating=!1)},requestAnimationFrame:function(){var t=this;null===t.request&&(t.request=B.requestAnimFrame.call(window,function(){t.request=null,t.startDigest()}))},startDigest:function(){this.advance(),0<this.animations.length&&this.requestAnimationFrame()},advance:function(){for(var t,e,n,i,r=this.animations,a=0;a<r.length;)e=(t=r[a]).chart,n=t.numSteps,i=Math.floor((Date.now()-t.startTime)/t.duration*n)+1,t.currentStep=Math.min(i,n),B.callback(t.render,[e,t],e),B.callback(t.onAnimationProgress,[t],e),t.currentStep>=n?(B.callback(t.onAnimationComplete,[t],e),e.animating=!1,r.splice(a,1)):++a}},J=B.options.resolve,tt=["push","pop","shift","splice","unshift"];function et(e,t){var n=e._chartjs;if(n){var i=n.listeners,r=i.indexOf(t);-1!==r&&i.splice(r,1),0<i.length||(tt.forEach(function(t){delete e[t]}),delete e._chartjs)}}var nt=function(t,e){this.initialize(t,e)};B.extend(nt.prototype,{datasetElementType:null,dataElementType:null,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth"],_dataElementOptions:["backgroundColor","borderColor","borderWidth","pointStyle"],initialize:function(t,e){this.chart=t,this.index=e,this.linkScales(),this.addElements(),this._type=this.getMeta().type},updateIndex:function(t){this.index=t},linkScales:function(){var t=this.getMeta(),e=this.chart,n=e.scales,i=this.getDataset(),r=e.options.scales;null!==t.xAxisID&&t.xAxisID in n&&!i.xAxisID||(t.xAxisID=i.xAxisID||r.xAxes[0].id),null!==t.yAxisID&&t.yAxisID in n&&!i.yAxisID||(t.yAxisID=i.yAxisID||r.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(t){return this.chart.scales[t]},_getValueScaleId:function(){return this.getMeta().yAxisID},_getIndexScaleId:function(){return this.getMeta().xAxisID},_getValueScale:function(){return this.getScaleForId(this._getValueScaleId())},_getIndexScale:function(){return this.getScaleForId(this._getIndexScaleId())},reset:function(){this._update(!0)},destroy:function(){this._data&&et(this._data,this)},createMetaDataset:function(){var t=this.datasetElementType;return t&&new t({_chart:this.chart,_datasetIndex:this.index})},createMetaData:function(t){var e=this.dataElementType;return e&&new e({_chart:this.chart,_datasetIndex:this.index,_index:t})},addElements:function(){var t,e,n=this.getMeta(),i=this.getDataset().data||[],r=n.data;for(t=0,e=i.length;t<e;++t)r[t]=r[t]||this.createMetaData(t);n.dataset=n.dataset||this.createMetaDataset()},addElementAndReset:function(t){var e=this.createMetaData(t);this.getMeta().data.splice(t,0,e),this.updateElement(e,t,!0)},buildOrUpdateElements:function(){var r,t,e=this.getDataset(),n=e.data||(e.data=[]);this._data!==n&&(this._data&&et(this._data,this),n&&Object.isExtensible(n)&&(t=this,(r=n)._chartjs?r._chartjs.listeners.push(t):(Object.defineProperty(r,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),tt.forEach(function(t){var n="onData"+t.charAt(0).toUpperCase()+t.slice(1),i=r[t];Object.defineProperty(r,t,{configurable:!0,enumerable:!1,value:function(){var e=Array.prototype.slice.call(arguments),t=i.apply(this,e);return B.each(r._chartjs.listeners,function(t){"function"==typeof t[n]&&t[n].apply(t,e)}),t}})}))),this._data=n),this.resyncElements()},_configure:function(){this._config=B.merge(Object.create(null),[this.chart.options.datasets[this._type],this.getDataset()],{merger:function(t,e,n){"_meta"!==t&&"data"!==t&&B._merger(t,e,n)}})},_update:function(t){this._configure(),this._cachedDataOpts=null,this.update(t)},update:B.noop,transition:function(t){for(var e=this.getMeta(),n=e.data||[],i=n.length,r=0;r<i;++r)n[r].transition(t);e.dataset&&e.dataset.transition(t)},draw:function(){var t=this.getMeta(),e=t.data||[],n=e.length,i=0;for(t.dataset&&t.dataset.draw();i<n;++i)e[i].draw()},getStyle:function(t){var e,n=this.getMeta(),i=n.dataset;return this._configure(),i&&void 0===t?e=this._resolveDatasetElementOptions(i||{}):(t=t||0,e=this._resolveDataElementOptions(n.data[t]||{},t)),!1!==e.fill&&null!==e.fill||(e.backgroundColor=e.borderColor),e},_resolveDatasetElementOptions:function(t,e){var n,i,r,a,o=this.chart,s=this._config,l=t.custom||{},u=o.options.elements[this.datasetElementType.prototype._type]||{},c=this._datasetElementOptions,d={},h={chart:o,dataset:this.getDataset(),datasetIndex:this.index,hover:e};for(n=0,i=c.length;n<i;++n)r=c[n],a=e?"hover"+r.charAt(0).toUpperCase()+r.slice(1):r,d[r]=J([l[a],s[a],u[a]],h);return d},_resolveDataElementOptions:function(t,e){var n=t&&t.custom,i=this._cachedDataOpts;if(i&&!n)return i;var r,a,o,s,l=this.chart,u=this._config,c=l.options.elements[this.dataElementType.prototype._type]||{},d=this._dataElementOptions,h={},f={chart:l,dataIndex:e,dataset:this.getDataset(),datasetIndex:this.index},p={cacheable:!n};if(n=n||{},B.isArray(d))for(a=0,o=d.length;a<o;++a)h[s=d[a]]=J([n[s],u[s],c[s]],f,e,p);else for(a=0,o=(r=Object.keys(d)).length;a<o;++a)h[s=r[a]]=J([n[s],u[d[s]],u[s],c[s]],f,e,p);return p.cacheable&&(this._cachedDataOpts=Object.freeze(h)),h},removeHoverStyle:function(t){B.merge(t._model,t.$previousStyle||{}),delete t.$previousStyle},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],n=t._index,i=t.custom||{},r=t._model,a=B.getHoverColor;t.$previousStyle={backgroundColor:r.backgroundColor,borderColor:r.borderColor,borderWidth:r.borderWidth},r.backgroundColor=J([i.hoverBackgroundColor,e.hoverBackgroundColor,a(r.backgroundColor)],void 0,n),r.borderColor=J([i.hoverBorderColor,e.hoverBorderColor,a(r.borderColor)],void 0,n),r.borderWidth=J([i.hoverBorderWidth,e.hoverBorderWidth,r.borderWidth],void 0,n)},_removeDatasetHoverStyle:function(){var t=this.getMeta().dataset;t&&this.removeHoverStyle(t)},_setDatasetHoverStyle:function(){var t,e,n,i,r,a,o=this.getMeta().dataset,s={};if(o){for(a=o._model,r=this._resolveDatasetElementOptions(o,!0),t=0,e=(i=Object.keys(r)).length;t<e;++t)s[n=i[t]]=a[n],a[n]=r[n];o.$previousStyle=s}},resyncElements:function(){var t=this.getMeta(),e=this.getDataset().data,n=t.data.length,i=e.length;i<n?t.data.splice(i,n-i):n<i&&this.insertElements(n,i-n)},insertElements:function(t,e){for(var n=0;n<e;++n)this.addElementAndReset(t+n)},onDataPush:function(){var t=arguments.length;this.insertElements(this.getDataset().data.length-t,t)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(t,e){this.getMeta().data.splice(t,e),this.insertElements(t,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),nt.extend=B.inherits;var it=nt,rt=2*Math.PI;function at(t,e){var n=e.startAngle,i=e.endAngle,r=e.pixelMargin,a=r/e.outerRadius,o=e.x,s=e.y;t.beginPath(),t.arc(o,s,e.outerRadius,n-a,i+a),e.innerRadius>r?(a=r/e.innerRadius,t.arc(o,s,e.innerRadius-r,i+a,n-a,!0)):t.arc(o,s,r,i+Math.PI/2,n-Math.PI/2),t.closePath(),t.clip()}function ot(t,e,n){var i="inner"===e.borderAlign;i?(t.lineWidth=2*e.borderWidth,t.lineJoin="round"):(t.lineWidth=e.borderWidth,t.lineJoin="bevel"),n.fullCircles&&function(t,e,n,i){var r,a=n.endAngle;for(i&&(n.endAngle=n.startAngle+rt,at(t,n),n.endAngle=a,n.endAngle===n.startAngle&&n.fullCircles&&(n.endAngle+=rt,n.fullCircles--)),t.beginPath(),t.arc(n.x,n.y,n.innerRadius,n.startAngle+rt,n.startAngle,!0),r=0;r<n.fullCircles;++r)t.stroke();for(t.beginPath(),t.arc(n.x,n.y,e.outerRadius,n.startAngle,n.startAngle+rt),r=0;r<n.fullCircles;++r)t.stroke()}(t,e,n,i),i&&at(t,n),t.beginPath(),t.arc(n.x,n.y,e.outerRadius,n.startAngle,n.endAngle),t.arc(n.x,n.y,n.innerRadius,n.endAngle,n.startAngle,!0),t.closePath(),t.stroke()}j._set("global",{elements:{arc:{backgroundColor:j.global.defaultColor,borderColor:"#fff",borderWidth:2,borderAlign:"center"}}});var st=Z.extend({_type:"arc",inLabelRange:function(t){var e=this._view;return!!e&&Math.pow(t-e.x,2)<Math.pow(e.radius+e.hoverRadius,2)},inRange:function(t,e){var n=this._view;if(n){for(var i=B.getAngleFromPoint(n,{x:t,y:e}),r=i.angle,a=i.distance,o=n.startAngle,s=n.endAngle;s<o;)s+=rt;for(;s<r;)r-=rt;for(;r<o;)r+=rt;var l=o<=r&&r<=s,u=a>=n.innerRadius&&a<=n.outerRadius;return l&&u}return!1},getCenterPoint:function(){var t=this._view,e=(t.startAngle+t.endAngle)/2,n=(t.innerRadius+t.outerRadius)/2;return{x:t.x+Math.cos(e)*n,y:t.y+Math.sin(e)*n}},getArea:function(){var t=this._view;return Math.PI*((t.endAngle-t.startAngle)/(2*Math.PI))*(Math.pow(t.outerRadius,2)-Math.pow(t.innerRadius,2))},tooltipPosition:function(){var t=this._view,e=t.startAngle+(t.endAngle-t.startAngle)/2,n=(t.outerRadius-t.innerRadius)/2+t.innerRadius;return{x:t.x+Math.cos(e)*n,y:t.y+Math.sin(e)*n}},draw:function(){var t,e=this._chart.ctx,n=this._view,i="inner"===n.borderAlign?.33:0,r={x:n.x,y:n.y,innerRadius:n.innerRadius,outerRadius:Math.max(n.outerRadius-i,0),pixelMargin:i,startAngle:n.startAngle,endAngle:n.endAngle,fullCircles:Math.floor(n.circumference/rt)};if(e.save(),e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,r.fullCircles){for(r.endAngle=r.startAngle+rt,e.beginPath(),e.arc(r.x,r.y,r.outerRadius,r.startAngle,r.endAngle),e.arc(r.x,r.y,r.innerRadius,r.endAngle,r.startAngle,!0),e.closePath(),t=0;t<r.fullCircles;++t)e.fill();r.endAngle=r.startAngle+n.circumference%rt}e.beginPath(),e.arc(r.x,r.y,r.outerRadius,r.startAngle,r.endAngle),e.arc(r.x,r.y,r.innerRadius,r.endAngle,r.startAngle,!0),e.closePath(),e.fill(),n.borderWidth&&ot(e,n,r),e.restore()}}),lt=B.valueOrDefault,ut=j.global.defaultColor;j._set("global",{elements:{line:{tension:.4,backgroundColor:ut,borderWidth:3,borderColor:ut,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0}}});var ct=Z.extend({_type:"line",draw:function(){var t,e,n,i=this._view,r=this._chart.ctx,a=i.spanGaps,o=this._children.slice(),s=j.global,l=s.elements.line,u=-1,c=this._loop;if(o.length){if(this._loop){for(t=0;t<o.length;++t)if(e=B.previousItem(o,t),!o[t]._view.skip&&e._view.skip){o=o.slice(t).concat(o.slice(0,t)),c=a;break}c&&o.push(o[0])}for(r.save(),r.lineCap=i.borderCapStyle||l.borderCapStyle,r.setLineDash&&r.setLineDash(i.borderDash||l.borderDash),r.lineDashOffset=lt(i.borderDashOffset,l.borderDashOffset),r.lineJoin=i.borderJoinStyle||l.borderJoinStyle,r.lineWidth=lt(i.borderWidth,l.borderWidth),r.strokeStyle=i.borderColor||s.defaultColor,r.beginPath(),(n=o[0]._view).skip||(r.moveTo(n.x,n.y),u=0),t=1;t<o.length;++t)n=o[t]._view,e=-1===u?B.previousItem(o,t):o[u],n.skip||(u!==t-1&&!a||-1===u?r.moveTo(n.x,n.y):B.canvas.lineTo(r,e._view,n),u=t);c&&r.closePath(),r.stroke(),r.restore()}}}),dt=B.valueOrDefault,ht=j.global.defaultColor;function ft(t){var e=this._view;return!!e&&Math.abs(t-e.x)<e.radius+e.hitRadius}j._set("global",{elements:{point:{radius:3,pointStyle:"circle",backgroundColor:ht,borderColor:ht,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}});var pt=Z.extend({_type:"point",inRange:function(t,e){var n=this._view;return!!n&&Math.pow(t-n.x,2)+Math.pow(e-n.y,2)<Math.pow(n.hitRadius+n.radius,2)},inLabelRange:ft,inXRange:ft,inYRange:function(t){var e=this._view;return!!e&&Math.abs(t-e.y)<e.radius+e.hitRadius},getCenterPoint:function(){var t=this._view;return{x:t.x,y:t.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y,padding:t.radius+t.borderWidth}},draw:function(t){var e=this._view,n=this._chart.ctx,i=e.pointStyle,r=e.rotation,a=e.radius,o=e.x,s=e.y,l=j.global,u=l.defaultColor;e.skip||(void 0===t||B.canvas._isPointInArea(e,t))&&(n.strokeStyle=e.borderColor||u,n.lineWidth=dt(e.borderWidth,l.elements.point.borderWidth),n.fillStyle=e.backgroundColor||u,B.canvas.drawPoint(n,i,a,o,s,r))}}),gt=j.global.defaultColor;function mt(t){return t&&void 0!==t.width}function vt(t){var e,n,i,r,a;return mt(t)?(a=t.width/2,e=t.x-a,n=t.x+a,i=Math.min(t.y,t.base),r=Math.max(t.y,t.base)):(a=t.height/2,e=Math.min(t.x,t.base),n=Math.max(t.x,t.base),i=t.y-a,r=t.y+a),{left:e,top:i,right:n,bottom:r}}function yt(t,e,n){return t===e?n:t===n?e:t}function bt(t,e,n){var i,r,a,o,s,l,u,c=t.borderWidth,d=(r=(i=t).borderSkipped,a={},r&&(i.horizontal?i.base>i.x&&(r=yt(r,"left","right")):i.base<i.y&&(r=yt(r,"bottom","top")),a[r]=!0),a);return B.isObject(c)?(o=+c.top||0,s=+c.right||0,l=+c.bottom||0,u=+c.left||0):o=s=l=u=+c||0,{t:d.top||o<0?0:n<o?n:o,r:d.right||s<0?0:e<s?e:s,b:d.bottom||l<0?0:n<l?n:l,l:d.left||u<0?0:e<u?e:u}}function _t(t,e,n){var i=null===e,r=null===n,a=!(!t||i&&r)&&vt(t);return a&&(i||e>=a.left&&e<=a.right)&&(r||n>=a.top&&n<=a.bottom)}j._set("global",{elements:{rectangle:{backgroundColor:gt,borderColor:gt,borderSkipped:"bottom",borderWidth:0}}});var wt=Z.extend({_type:"rectangle",draw:function(){var t,e,n,i,r,a=this._chart.ctx,o=this._view,s=(e=vt(t=o),n=e.right-e.left,i=e.bottom-e.top,r=bt(t,n/2,i/2),{outer:{x:e.left,y:e.top,w:n,h:i},inner:{x:e.left+r.l,y:e.top+r.t,w:n-r.l-r.r,h:i-r.t-r.b}}),l=s.outer,u=s.inner;a.fillStyle=o.backgroundColor,a.fillRect(l.x,l.y,l.w,l.h),l.w===u.w&&l.h===u.h||(a.save(),a.beginPath(),a.rect(l.x,l.y,l.w,l.h),a.clip(),a.fillStyle=o.borderColor,a.rect(u.x,u.y,u.w,u.h),a.fill("evenodd"),a.restore())},height:function(){var t=this._view;return t.base-t.y},inRange:function(t,e){return _t(this._view,t,e)},inLabelRange:function(t,e){var n=this._view;return mt(n)?_t(n,t,null):_t(n,null,e)},inXRange:function(t){return _t(this._view,t,null)},inYRange:function(t){return _t(this._view,null,t)},getCenterPoint:function(){var t,e,n=this._view;return mt(n)?(t=n.x,e=(n.y+n.base)/2):(t=(n.x+n.base)/2,e=n.y),{x:t,y:e}},getArea:function(){var t=this._view;return mt(t)?t.width*Math.abs(t.y-t.base):t.height*Math.abs(t.x-t.base)},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y}}}),xt={},kt=st,Ct=ct,St=pt,Dt=wt;xt.Arc=kt,xt.Line=Ct,xt.Point=St,xt.Rectangle=Dt;var Tt=B._deprecated,Mt=B.valueOrDefault;function $t(t,e,n){var i,r,a=n.barThickness,o=e.stackCount,s=e.pixels[t],l=B.isNullOrUndef(a)?function(t,e){var n,i,r,a,o=t._length;for(r=1,a=e.length;r<a;++r)o=Math.min(o,Math.abs(e[r]-e[r-1]));for(r=0,a=t.getTicks().length;r<a;++r)i=t.getPixelForTick(r),o=0<r?Math.min(o,Math.abs(i-n)):o,n=i;return o}(e.scale,e.pixels):-1;return B.isNullOrUndef(a)?(i=l*n.categoryPercentage,r=n.barPercentage):(i=a*o,r=1),{chunk:i/o,ratio:r,start:s-i/2}}j._set("bar",{hover:{mode:"label"},scales:{xAxes:[{type:"category",offset:!0,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}}),j._set("global",{datasets:{bar:{categoryPercentage:.8,barPercentage:.9}}});var Ot=it.extend({dataElementType:xt.Rectangle,_dataElementOptions:["backgroundColor","borderColor","borderSkipped","borderWidth","barPercentage","barThickness","categoryPercentage","maxBarThickness","minBarLength"],initialize:function(){var t,e;it.prototype.initialize.apply(this,arguments),(t=this.getMeta()).stack=this.getDataset().stack,t.bar=!0,e=this._getIndexScale().options,Tt("bar chart",e.barPercentage,"scales.[x/y]Axes.barPercentage","dataset.barPercentage"),Tt("bar chart",e.barThickness,"scales.[x/y]Axes.barThickness","dataset.barThickness"),Tt("bar chart",e.categoryPercentage,"scales.[x/y]Axes.categoryPercentage","dataset.categoryPercentage"),Tt("bar chart",this._getValueScale().options.minBarLength,"scales.[x/y]Axes.minBarLength","dataset.minBarLength"),Tt("bar chart",e.maxBarThickness,"scales.[x/y]Axes.maxBarThickness","dataset.maxBarThickness")},update:function(t){var e,n,i=this.getMeta().data;for(this._ruler=this.getRuler(),e=0,n=i.length;e<n;++e)this.updateElement(i[e],e,t)},updateElement:function(t,e,n){var i=this.getMeta(),r=this.getDataset(),a=this._resolveDataElementOptions(t,e);t._xScale=this.getScaleForId(i.xAxisID),t._yScale=this.getScaleForId(i.yAxisID),t._datasetIndex=this.index,t._index=e,t._model={backgroundColor:a.backgroundColor,borderColor:a.borderColor,borderSkipped:a.borderSkipped,borderWidth:a.borderWidth,datasetLabel:r.label,label:this.chart.data.labels[e]},B.isArray(r.data[e])&&(t._model.borderSkipped=null),this._updateElementGeometry(t,e,n,a),t.pivot()},_updateElementGeometry:function(t,e,n,i){var r=t._model,a=this._getValueScale(),o=a.getBasePixel(),s=a.isHorizontal(),l=this._ruler||this.getRuler(),u=this.calculateBarValuePixels(this.index,e,i),c=this.calculateBarIndexPixels(this.index,e,l,i);r.horizontal=s,r.base=n?o:u.base,r.x=s?n?o:u.head:c.center,r.y=s?c.center:n?o:u.head,r.height=s?c.size:void 0,r.width=s?void 0:c.size},_getStacks:function(t){var e,n,i=this._getIndexScale(),r=i._getMatchingVisibleMetas(this._type),a=i.options.stacked,o=r.length,s=[];for(e=0;e<o&&(n=r[e],(!1===a||-1===s.indexOf(n.stack)||void 0===a&&void 0===n.stack)&&s.push(n.stack),n.index!==t);++e);return s},getStackCount:function(){return this._getStacks().length},getStackIndex:function(t,e){var n=this._getStacks(t),i=void 0!==e?n.indexOf(e):-1;return-1===i?n.length-1:i},getRuler:function(){var t,e,n=this._getIndexScale(),i=[];for(t=0,e=this.getMeta().data.length;t<e;++t)i.push(n.getPixelForValue(null,t,this.index));return{pixels:i,start:n._startPixel,end:n._endPixel,stackCount:this.getStackCount(),scale:n}},calculateBarValuePixels:function(t,e,n){var i,r,a,o,s,l,u,c=this.chart,d=this._getValueScale(),h=d.isHorizontal(),f=c.data.datasets,p=d._getMatchingVisibleMetas(this._type),g=d._parseValue(f[t].data[e]),m=n.minBarLength,v=d.options.stacked,y=this.getMeta().stack,b=void 0===g.start?0:0<=g.max&&0<=g.min?g.min:g.max,_=void 0===g.start?g.end:0<=g.max&&0<=g.min?g.max-g.min:g.min-g.max,w=p.length;if(v||void 0===v&&void 0!==y)for(i=0;i<w&&(r=p[i]).index!==t;++i)r.stack===y&&(a=void 0===(u=d._parseValue(f[r.index].data[e])).start?u.end:0<=u.min&&0<=u.max?u.max:u.min,(g.min<0&&a<0||0<=g.max&&0<a)&&(b+=a));return o=d.getPixelForValue(b),l=(s=d.getPixelForValue(b+_))-o,void 0!==m&&Math.abs(l)<m&&(l=m,s=0<=_&&!h||_<0&&h?o-m:o+m),{size:l,base:o,head:s,center:s+l/2}},calculateBarIndexPixels:function(t,e,n,i){var r,a,o,s,l,u,c,d,h,f="flex"===i.barThickness?(r=e,o=i,l=(a=n).pixels,u=l[r],c=0<r?l[r-1]:null,d=r<l.length-1?l[r+1]:null,h=o.categoryPercentage,null===c&&(c=u-(null===d?a.end-a.start:d-u)),null===d&&(d=u+u-c),s=u-(u-Math.min(c,d))/2*h,{chunk:Math.abs(d-c)/2*h/a.stackCount,ratio:o.barPercentage,start:s}):$t(e,n,i),p=this.getStackIndex(t,this.getMeta().stack),g=f.start+f.chunk*p+f.chunk/2,m=Math.min(Mt(i.maxBarThickness,1/0),f.chunk*f.ratio);return{base:g-m/2,head:g+m/2,center:g,size:m}},draw:function(){var t=this.chart,e=this._getValueScale(),n=this.getMeta().data,i=this.getDataset(),r=n.length,a=0;for(B.canvas.clipArea(t.ctx,t.chartArea);a<r;++a){var o=e._parseValue(i.data[a]);isNaN(o.min)||isNaN(o.max)||n[a].draw()}B.canvas.unclipArea(t.ctx)},_resolveDataElementOptions:function(){var t=B.extend({},it.prototype._resolveDataElementOptions.apply(this,arguments)),e=this._getIndexScale().options,n=this._getValueScale().options;return t.barPercentage=Mt(e.barPercentage,t.barPercentage),t.barThickness=Mt(e.barThickness,t.barThickness),t.categoryPercentage=Mt(e.categoryPercentage,t.categoryPercentage),t.maxBarThickness=Mt(e.maxBarThickness,t.maxBarThickness),t.minBarLength=Mt(n.minBarLength,t.minBarLength),t}}),Et=B.valueOrDefault,Pt=B.options.resolve;j._set("bubble",{hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(t,e){var n=e.datasets[t.datasetIndex].label||"",i=e.datasets[t.datasetIndex].data[t.index];return n+": ("+t.xLabel+", "+t.yLabel+", "+i.r+")"}}}});var At=it.extend({dataElementType:xt.Point,_dataElementOptions:["backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","hoverRadius","hitRadius","pointStyle","rotation"],update:function(n){var i=this,t=i.getMeta().data;B.each(t,function(t,e){i.updateElement(t,e,n)})},updateElement:function(t,e,n){var i=this.getMeta(),r=t.custom||{},a=this.getScaleForId(i.xAxisID),o=this.getScaleForId(i.yAxisID),s=this._resolveDataElementOptions(t,e),l=this.getDataset().data[e],u=this.index,c=n?a.getPixelForDecimal(.5):a.getPixelForValue("object"==typeof l?l:NaN,e,u),d=n?o.getBasePixel():o.getPixelForValue(l,e,u);t._xScale=a,t._yScale=o,t._options=s,t._datasetIndex=u,t._index=e,t._model={backgroundColor:s.backgroundColor,borderColor:s.borderColor,borderWidth:s.borderWidth,hitRadius:s.hitRadius,pointStyle:s.pointStyle,rotation:s.rotation,radius:n?0:s.radius,skip:r.skip||isNaN(c)||isNaN(d),x:c,y:d},t.pivot()},setHoverStyle:function(t){var e=t._model,n=t._options,i=B.getHoverColor;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth,radius:e.radius},e.backgroundColor=Et(n.hoverBackgroundColor,i(n.backgroundColor)),e.borderColor=Et(n.hoverBorderColor,i(n.borderColor)),e.borderWidth=Et(n.hoverBorderWidth,n.borderWidth),e.radius=n.radius+n.hoverRadius},_resolveDataElementOptions:function(t,e){var n=this.chart,i=this.getDataset(),r=t.custom||{},a=i.data[e]||{},o=it.prototype._resolveDataElementOptions.apply(this,arguments),s={chart:n,dataIndex:e,dataset:i,datasetIndex:this.index};return this._cachedDataOpts===o&&(o=B.extend({},o)),o.radius=Pt([r.radius,a.r,this._config.radius,n.options.elements.point.radius],s,e),o}}),Rt=B.valueOrDefault,It=Math.PI,Ft=2*It,jt=It/2;j._set("doughnut",{animation:{animateRotate:!0,animateScale:!1},hover:{mode:"single"},legendCallback:function(t){var e,n,i,r=document.createElement("ul"),a=t.data,o=a.datasets,s=a.labels;if(r.setAttribute("class",t.id+"-legend"),o.length)for(n=o[e=0].data.length;e<n;++e)(i=r.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=o[0].backgroundColor[e],s[e]&&i.appendChild(document.createTextNode(s[e]));return r.outerHTML},legend:{labels:{generateLabels:function(r){var a=r.data;return a.labels.length&&a.datasets.length?a.labels.map(function(t,e){var n=r.getDatasetMeta(0),i=n.controller.getStyle(e);return{text:t,fillStyle:i.backgroundColor,strokeStyle:i.borderColor,lineWidth:i.borderWidth,hidden:isNaN(a.datasets[0].data[e])||n.data[e].hidden,index:e}}):[]}},onClick:function(t,e){var n,i,r,a=e.index,o=this.chart;for(n=0,i=(o.data.datasets||[]).length;n<i;++n)(r=o.getDatasetMeta(n)).data[a]&&(r.data[a].hidden=!r.data[a].hidden);o.update()}},cutoutPercentage:50,rotation:-jt,circumference:Ft,tooltips:{callbacks:{title:function(){return""},label:function(t,e){var n=e.labels[t.index],i=": "+e.datasets[t.datasetIndex].data[t.index];return B.isArray(n)?(n=n.slice())[0]+=i:n+=i,n}}}});var Lt=it.extend({dataElementType:xt.Arc,linkScales:B.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],getRingIndex:function(t){for(var e=0,n=0;n<t;++n)this.chart.isDatasetVisible(n)&&++e;return e},update:function(t){var e,n,i,r,a=this,o=a.chart,s=o.chartArea,l=o.options,u=1,c=1,d=0,h=0,f=a.getMeta(),p=f.data,g=l.cutoutPercentage/100||0,m=l.circumference,v=a._getRingWeight(a.index);if(m<Ft){var y=l.rotation%Ft,b=(y+=It<=y?-Ft:y<-It?Ft:0)+m,_=Math.cos(y),w=Math.sin(y),x=Math.cos(b),k=Math.sin(b),C=y<=0&&0<=b||Ft<=b,S=y<=jt&&jt<=b||Ft+jt<=b,D=y<=-jt&&-jt<=b||It+jt<=b,T=y===-It||It<=b?-1:Math.min(_,_*g,x,x*g),M=D?-1:Math.min(w,w*g,k,k*g),$=C?1:Math.max(_,_*g,x,x*g),O=S?1:Math.max(w,w*g,k,k*g);u=($-T)/2,c=(O-M)/2,d=-($+T)/2,h=-(O+M)/2}for(i=0,r=p.length;i<r;++i)p[i]._options=a._resolveDataElementOptions(p[i],i);for(o.borderWidth=a.getMaxBorderWidth(),e=(s.right-s.left-o.borderWidth)/u,n=(s.bottom-s.top-o.borderWidth)/c,o.outerRadius=Math.max(Math.min(e,n)/2,0),o.innerRadius=Math.max(o.outerRadius*g,0),o.radiusLength=(o.outerRadius-o.innerRadius)/(a._getVisibleDatasetWeightTotal()||1),o.offsetX=d*o.outerRadius,o.offsetY=h*o.outerRadius,f.total=a.calculateTotal(),a.outerRadius=o.outerRadius-o.radiusLength*a._getRingWeightOffset(a.index),a.innerRadius=Math.max(a.outerRadius-o.radiusLength*v,0),i=0,r=p.length;i<r;++i)a.updateElement(p[i],i,t)},updateElement:function(t,e,n){var i=this.chart,r=i.chartArea,a=i.options,o=a.animation,s=(r.left+r.right)/2,l=(r.top+r.bottom)/2,u=a.rotation,c=a.rotation,d=this.getDataset(),h=n&&o.animateRotate?0:t.hidden?0:this.calculateCircumference(d.data[e])*(a.circumference/Ft),f=n&&o.animateScale?0:this.innerRadius,p=n&&o.animateScale?0:this.outerRadius,g=t._options||{};B.extend(t,{_datasetIndex:this.index,_index:e,_model:{backgroundColor:g.backgroundColor,borderColor:g.borderColor,borderWidth:g.borderWidth,borderAlign:g.borderAlign,x:s+i.offsetX,y:l+i.offsetY,startAngle:u,endAngle:c,circumference:h,outerRadius:p,innerRadius:f,label:B.valueAtIndexOrDefault(d.label,e,i.data.labels[e])}});var m=t._model;n&&o.animateRotate||(m.startAngle=0===e?a.rotation:this.getMeta().data[e-1]._model.endAngle,m.endAngle=m.startAngle+m.circumference),t.pivot()},calculateTotal:function(){var n,i=this.getDataset(),t=this.getMeta(),r=0;return B.each(t.data,function(t,e){n=i.data[e],isNaN(n)||t.hidden||(r+=Math.abs(n))}),r},calculateCircumference:function(t){var e=this.getMeta().total;return 0<e&&!isNaN(t)?Ft*(Math.abs(t)/e):0},getMaxBorderWidth:function(t){var e,n,i,r,a,o,s,l,u=0,c=this.chart;if(!t)for(e=0,n=c.data.datasets.length;e<n;++e)if(c.isDatasetVisible(e)){t=(i=c.getDatasetMeta(e)).data,e!==this.index&&(a=i.controller);break}if(!t)return 0;for(e=0,n=t.length;e<n;++e)r=t[e],a?(a._configure(),o=a._resolveDataElementOptions(r,e)):o=r._options,"inner"!==o.borderAlign&&(u=(u=u<(s=o.borderWidth)?s:u)<(l=o.hoverBorderWidth)?l:u);return u},setHoverStyle:function(t){var e=t._model,n=t._options,i=B.getHoverColor;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth},e.backgroundColor=Rt(n.hoverBackgroundColor,i(n.backgroundColor)),e.borderColor=Rt(n.hoverBorderColor,i(n.borderColor)),e.borderWidth=Rt(n.hoverBorderWidth,n.borderWidth)},_getRingWeightOffset:function(t){for(var e=0,n=0;n<t;++n)this.chart.isDatasetVisible(n)&&(e+=this._getRingWeight(n));return e},_getRingWeight:function(t){return Math.max(Rt(this.chart.data.datasets[t].weight,1),0)},_getVisibleDatasetWeightTotal:function(){return this._getRingWeightOffset(this.chart.data.datasets.length)}});j._set("horizontalBar",{hover:{mode:"index",axis:"y"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{type:"category",position:"left",offset:!0,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{mode:"index",axis:"y"}}),j._set("global",{datasets:{horizontalBar:{categoryPercentage:.8,barPercentage:.9}}});var Nt=Ot.extend({_getValueScaleId:function(){return this.getMeta().xAxisID},_getIndexScaleId:function(){return this.getMeta().yAxisID}}),Vt=B.valueOrDefault,Ht=B.options.resolve,Bt=B.canvas._isPointInArea;function Yt(t,e){var n=t&&t.options.ticks||{},i=n.reverse,r=void 0===n.min?e:0,a=void 0===n.max?e:0;return{start:i?a:r,end:i?r:a}}j._set("line",{showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}});var Ut=it.extend({datasetElementType:xt.Line,dataElementType:xt.Point,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth","cubicInterpolationMode","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},update:function(t){var e,n,i=this,r=i.getMeta(),a=r.dataset,o=r.data||[],s=i.chart.options,l=i._config,u=i._showLine=Vt(l.showLine,s.showLines);for(i._xScale=i.getScaleForId(r.xAxisID),i._yScale=i.getScaleForId(r.yAxisID),u&&(void 0!==l.tension&&void 0===l.lineTension&&(l.lineTension=l.tension),a._scale=i._yScale,a._datasetIndex=i.index,a._children=o,a._model=i._resolveDatasetElementOptions(a),a.pivot()),e=0,n=o.length;e<n;++e)i.updateElement(o[e],e,t);for(u&&0!==a._model.tension&&i.updateBezierControlPoints(),e=0,n=o.length;e<n;++e)o[e].pivot()},updateElement:function(t,e,n){var i,r,a=this.getMeta(),o=t.custom||{},s=this.getDataset(),l=this.index,u=s.data[e],c=this._xScale,d=this._yScale,h=a.dataset._model,f=this._resolveDataElementOptions(t,e);i=c.getPixelForValue("object"==typeof u?u:NaN,e,l),r=n?d.getBasePixel():this.calculatePointY(u,e,l),t._xScale=c,t._yScale=d,t._options=f,t._datasetIndex=l,t._index=e,t._model={x:i,y:r,skip:o.skip||isNaN(i)||isNaN(r),radius:f.radius,pointStyle:f.pointStyle,rotation:f.rotation,backgroundColor:f.backgroundColor,borderColor:f.borderColor,borderWidth:f.borderWidth,tension:Vt(o.tension,h?h.tension:0),steppedLine:!!h&&h.steppedLine,hitRadius:f.hitRadius}},_resolveDatasetElementOptions:function(t){var e,n,i,r,a,o,s,l,u,c,d,h=this._config,f=t.custom||{},p=this.chart.options,g=p.elements.line,m=it.prototype._resolveDatasetElementOptions.apply(this,arguments);return m.spanGaps=Vt(h.spanGaps,p.spanGaps),m.tension=Vt(h.lineTension,g.tension),m.steppedLine=Ht([f.steppedLine,h.steppedLine,g.stepped]),m.clip=(e=Vt(h.clip,(o=this._xScale,s=this._yScale,l=m.borderWidth,c=Yt(o,u=l/2),{top:(d=Yt(s,u)).end,right:c.end,bottom:d.start,left:c.start})),B.isObject(e)?(n=e.top,i=e.right,r=e.bottom,a=e.left):n=i=r=a=e,{top:n,right:i,bottom:r,left:a}),m},calculatePointY:function(t,e,n){var i,r,a,o,s,l,u,c=this.chart,d=this._yScale,h=0,f=0;if(d.options.stacked){for(s=+d.getRightValue(t),u=(l=c._getSortedVisibleDatasetMetas()).length,i=0;i<u&&(a=l[i]).index!==n;++i)r=c.data.datasets[a.index],"line"===a.type&&a.yAxisID===d.id&&((o=+d.getRightValue(r.data[e]))<0?f+=o||0:h+=o||0);return s<0?d.getPixelForValue(f+s):d.getPixelForValue(h+s)}return d.getPixelForValue(t)},updateBezierControlPoints:function(){var t,e,n,i,r=this.chart,a=this.getMeta(),o=a.dataset._model,s=r.chartArea,l=a.data||[];function u(t,e,n){return Math.max(Math.min(t,n),e)}if(o.spanGaps&&(l=l.filter(function(t){return!t._model.skip})),"monotone"===o.cubicInterpolationMode)B.splineCurveMonotone(l);else for(t=0,e=l.length;t<e;++t)n=l[t]._model,i=B.splineCurve(B.previousItem(l,t)._model,n,B.nextItem(l,t)._model,o.tension),n.controlPointPreviousX=i.previous.x,n.controlPointPreviousY=i.previous.y,n.controlPointNextX=i.next.x,n.controlPointNextY=i.next.y;if(r.options.elements.line.capBezierPoints)for(t=0,e=l.length;t<e;++t)n=l[t]._model,Bt(n,s)&&(0<t&&Bt(l[t-1]._model,s)&&(n.controlPointPreviousX=u(n.controlPointPreviousX,s.left,s.right),n.controlPointPreviousY=u(n.controlPointPreviousY,s.top,s.bottom)),t<l.length-1&&Bt(l[t+1]._model,s)&&(n.controlPointNextX=u(n.controlPointNextX,s.left,s.right),n.controlPointNextY=u(n.controlPointNextY,s.top,s.bottom)))},draw:function(){var t,e=this.chart,n=this.getMeta(),i=n.data||[],r=e.chartArea,a=e.canvas,o=0,s=i.length;for(this._showLine&&(t=n.dataset._model.clip,B.canvas.clipArea(e.ctx,{left:!1===t.left?0:r.left-t.left,right:!1===t.right?a.width:r.right+t.right,top:!1===t.top?0:r.top-t.top,bottom:!1===t.bottom?a.height:r.bottom+t.bottom}),n.dataset.draw(),B.canvas.unclipArea(e.ctx));o<s;++o)i[o].draw(r)},setHoverStyle:function(t){var e=t._model,n=t._options,i=B.getHoverColor;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth,radius:e.radius},e.backgroundColor=Vt(n.hoverBackgroundColor,i(n.backgroundColor)),e.borderColor=Vt(n.hoverBorderColor,i(n.borderColor)),e.borderWidth=Vt(n.hoverBorderWidth,n.borderWidth),e.radius=Vt(n.hoverRadius,n.radius)}}),zt=B.options.resolve;j._set("polarArea",{scale:{type:"radialLinear",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,legendCallback:function(t){var e,n,i,r=document.createElement("ul"),a=t.data,o=a.datasets,s=a.labels;if(r.setAttribute("class",t.id+"-legend"),o.length)for(n=o[e=0].data.length;e<n;++e)(i=r.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=o[0].backgroundColor[e],s[e]&&i.appendChild(document.createTextNode(s[e]));return r.outerHTML},legend:{labels:{generateLabels:function(r){var a=r.data;return a.labels.length&&a.datasets.length?a.labels.map(function(t,e){var n=r.getDatasetMeta(0),i=n.controller.getStyle(e);return{text:t,fillStyle:i.backgroundColor,strokeStyle:i.borderColor,lineWidth:i.borderWidth,hidden:isNaN(a.datasets[0].data[e])||n.data[e].hidden,index:e}}):[]}},onClick:function(t,e){var n,i,r,a=e.index,o=this.chart;for(n=0,i=(o.data.datasets||[]).length;n<i;++n)(r=o.getDatasetMeta(n)).data[a].hidden=!r.data[a].hidden;o.update()}},tooltips:{callbacks:{title:function(){return""},label:function(t,e){return e.labels[t.index]+": "+t.yLabel}}}});var Wt=it.extend({dataElementType:xt.Arc,linkScales:B.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(t){var e,n,i,r=this,a=r.getDataset(),o=r.getMeta(),s=r.chart.options.startAngle||0,l=r._starts=[],u=r._angles=[],c=o.data;for(r._updateRadius(),o.count=r.countVisibleElements(),e=0,n=a.data.length;e<n;e++)l[e]=s,i=r._computeAngle(e),s+=u[e]=i;for(e=0,n=c.length;e<n;++e)c[e]._options=r._resolveDataElementOptions(c[e],e),r.updateElement(c[e],e,t)},_updateRadius:function(){var t=this.chart,e=t.chartArea,n=t.options,i=Math.min(e.right-e.left,e.bottom-e.top);t.outerRadius=Math.max(i/2,0),t.innerRadius=Math.max(n.cutoutPercentage?t.outerRadius/100*n.cutoutPercentage:1,0),t.radiusLength=(t.outerRadius-t.innerRadius)/t.getVisibleDatasetCount(),this.outerRadius=t.outerRadius-t.radiusLength*this.index,this.innerRadius=this.outerRadius-t.radiusLength},updateElement:function(t,e,n){var i=this.chart,r=this.getDataset(),a=i.options,o=a.animation,s=i.scale,l=i.data.labels,u=s.xCenter,c=s.yCenter,d=a.startAngle,h=t.hidden?0:s.getDistanceFromCenterForValue(r.data[e]),f=this._starts[e],p=f+(t.hidden?0:this._angles[e]),g=o.animateScale?0:s.getDistanceFromCenterForValue(r.data[e]),m=t._options||{};B.extend(t,{_datasetIndex:this.index,_index:e,_scale:s,_model:{backgroundColor:m.backgroundColor,borderColor:m.borderColor,borderWidth:m.borderWidth,borderAlign:m.borderAlign,x:u,y:c,innerRadius:0,outerRadius:n?g:h,startAngle:n&&o.animateRotate?d:f,endAngle:n&&o.animateRotate?d:p,label:B.valueAtIndexOrDefault(l,e,l[e])}}),t.pivot()},countVisibleElements:function(){var n=this.getDataset(),t=this.getMeta(),i=0;return B.each(t.data,function(t,e){isNaN(n.data[e])||t.hidden||i++}),i},setHoverStyle:function(t){var e=t._model,n=t._options,i=B.getHoverColor,r=B.valueOrDefault;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth},e.backgroundColor=r(n.hoverBackgroundColor,i(n.backgroundColor)),e.borderColor=r(n.hoverBorderColor,i(n.borderColor)),e.borderWidth=r(n.hoverBorderWidth,n.borderWidth)},_computeAngle:function(t){var e=this.getMeta().count,n=this.getDataset(),i=this.getMeta();if(isNaN(n.data[t])||i.data[t].hidden)return 0;var r={chart:this.chart,dataIndex:t,dataset:n,datasetIndex:this.index};return zt([this.chart.options.elements.arc.angle,2*Math.PI/e],r,t)}});j._set("pie",B.clone(j.doughnut)),j._set("pie",{cutoutPercentage:0});var qt=Lt,Gt=B.valueOrDefault;j._set("radar",{spanGaps:!1,scale:{type:"radialLinear"},elements:{line:{fill:"start",tension:0}}});var Zt=it.extend({datasetElementType:xt.Line,dataElementType:xt.Point,linkScales:B.noop,_datasetElementOptions:["backgroundColor","borderWidth","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(t){var e,n,i=this.getMeta(),r=i.dataset,a=i.data||[],o=this.chart.scale,s=this._config;for(void 0!==s.tension&&void 0===s.lineTension&&(s.lineTension=s.tension),r._scale=o,r._datasetIndex=this.index,r._children=a,r._loop=!0,r._model=this._resolveDatasetElementOptions(r),r.pivot(),e=0,n=a.length;e<n;++e)this.updateElement(a[e],e,t);for(this.updateBezierControlPoints(),e=0,n=a.length;e<n;++e)a[e].pivot()},updateElement:function(t,e,n){var i=t.custom||{},r=this.getDataset(),a=this.chart.scale,o=a.getPointPositionForValue(e,r.data[e]),s=this._resolveDataElementOptions(t,e),l=this.getMeta().dataset._model,u=n?a.xCenter:o.x,c=n?a.yCenter:o.y;t._scale=a,t._options=s,t._datasetIndex=this.index,t._index=e,t._model={x:u,y:c,skip:i.skip||isNaN(u)||isNaN(c),radius:s.radius,pointStyle:s.pointStyle,rotation:s.rotation,backgroundColor:s.backgroundColor,borderColor:s.borderColor,borderWidth:s.borderWidth,tension:Gt(i.tension,l?l.tension:0),hitRadius:s.hitRadius}},_resolveDatasetElementOptions:function(){var t=this._config,e=this.chart.options,n=it.prototype._resolveDatasetElementOptions.apply(this,arguments);return n.spanGaps=Gt(t.spanGaps,e.spanGaps),n.tension=Gt(t.lineTension,e.elements.line.tension),n},updateBezierControlPoints:function(){var t,e,n,i,r=this.getMeta(),a=this.chart.chartArea,o=r.data||[];function s(t,e,n){return Math.max(Math.min(t,n),e)}for(r.dataset._model.spanGaps&&(o=o.filter(function(t){return!t._model.skip})),t=0,e=o.length;t<e;++t)n=o[t]._model,i=B.splineCurve(B.previousItem(o,t,!0)._model,n,B.nextItem(o,t,!0)._model,n.tension),n.controlPointPreviousX=s(i.previous.x,a.left,a.right),n.controlPointPreviousY=s(i.previous.y,a.top,a.bottom),n.controlPointNextX=s(i.next.x,a.left,a.right),n.controlPointNextY=s(i.next.y,a.top,a.bottom)},setHoverStyle:function(t){var e=t._model,n=t._options,i=B.getHoverColor;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth,radius:e.radius},e.backgroundColor=Gt(n.hoverBackgroundColor,i(n.backgroundColor)),e.borderColor=Gt(n.hoverBorderColor,i(n.borderColor)),e.borderWidth=Gt(n.hoverBorderWidth,n.borderWidth),e.radius=Gt(n.hoverRadius,n.radius)}});j._set("scatter",{hover:{mode:"single"},scales:{xAxes:[{id:"x-axis-1",type:"linear",position:"bottom"}],yAxes:[{id:"y-axis-1",type:"linear",position:"left"}]},tooltips:{callbacks:{title:function(){return""},label:function(t){return"("+t.xLabel+", "+t.yLabel+")"}}}}),j._set("global",{datasets:{scatter:{showLine:!1}}});var Xt={bar:Ot,bubble:At,doughnut:Lt,horizontalBar:Nt,line:Ut,polarArea:Wt,pie:qt,radar:Zt,scatter:Ut};function Kt(t,e){return t.native?{x:t.x,y:t.y}:B.getRelativePosition(t,e)}function Qt(t,e){var n,i,r,a,o,s,l=t._getSortedVisibleDatasetMetas();for(i=0,a=l.length;i<a;++i)for(r=0,o=(n=l[i].data).length;r<o;++r)(s=n[r])._view.skip||e(s)}function Jt(t,e){var n=[];return Qt(t,function(t){t.inRange(e.x,e.y)&&n.push(t)}),n}function te(t,i,r,a){var o=Number.POSITIVE_INFINITY,s=[];return Qt(t,function(t){if(!r||t.inRange(i.x,i.y)){var e=t.getCenterPoint(),n=a(i,e);n<o?(s=[t],o=n):n===o&&s.push(t)}}),s}function ee(t){var r=-1!==t.indexOf("x"),a=-1!==t.indexOf("y");return function(t,e){var n=r?Math.abs(t.x-e.x):0,i=a?Math.abs(t.y-e.y):0;return Math.sqrt(Math.pow(n,2)+Math.pow(i,2))}}function ne(t,e,n){var i=Kt(e,t);n.axis=n.axis||"x";var r=ee(n.axis),a=n.intersect?Jt(t,i):te(t,i,!1,r),o=[];return a.length?(t._getSortedVisibleDatasetMetas().forEach(function(t){var e=t.data[a[0]._index];e&&!e._view.skip&&o.push(e)}),o):[]}var ie={modes:{single:function(t,e){var n=Kt(e,t),i=[];return Qt(t,function(t){if(t.inRange(n.x,n.y))return i.push(t),i}),i.slice(0,1)},label:ne,index:ne,dataset:function(t,e,n){var i=Kt(e,t);n.axis=n.axis||"xy";var r=ee(n.axis),a=n.intersect?Jt(t,i):te(t,i,!1,r);return 0<a.length&&(a=t.getDatasetMeta(a[0]._datasetIndex).data),a},"x-axis":function(t,e){return ne(t,e,{intersect:!1})},point:function(t,e){return Jt(t,Kt(e,t))},nearest:function(t,e,n){var i=Kt(e,t);n.axis=n.axis||"xy";var r=ee(n.axis);return te(t,i,n.intersect,r)},x:function(t,e,n){var i=Kt(e,t),r=[],a=!1;return Qt(t,function(t){t.inXRange(i.x)&&r.push(t),t.inRange(i.x,i.y)&&(a=!0)}),n.intersect&&!a&&(r=[]),r},y:function(t,e,n){var i=Kt(e,t),r=[],a=!1;return Qt(t,function(t){t.inYRange(i.y)&&r.push(t),t.inRange(i.x,i.y)&&(a=!0)}),n.intersect&&!a&&(r=[]),r}}},re=B.extend;function ae(t,e){return B.where(t,function(t){return t.pos===e})}function oe(t,r){return t.sort(function(t,e){var n=r?e:t,i=r?t:e;return n.weight===i.weight?n.index-i.index:n.weight-i.weight})}function se(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function le(t,e,n){var i,r,a=n.box,o=t.maxPadding;if(n.size&&(t[n.pos]-=n.size),n.size=n.horizontal?a.height:a.width,t[n.pos]+=n.size,a.getPadding){var s=a.getPadding();o.top=Math.max(o.top,s.top),o.left=Math.max(o.left,s.left),o.bottom=Math.max(o.bottom,s.bottom),o.right=Math.max(o.right,s.right)}if(i=e.outerWidth-se(o,t,"left","right"),r=e.outerHeight-se(o,t,"top","bottom"),i!==t.w||r!==t.h){t.w=i,t.h=r;var l=n.horizontal?[i,t.w]:[r,t.h];return!(l[0]===l[1]||isNaN(l[0])&&isNaN(l[1]))}}function ue(t,n){var i=n.maxPadding;function e(t){var e={left:0,top:0,right:0,bottom:0};return t.forEach(function(t){e[t]=Math.max(n[t],i[t])}),e}return e(t?["left","right"]:["top","bottom"])}function ce(t,e,n){var i,r,a,o,s,l,u=[];for(i=0,r=t.length;i<r;++i)(o=(a=t[i]).box).update(a.width||e.w,a.height||e.h,ue(a.horizontal,e)),le(e,n,a)&&(l=!0,u.length&&(s=!0)),o.fullWidth||u.push(a);return s&&ce(u,e,n)||l}function de(t,e,n){var i,r,a,o,s=n.padding,l=e.x,u=e.y;for(i=0,r=t.length;i<r;++i)o=(a=t[i]).box,a.horizontal?(o.left=o.fullWidth?s.left:e.left,o.right=o.fullWidth?n.outerWidth-s.right:e.left+e.w,o.top=u,o.bottom=u+o.height,o.width=o.right-o.left,u=o.bottom):(o.left=l,o.right=l+o.width,o.top=e.top,o.bottom=e.top+e.h,o.height=o.bottom-o.top,l=o.right);e.x=l,e.y=u}j._set("global",{layout:{padding:{top:0,right:0,bottom:0,left:0}}});var he,fe={defaults:{},addBox:function(t,e){t.boxes||(t.boxes=[]),e.fullWidth=e.fullWidth||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw:function(){e.draw.apply(e,arguments)}}]},t.boxes.push(e)},removeBox:function(t,e){var n=t.boxes?t.boxes.indexOf(e):-1;-1!==n&&t.boxes.splice(n,1)},configure:function(t,e,n){for(var i,r=["fullWidth","position","weight"],a=r.length,o=0;o<a;++o)i=r[o],n.hasOwnProperty(i)&&(e[i]=n[i])},update:function(n,t,e){if(n){var i,r,a,o,s,l,u=n.options.layout||{},c=B.options.toPadding(u.padding),d=t-c.width,h=e-c.height,f=(i=n.boxes,r=function(t){var e,n,i,r=[];for(e=0,n=(t||[]).length;e<n;++e)i=t[e],r.push({index:e,box:i,pos:i.position,horizontal:i.isHorizontal(),weight:i.weight});return r}(i),a=oe(ae(r,"left"),!0),o=oe(ae(r,"right")),s=oe(ae(r,"top"),!0),l=oe(ae(r,"bottom")),{leftAndTop:a.concat(s),rightAndBottom:o.concat(l),chartArea:ae(r,"chartArea"),vertical:a.concat(o),horizontal:s.concat(l)}),p=f.vertical,g=f.horizontal,m=Object.freeze({outerWidth:t,outerHeight:e,padding:c,availableWidth:d,vBoxMaxWidth:d/2/p.length,hBoxMaxHeight:h/2}),v=re({maxPadding:re({},c),w:d,h:h,x:c.left,y:c.top},c);!function(t,e){var n,i,r;for(n=0,i=t.length;n<i;++n)(r=t[n]).width=r.horizontal?r.box.fullWidth&&e.availableWidth:e.vBoxMaxWidth,r.height=r.horizontal&&e.hBoxMaxHeight}(p.concat(g),m),ce(p,v,m),ce(g,v,m)&&ce(p,v,m),function(n){var i=n.maxPadding;function t(t){var e=Math.max(i[t]-n[t],0);return n[t]+=e,e}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}(v),de(f.leftAndTop,v,m),v.x+=v.w,v.y+=v.h,de(f.rightAndBottom,v,m),n.chartArea={left:v.left,top:v.top,right:v.left+v.w,bottom:v.top+v.h},B.each(f.chartArea,function(t){var e=t.box;re(e,n.chartArea),e.update(v.w,v.h)})}}},pe=(he=Object.freeze({__proto__:null,default:"/*\n * DOM element rendering detection\n * https://davidwalsh.name/detect-node-insertion\n */\n@keyframes chartjs-render-animation {\n\tfrom { opacity: 0.99; }\n\tto { opacity: 1; }\n}\n\n.chartjs-render-monitor {\n\tanimation: chartjs-render-animation 0.001s;\n}\n\n/*\n * DOM element resizing detection\n * https://github.com/marcj/css-element-queries\n */\n.chartjs-size-monitor,\n.chartjs-size-monitor-expand,\n.chartjs-size-monitor-shrink {\n\tposition: absolute;\n\tdirection: ltr;\n\tleft: 0;\n\ttop: 0;\n\tright: 0;\n\tbottom: 0;\n\toverflow: hidden;\n\tpointer-events: none;\n\tvisibility: hidden;\n\tz-index: -1;\n}\n\n.chartjs-size-monitor-expand > div {\n\tposition: absolute;\n\twidth: 1000000px;\n\theight: 1000000px;\n\tleft: 0;\n\ttop: 0;\n}\n\n.chartjs-size-monitor-shrink > div {\n\tposition: absolute;\n\twidth: 200%;\n\theight: 200%;\n\tleft: 0;\n\ttop: 0;\n}\n"}))&&he.default||he,ge="$chartjs",me="chartjs-",ve=me+"size-monitor",ye=me+"render-monitor",be=me+"render-animation",_e=["animationstart","webkitAnimationStart"],we={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"};function xe(t,e){var n=B.getStyle(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?Number(i[1]):void 0}var ke=!!function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("e",null,e)}catch(t){}return t}()&&{passive:!0};function Ce(t,e,n){t.addEventListener(e,n,ke)}function Se(t,e,n){t.removeEventListener(e,n,ke)}function De(t,e,n,i,r){return{type:t,chart:e,native:r||null,x:void 0!==n?n:null,y:void 0!==i?i:null}}function Te(t){var e=document.createElement("div");return e.className=t||"",e}function Me(n,i,r){var t,e,a,o,s,l,u,c,d=n[ge]||(n[ge]={}),h=d.resizer=function(t){var e=Te(ve),n=Te(ve+"-expand"),i=Te(ve+"-shrink");n.appendChild(Te()),i.appendChild(Te()),e.appendChild(n),e.appendChild(i),e._reset=function(){n.scrollLeft=1e6,n.scrollTop=1e6,i.scrollLeft=1e6,i.scrollTop=1e6};var r=function(){e._reset(),t()};return Ce(n,"scroll",r.bind(n,"expand")),Ce(i,"scroll",r.bind(i,"shrink")),e}((a=!(t=function(){if(d.resizer){var t=r.options.maintainAspectRatio&&n.parentNode,e=t?t.clientWidth:0;i(De("resize",r)),t&&t.clientWidth<e&&r.canvas&&i(De("resize",r))}}),o=[],function(){o=Array.prototype.slice.call(arguments),e=e||this,a||(a=!0,B.requestAnimFrame.call(window,function(){a=!1,t.apply(e,o)}))}));l=function(){if(d.resizer){var t=n.parentNode;t&&t!==h.parentNode&&t.insertBefore(h,t.firstChild),h._reset()}},u=(s=n)[ge]||(s[ge]={}),c=u.renderProxy=function(t){t.animationName===be&&l()},B.each(_e,function(t){Ce(s,t,c)}),u.reflow=!!s.offsetParent,s.classList.add(ye)}function $e(t){var e,n,i,r=t[ge]||{},a=r.resizer;delete r.resizer,n=(e=t)[ge]||{},(i=n.renderProxy)&&(B.each(_e,function(t){Se(e,t,i)}),delete n.renderProxy),e.classList.remove(ye),a&&a.parentNode&&a.parentNode.removeChild(a)}var Oe={disableCSSInjection:!1,_enabled:"undefined"!=typeof window&&"undefined"!=typeof document,_ensureLoaded:function(t){if(!this.disableCSSInjection){var e=t.getRootNode?t.getRootNode():document;!function(t,e){var n=t[ge]||(t[ge]={});if(!n.containsStyles){n.containsStyles=!0,e="/* Chart.js */\n"+e;var i=document.createElement("style");i.setAttribute("type","text/css"),i.appendChild(document.createTextNode(e)),t.appendChild(i)}}(e.host?e:document.head,pe)}},acquireContext:function(t,e){"string"==typeof t?t=document.getElementById(t):t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas);var n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(this._ensureLoaded(t),function(t,e){var n=t.style,i=t.getAttribute("height"),r=t.getAttribute("width");if(t[ge]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",null===r||""===r){var a=xe(t,"width");void 0!==a&&(t.width=a)}if(null===i||""===i)if(""===t.style.height)t.height=t.width/(e.options.aspectRatio||2);else{var o=xe(t,"height");void 0!==a&&(t.height=o)}}(t,e),n):null},releaseContext:function(t){var n=t.canvas;if(n[ge]){var i=n[ge].initial;["height","width"].forEach(function(t){var e=i[t];B.isNullOrUndef(e)?n.removeAttribute(t):n.setAttribute(t,e)}),B.each(i.style||{},function(t,e){n.style[e]=t}),n.width=n.width,delete n[ge]}},addEventListener:function(a,t,o){var e=a.canvas;if("resize"!==t){var n=o[ge]||(o[ge]={});Ce(e,t,(n.proxies||(n.proxies={}))[a.id+"_"+t]=function(t){var e,n,i,r;o((n=a,i=we[(e=t).type]||e.type,r=B.getRelativePosition(e,n),De(i,n,r.x,r.y,e)))})}else Me(e,o,a)},removeEventListener:function(t,e,n){var i=t.canvas;if("resize"!==e){var r=((n[ge]||{}).proxies||{})[t.id+"_"+e];r&&Se(i,e,r)}else $e(i)}};B.addEvent=Ce,B.removeEvent=Se;var Ee=Oe._enabled?Oe:{acquireContext:function(t){return t&&t.canvas&&(t=t.canvas),t&&t.getContext("2d")||null}},Pe=B.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},Ee);j._set("global",{plugins:{}});var Ae={_plugins:[],_cacheId:0,register:function(t){var e=this._plugins;[].concat(t).forEach(function(t){-1===e.indexOf(t)&&e.push(t)}),this._cacheId++},unregister:function(t){var n=this._plugins;[].concat(t).forEach(function(t){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}),this._cacheId++},clear:function(){this._plugins=[],this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(t,e,n){var i,r,a,o,s,l=this.descriptors(t),u=l.length;for(i=0;i<u;++i)if("function"==typeof(s=(a=(r=l[i]).plugin)[e])&&((o=[t].concat(n||[])).push(r.options),!1===s.apply(a,o)))return!1;return!0},descriptors:function(t){var e=t.$plugins||(t.$plugins={});if(e.id===this._cacheId)return e.descriptors;var i=[],r=[],n=t&&t.config||{},a=n.options&&n.options.plugins||{};return this._plugins.concat(n.plugins||[]).forEach(function(t){if(-1===i.indexOf(t)){var e=t.id,n=a[e];!1!==n&&(!0===n&&(n=B.clone(j.global.plugins[e])),i.push(t),r.push({plugin:t,options:n||{}}))}}),e.descriptors=r,e.id=this._cacheId,r},_invalidate:function(t){delete t.$plugins}},Re={constructors:{},defaults:{},registerScaleType:function(t,e,n){this.constructors[t]=e,this.defaults[t]=B.clone(n)},getScaleConstructor:function(t){return this.constructors.hasOwnProperty(t)?this.constructors[t]:void 0},getScaleDefaults:function(t){return this.defaults.hasOwnProperty(t)?B.merge(Object.create(null),[j.scale,this.defaults[t]]):{}},updateScaleDefaults:function(t,e){this.defaults.hasOwnProperty(t)&&(this.defaults[t]=B.extend(this.defaults[t],e))},addScalesToLayout:function(e){B.each(e.scales,function(t){t.fullWidth=t.options.fullWidth,t.position=t.options.position,t.weight=t.options.weight,fe.addBox(e,t)})}},Ie=B.valueOrDefault,Fe=B.rtl.getRtlAdapter;j._set("global",{tooltips:{enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:B.noop,title:function(t,e){var n="",i=e.labels,r=i?i.length:0;if(0<t.length){var a=t[0];a.label?n=a.label:a.xLabel?n=a.xLabel:0<r&&a.index<r&&(n=i[a.index])}return n},afterTitle:B.noop,beforeBody:B.noop,beforeLabel:B.noop,label:function(t,e){var n=e.datasets[t.datasetIndex].label||"";return n&&(n+=": "),B.isNullOrUndef(t.value)?n+=t.yLabel:n+=t.value,n},labelColor:function(t,e){var n=e.getDatasetMeta(t.datasetIndex).data[t.index]._view;return{borderColor:n.borderColor,backgroundColor:n.backgroundColor}},labelTextColor:function(){return this._options.bodyFontColor},afterLabel:B.noop,afterBody:B.noop,beforeFooter:B.noop,footer:B.noop,afterFooter:B.noop}}});var je={average:function(t){if(!t.length)return!1;var e,n,i=0,r=0,a=0;for(e=0,n=t.length;e<n;++e){var o=t[e];if(o&&o.hasValue()){var s=o.tooltipPosition();i+=s.x,r+=s.y,++a}}return{x:i/a,y:r/a}},nearest:function(t,e){var n,i,r,a=e.x,o=e.y,s=Number.POSITIVE_INFINITY;for(n=0,i=t.length;n<i;++n){var l=t[n];if(l&&l.hasValue()){var u=l.getCenterPoint(),c=B.distanceBetweenPoints(e,u);c<s&&(s=c,r=l)}}if(r){var d=r.tooltipPosition();a=d.x,o=d.y}return{x:a,y:o}}};function Le(t,e){return e&&(B.isArray(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Ne(t){return("string"==typeof t||t instanceof String)&&-1<t.indexOf("\n")?t.split("\n"):t}function Ve(t){var e=j.global;return{xPadding:t.xPadding,yPadding:t.yPadding,xAlign:t.xAlign,yAlign:t.yAlign,rtl:t.rtl,textDirection:t.textDirection,bodyFontColor:t.bodyFontColor,_bodyFontFamily:Ie(t.bodyFontFamily,e.defaultFontFamily),_bodyFontStyle:Ie(t.bodyFontStyle,e.defaultFontStyle),_bodyAlign:t.bodyAlign,bodyFontSize:Ie(t.bodyFontSize,e.defaultFontSize),bodySpacing:t.bodySpacing,titleFontColor:t.titleFontColor,_titleFontFamily:Ie(t.titleFontFamily,e.defaultFontFamily),_titleFontStyle:Ie(t.titleFontStyle,e.defaultFontStyle),titleFontSize:Ie(t.titleFontSize,e.defaultFontSize),_titleAlign:t.titleAlign,titleSpacing:t.titleSpacing,titleMarginBottom:t.titleMarginBottom,footerFontColor:t.footerFontColor,_footerFontFamily:Ie(t.footerFontFamily,e.defaultFontFamily),_footerFontStyle:Ie(t.footerFontStyle,e.defaultFontStyle),footerFontSize:Ie(t.footerFontSize,e.defaultFontSize),_footerAlign:t.footerAlign,footerSpacing:t.footerSpacing,footerMarginTop:t.footerMarginTop,caretSize:t.caretSize,cornerRadius:t.cornerRadius,backgroundColor:t.backgroundColor,opacity:0,legendColorBackground:t.multiKeyBackground,displayColors:t.displayColors,borderColor:t.borderColor,borderWidth:t.borderWidth}}function He(t,e){return"center"===e?t.x+t.width/2:"right"===e?t.x+t.width-t.xPadding:t.x+t.xPadding}function Be(t){return Le([],Ne(t))}var Ye=Z.extend({initialize:function(){this._model=Ve(this._options),this._lastActive=[]},getTitle:function(){var t=this._options.callbacks,e=t.beforeTitle.apply(this,arguments),n=t.title.apply(this,arguments),i=t.afterTitle.apply(this,arguments),r=[];return r=Le(r=Le(r=Le(r,Ne(e)),Ne(n)),Ne(i))},getBeforeBody:function(){return Be(this._options.callbacks.beforeBody.apply(this,arguments))},getBody:function(t,n){var i=this,r=i._options.callbacks,a=[];return B.each(t,function(t){var e={before:[],lines:[],after:[]};Le(e.before,Ne(r.beforeLabel.call(i,t,n))),Le(e.lines,r.label.call(i,t,n)),Le(e.after,Ne(r.afterLabel.call(i,t,n))),a.push(e)}),a},getAfterBody:function(){return Be(this._options.callbacks.afterBody.apply(this,arguments))},getFooter:function(){var t=this._options.callbacks,e=t.beforeFooter.apply(this,arguments),n=t.footer.apply(this,arguments),i=t.afterFooter.apply(this,arguments),r=[];return r=Le(r=Le(r=Le(r,Ne(e)),Ne(n)),Ne(i))},update:function(t){var e,n,i,r,a,o,s,l,u,c,d,h,f,p,g,m,v,y,b,_,w,x,k,C=this,S=C._options,D=C._model,T=C._model=Ve(S),M=C._active,$=C._data,O={xAlign:D.xAlign,yAlign:D.yAlign},E={x:D.x,y:D.y},P={width:D.width,height:D.height},A={x:D.caretX,y:D.caretY};if(M.length){T.opacity=1;var R=[],I=[];A=je[S.position].call(C,M,C._eventPosition);var F=[];for(e=0,n=M.length;e<n;++e)F.push((m=M[e],k=x=w=y=v=void 0,v=m._xScale,y=m._yScale||m._scale,b=m._index,_=m._datasetIndex,w=m._chart.getDatasetMeta(_).controller,x=w._getIndexScale(),k=w._getValueScale(),{xLabel:v?v.getLabelForIndex(b,_):"",yLabel:y?y.getLabelForIndex(b,_):"",label:x?""+x.getLabelForIndex(b,_):"",value:k?""+k.getLabelForIndex(b,_):"",index:b,datasetIndex:_,x:m._model.x,y:m._model.y}));S.filter&&(F=F.filter(function(t){return S.filter(t,$)})),S.itemSort&&(F=F.sort(function(t,e){return S.itemSort(t,e,$)})),B.each(F,function(t){R.push(S.callbacks.labelColor.call(C,t,C._chart)),I.push(S.callbacks.labelTextColor.call(C,t,C._chart))}),T.title=C.getTitle(F,$),T.beforeBody=C.getBeforeBody(F,$),T.body=C.getBody(F,$),T.afterBody=C.getAfterBody(F,$),T.footer=C.getFooter(F,$),T.x=A.x,T.y=A.y,T.caretPadding=S.caretPadding,T.labelColors=R,T.labelTextColors=I,T.dataPoints=F,O=function(t,e){var n,i,r,a,o,s=t._model,l=t._chart,u=t._chart.chartArea,c="center",d="center";s.y<e.height?d="top":s.y>l.height-e.height&&(d="bottom");var h=(u.left+u.right)/2,f=(u.top+u.bottom)/2;"center"===d?(n=function(t){return t<=h},i=function(t){return h<t}):(n=function(t){return t<=e.width/2},i=function(t){return t>=l.width-e.width/2}),r=function(t){return t+e.width+s.caretSize+s.caretPadding>l.width},a=function(t){return t-e.width-s.caretSize-s.caretPadding<0},o=function(t){return t<=f?"top":"bottom"},n(s.x)?(c="left",r(s.x)&&(c="center",d=o(s.y))):i(s.x)&&(c="right",a(s.x)&&(c="center",d=o(s.y)));var p=t._options;return{xAlign:p.xAlign?p.xAlign:c,yAlign:p.yAlign?p.yAlign:d}}(this,P=function(t,e){var n=t._chart.ctx,i=2*e.yPadding,r=0,a=e.body,o=a.reduce(function(t,e){return t+e.before.length+e.lines.length+e.after.length},0);o+=e.beforeBody.length+e.afterBody.length;var s=e.title.length,l=e.footer.length,u=e.titleFontSize,c=e.bodyFontSize,d=e.footerFontSize;i+=s*u,i+=s?(s-1)*e.titleSpacing:0,i+=s?e.titleMarginBottom:0,i+=o*c,i+=o?(o-1)*e.bodySpacing:0,i+=l?e.footerMarginTop:0,i+=l*d,i+=l?(l-1)*e.footerSpacing:0;var h=0,f=function(t){r=Math.max(r,n.measureText(t).width+h)};return n.font=B.fontString(u,e._titleFontStyle,e._titleFontFamily),B.each(e.title,f),n.font=B.fontString(c,e._bodyFontStyle,e._bodyFontFamily),B.each(e.beforeBody.concat(e.afterBody),f),h=e.displayColors?c+2:0,B.each(a,function(t){B.each(t.before,f),B.each(t.lines,f),B.each(t.after,f)}),h=0,n.font=B.fontString(d,e._footerFontStyle,e._footerFontFamily),B.each(e.footer,f),{width:r+=2*e.xPadding,height:i}}(this,T)),i=T,r=P,a=O,o=C._chart,s=i.x,l=i.y,u=i.caretSize,c=i.caretPadding,d=i.cornerRadius,h=a.xAlign,f=a.yAlign,p=u+c,g=d+c,"right"===h?s-=r.width:"center"===h&&((s-=r.width/2)+r.width>o.width&&(s=o.width-r.width),s<0&&(s=0)),"top"===f?l+=p:l-="bottom"===f?r.height+p:r.height/2,"center"===f?"left"===h?s+=p:"right"===h&&(s-=p):"left"===h?s-=g:"right"===h&&(s+=g),E={x:s,y:l}}else T.opacity=0;return T.xAlign=O.xAlign,T.yAlign=O.yAlign,T.x=E.x,T.y=E.y,T.width=P.width,T.height=P.height,T.caretX=A.x,T.caretY=A.y,C._model=T,t&&S.custom&&S.custom.call(C,T),C},drawCaret:function(t,e){var n=this._chart.ctx,i=this._view,r=this.getCaretPosition(t,e,i);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)},getCaretPosition:function(t,e,n){var i,r,a,o,s,l,u=n.caretSize,c=n.cornerRadius,d=n.xAlign,h=n.yAlign,f=t.x,p=t.y,g=e.width,m=e.height;if("center"===h)s=p+m/2,"left"===d?(r=(i=f)-u,a=i,o=s+u,l=s-u):(r=(i=f+g)+u,a=i,o=s-u,l=s+u);else if(i="left"===d?(r=f+c+u)-u:"right"===d?(r=f+g-c-u)-u:(r=n.caretX)-u,a=r+u,"top"===h)s=(o=p)-u,l=o;else{s=(o=p+m)+u,l=o;var v=a;a=i,i=v}return{x1:i,x2:r,x3:a,y1:o,y2:s,y3:l}},drawTitle:function(t,e,n){var i,r,a,o=e.title,s=o.length;if(s){var l=Fe(e.rtl,e.x,e.width);for(t.x=He(e,e._titleAlign),n.textAlign=l.textAlign(e._titleAlign),n.textBaseline="middle",i=e.titleFontSize,r=e.titleSpacing,n.fillStyle=e.titleFontColor,n.font=B.fontString(i,e._titleFontStyle,e._titleFontFamily),a=0;a<s;++a)n.fillText(o[a],l.x(t.x),t.y+i/2),t.y+=i+r,a+1===s&&(t.y+=e.titleMarginBottom-r)}},drawBody:function(e,t,n){var i,r,a,o,s,l,u,c,d=t.bodyFontSize,h=t.bodySpacing,f=t._bodyAlign,p=t.body,g=t.displayColors,m=0,v=g?He(t,"left"):0,y=Fe(t.rtl,t.x,t.width),b=function(t){n.fillText(t,y.x(e.x+m),e.y+d/2),e.y+=d+h},_=y.textAlign(f);for(n.textAlign=f,n.textBaseline="middle",n.font=B.fontString(d,t._bodyFontStyle,t._bodyFontFamily),e.x=He(t,_),n.fillStyle=t.bodyFontColor,B.each(t.beforeBody,b),m=g&&"right"!==_?"center"===f?d/2+1:d+2:0,s=0,u=p.length;s<u;++s){for(i=p[s],r=t.labelTextColors[s],a=t.labelColors[s],n.fillStyle=r,B.each(i.before,b),l=0,c=(o=i.lines).length;l<c;++l){if(g){var w=y.x(v);n.fillStyle=t.legendColorBackground,n.fillRect(y.leftForLtr(w,d),e.y,d,d),n.lineWidth=1,n.strokeStyle=a.borderColor,n.strokeRect(y.leftForLtr(w,d),e.y,d,d),n.fillStyle=a.backgroundColor,n.fillRect(y.leftForLtr(y.xPlus(w,1),d-2),e.y+1,d-2,d-2),n.fillStyle=r}b(o[l])}B.each(i.after,b)}m=0,B.each(t.afterBody,b),e.y-=h},drawFooter:function(t,e,n){var i,r,a=e.footer,o=a.length;if(o){var s=Fe(e.rtl,e.x,e.width);for(t.x=He(e,e._footerAlign),t.y+=e.footerMarginTop,n.textAlign=s.textAlign(e._footerAlign),n.textBaseline="middle",i=e.footerFontSize,n.fillStyle=e.footerFontColor,n.font=B.fontString(i,e._footerFontStyle,e._footerFontFamily),r=0;r<o;++r)n.fillText(a[r],s.x(t.x),t.y+i/2),t.y+=i+e.footerSpacing}},drawBackground:function(t,e,n,i){n.fillStyle=e.backgroundColor,n.strokeStyle=e.borderColor,n.lineWidth=e.borderWidth;var r=e.xAlign,a=e.yAlign,o=t.x,s=t.y,l=i.width,u=i.height,c=e.cornerRadius;n.beginPath(),n.moveTo(o+c,s),"top"===a&&this.drawCaret(t,i),n.lineTo(o+l-c,s),n.quadraticCurveTo(o+l,s,o+l,s+c),"center"===a&&"right"===r&&this.drawCaret(t,i),n.lineTo(o+l,s+u-c),n.quadraticCurveTo(o+l,s+u,o+l-c,s+u),"bottom"===a&&this.drawCaret(t,i),n.lineTo(o+c,s+u),n.quadraticCurveTo(o,s+u,o,s+u-c),"center"===a&&"left"===r&&this.drawCaret(t,i),n.lineTo(o,s+c),n.quadraticCurveTo(o,s,o+c,s),n.closePath(),n.fill(),0<e.borderWidth&&n.stroke()},draw:function(){var t=this._chart.ctx,e=this._view;if(0!==e.opacity){var n={width:e.width,height:e.height},i={x:e.x,y:e.y},r=Math.abs(e.opacity<.001)?0:e.opacity,a=e.title.length||e.beforeBody.length||e.body.length||e.afterBody.length||e.footer.length;this._options.enabled&&a&&(t.save(),t.globalAlpha=r,this.drawBackground(i,e,t,n),i.y+=e.yPadding,B.rtl.overrideTextDirection(t,e.textDirection),this.drawTitle(i,e,t),this.drawBody(i,e,t),this.drawFooter(i,e,t),B.rtl.restoreTextDirection(t,e.textDirection),t.restore())}},handleEvent:function(t){var e,n=this,i=n._options;return n._lastActive=n._lastActive||[],"mouseout"===t.type?n._active=[]:(n._active=n._chart.getElementsAtEventForMode(t,i.mode,i),i.reverse&&n._active.reverse()),(e=!B.arrayEquals(n._active,n._lastActive))&&(n._lastActive=n._active,(i.enabled||i.custom)&&(n._eventPosition={x:t.x,y:t.y},n.update(!0),n.pivot())),e}}),Ue=je,ze=Ye;ze.positioners=Ue;var We=B.valueOrDefault;function qe(){return B.merge(Object.create(null),[].slice.call(arguments),{merger:function(t,e,n,i){if("xAxes"===t||"yAxes"===t){var r,a,o,s=n[t].length;for(e[t]||(e[t]=[]),r=0;r<s;++r)o=n[t][r],a=We(o.type,"xAxes"===t?"category":"linear"),r>=e[t].length&&e[t].push({}),!e[t][r].type||o.type&&o.type!==e[t][r].type?B.merge(e[t][r],[Re.getScaleDefaults(a),o]):B.merge(e[t][r],o)}else B._merger(t,e,n,i)}})}function Ge(){return B.merge(Object.create(null),[].slice.call(arguments),{merger:function(t,e,n,i){var r=e[t]||Object.create(null),a=n[t];"scales"===t?e[t]=qe(r,a):"scale"===t?e[t]=B.merge(r,[Re.getScaleDefaults(a.type),a]):B._merger(t,e,n,i)}})}function Ze(t,e,n){for(var i,r=function(t){return t.id===i};i=e+n++,0<=B.findIndex(t,r););return i}function Xe(t){return"top"===t||"bottom"===t}function Ke(n,i){return function(t,e){return t[n]===e[n]?t[i]-e[i]:t[n]-e[n]}}j._set("global",{elements:{},events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,maintainAspectRatio:!0,responsive:!0,responsiveAnimationDuration:0});var Qe=function(t,e){return this.construct(t,e),this};B.extend(Qe.prototype,{construct:function(t,e){var n,i,r=this;(i=(n=(n=e)||Object.create(null)).data=n.data||{}).datasets=i.datasets||[],i.labels=i.labels||[],n.options=Ge(j.global,j[n.type],n.options||{}),e=n;var a=Pe.acquireContext(t,e),o=a&&a.canvas,s=o&&o.height,l=o&&o.width;r.id=B.uid(),r.ctx=a,r.canvas=o,r.config=e,r.width=l,r.height=s,r.aspectRatio=s?l/s:null,r.options=e.options,r._bufferedRender=!1,r._layers=[],(r.chart=r).controller=r,Qe.instances[r.id]=r,Object.defineProperty(r,"data",{get:function(){return r.config.data},set:function(t){r.config.data=t}}),a&&o&&(r.initialize(),r.update())},initialize:function(){return Ae.notify(this,"beforeInit"),B.retinaScale(this,this.options.devicePixelRatio),this.bindEvents(),this.options.responsive&&this.resize(!0),this.initToolTip(),Ae.notify(this,"afterInit"),this},clear:function(){return B.canvas.clear(this),this},stop:function(){return Q.cancelAnimation(this),this},resize:function(t){var e=this,n=e.options,i=e.canvas,r=n.maintainAspectRatio&&e.aspectRatio||null,a=Math.max(0,Math.floor(B.getMaximumWidth(i))),o=Math.max(0,Math.floor(r?a/r:B.getMaximumHeight(i)));if((e.width!==a||e.height!==o)&&(i.width=e.width=a,i.height=e.height=o,i.style.width=a+"px",i.style.height=o+"px",B.retinaScale(e,n.devicePixelRatio),!t)){var s={width:a,height:o};Ae.notify(e,"resize",[s]),n.onResize&&n.onResize(e,s),e.stop(),e.update({duration:n.responsiveAnimationDuration})}},ensureScalesHaveIDs:function(){var t=this.options,n=t.scales||{},e=t.scale;B.each(n.xAxes,function(t,e){t.id||(t.id=Ze(n.xAxes,"x-axis-",e))}),B.each(n.yAxes,function(t,e){t.id||(t.id=Ze(n.yAxes,"y-axis-",e))}),e&&(e.id=e.id||"scale")},buildOrUpdateScales:function(){var o=this,t=o.options,s=o.scales||{},e=[],l=Object.keys(s).reduce(function(t,e){return t[e]=!1,t},{});t.scales&&(e=e.concat((t.scales.xAxes||[]).map(function(t){return{options:t,dtype:"category",dposition:"bottom"}}),(t.scales.yAxes||[]).map(function(t){return{options:t,dtype:"linear",dposition:"left"}}))),t.scale&&e.push({options:t.scale,dtype:"radialLinear",isDefault:!0,dposition:"chartArea"}),B.each(e,function(t){var e=t.options,n=e.id,i=We(e.type,t.dtype);Xe(e.position)!==Xe(t.dposition)&&(e.position=t.dposition),l[n]=!0;var r=null;if(n in s&&s[n].type===i)(r=s[n]).options=e,r.ctx=o.ctx,r.chart=o;else{var a=Re.getScaleConstructor(i);if(!a)return;r=new a({id:n,type:i,options:e,ctx:o.ctx,chart:o}),s[r.id]=r}r.mergeTicksOptions(),t.isDefault&&(o.scale=r)}),B.each(l,function(t,e){t||delete s[e]}),o.scales=s,Re.addScalesToLayout(this)},buildOrUpdateControllers:function(){var t,e,n=[],i=this.data.datasets;for(t=0,e=i.length;t<e;t++){var r=i[t],a=this.getDatasetMeta(t),o=r.type||this.config.type;if(a.type&&a.type!==o&&(this.destroyDatasetMeta(t),a=this.getDatasetMeta(t)),a.type=o,a.order=r.order||0,a.index=t,a.controller)a.controller.updateIndex(t),a.controller.linkScales();else{var s=Xt[a.type];if(void 0===s)throw new Error('"'+a.type+'" is not a chart type.');a.controller=new s(this,t),n.push(a.controller)}}return n},resetElements:function(){var n=this;B.each(n.data.datasets,function(t,e){n.getDatasetMeta(e).controller.reset()},n)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(t){var e,n,i,r,a=this;if(t&&"object"==typeof t||(t={duration:t,lazy:arguments[1]}),r=(i=a).options,B.each(i.scales,function(t){fe.removeBox(i,t)}),r=Ge(j.global,j[i.config.type],r),i.options=i.config.options=r,i.ensureScalesHaveIDs(),i.buildOrUpdateScales(),i.tooltip._options=r.tooltips,i.tooltip.initialize(),Ae._invalidate(a),!1!==Ae.notify(a,"beforeUpdate")){a.tooltip._data=a.data;var o=a.buildOrUpdateControllers();for(e=0,n=a.data.datasets.length;e<n;e++)a.getDatasetMeta(e).controller.buildOrUpdateElements();a.updateLayout(),a.options.animation&&a.options.animation.duration&&B.each(o,function(t){t.reset()}),a.updateDatasets(),a.tooltip.initialize(),a.lastActive=[],Ae.notify(a,"afterUpdate"),a._layers.sort(Ke("z","_idx")),a._bufferedRender?a._bufferedRequest={duration:t.duration,easing:t.easing,lazy:t.lazy}:a.render(t)}},updateLayout:function(){var e=this;!1!==Ae.notify(e,"beforeLayout")&&(fe.update(this,this.width,this.height),e._layers=[],B.each(e.boxes,function(t){t._configure&&t._configure(),e._layers.push.apply(e._layers,t._layers())},e),e._layers.forEach(function(t,e){t._idx=e}),Ae.notify(e,"afterScaleUpdate"),Ae.notify(e,"afterLayout"))},updateDatasets:function(){if(!1!==Ae.notify(this,"beforeDatasetsUpdate")){for(var t=0,e=this.data.datasets.length;t<e;++t)this.updateDataset(t);Ae.notify(this,"afterDatasetsUpdate")}},updateDataset:function(t){var e=this.getDatasetMeta(t),n={meta:e,index:t};!1!==Ae.notify(this,"beforeDatasetUpdate",[n])&&(e.controller._update(),Ae.notify(this,"afterDatasetUpdate",[n]))},render:function(t){var e=this;t&&"object"==typeof t||(t={duration:t,lazy:arguments[1]});var n=e.options.animation,i=We(t.duration,n&&n.duration),r=t.lazy;if(!1!==Ae.notify(e,"beforeRender")){var a=function(t){Ae.notify(e,"afterRender"),B.callback(n&&n.onComplete,[t],e)};if(n&&i){var o=new K({numSteps:i/16.66,easing:t.easing||n.easing,render:function(t,e){var n=B.easing.effects[e.easing],i=e.currentStep,r=i/e.numSteps;t.draw(n(r),r,i)},onAnimationProgress:n.onProgress,onAnimationComplete:a});Q.addAnimation(e,o,i,r)}else e.draw(),a(new K({numSteps:0,chart:e}));return e}},draw:function(t){var e,n,i=this;if(i.clear(),B.isNullOrUndef(t)&&(t=1),i.transition(t),!(i.width<=0||i.height<=0)&&!1!==Ae.notify(i,"beforeDraw",[t])){for(n=i._layers,e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(i.chartArea);for(i.drawDatasets(t);e<n.length;++e)n[e].draw(i.chartArea);i._drawTooltip(t),Ae.notify(i,"afterDraw",[t])}},transition:function(t){for(var e=0,n=(this.data.datasets||[]).length;e<n;++e)this.isDatasetVisible(e)&&this.getDatasetMeta(e).controller.transition(t);this.tooltip.transition(t)},_getSortedDatasetMetas:function(t){var e,n,i=[];for(e=0,n=(this.data.datasets||[]).length;e<n;++e)t&&!this.isDatasetVisible(e)||i.push(this.getDatasetMeta(e));return i.sort(Ke("order","index")),i},_getSortedVisibleDatasetMetas:function(){return this._getSortedDatasetMetas(!0)},drawDatasets:function(t){var e,n;if(!1!==Ae.notify(this,"beforeDatasetsDraw",[t])){for(n=(e=this._getSortedVisibleDatasetMetas()).length-1;0<=n;--n)this.drawDataset(e[n],t);Ae.notify(this,"afterDatasetsDraw",[t])}},drawDataset:function(t,e){var n={meta:t,index:t.index,easingValue:e};!1!==Ae.notify(this,"beforeDatasetDraw",[n])&&(t.controller.draw(e),Ae.notify(this,"afterDatasetDraw",[n]))},_drawTooltip:function(t){var e=this.tooltip,n={tooltip:e,easingValue:t};!1!==Ae.notify(this,"beforeTooltipDraw",[n])&&(e.draw(),Ae.notify(this,"afterTooltipDraw",[n]))},getElementAtEvent:function(t){return ie.modes.single(this,t)},getElementsAtEvent:function(t){return ie.modes.label(this,t,{intersect:!0})},getElementsAtXAxis:function(t){return ie.modes["x-axis"](this,t,{intersect:!0})},getElementsAtEventForMode:function(t,e,n){var i=ie.modes[e];return"function"==typeof i?i(this,t,n):[]},getDatasetAtEvent:function(t){return ie.modes.dataset(this,t,{intersect:!0})},getDatasetMeta:function(t){var e=this.data.datasets[t];e._meta||(e._meta={});var n=e._meta[this.id];return n||(n=e._meta[this.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e.order||0,index:t}),n},getVisibleDatasetCount:function(){for(var t=0,e=0,n=this.data.datasets.length;e<n;++e)this.isDatasetVisible(e)&&t++;return t},isDatasetVisible:function(t){var e=this.getDatasetMeta(t);return"boolean"==typeof e.hidden?!e.hidden:!this.data.datasets[t].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroyDatasetMeta:function(t){var e=this.id,n=this.data.datasets[t],i=n._meta&&n._meta[e];i&&(i.controller.destroy(),delete n._meta[e])},destroy:function(){var t,e,n=this,i=n.canvas;for(n.stop(),t=0,e=n.data.datasets.length;t<e;++t)n.destroyDatasetMeta(t);i&&(n.unbindEvents(),B.canvas.clear(n),Pe.releaseContext(n.ctx),n.canvas=null,n.ctx=null),Ae.notify(n,"destroy"),delete Qe.instances[n.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){this.tooltip=new ze({_chart:this,_chartInstance:this,_data:this.data,_options:this.options.tooltips},this)},bindEvents:function(){var e=this,n=e._listeners={},i=function(){e.eventHandler.apply(e,arguments)};B.each(e.options.events,function(t){Pe.addEventListener(e,t,i),n[t]=i}),e.options.responsive&&(i=function(){e.resize()},Pe.addEventListener(e,"resize",i),n.resize=i)},unbindEvents:function(){var n=this,t=n._listeners;t&&(delete n._listeners,B.each(t,function(t,e){Pe.removeEventListener(n,e,t)}))},updateHoverStyle:function(t,e,n){var i,r,a,o=n?"set":"remove";for(r=0,a=t.length;r<a;++r)(i=t[r])&&this.getDatasetMeta(i._datasetIndex).controller[o+"HoverStyle"](i);"dataset"===e&&this.getDatasetMeta(t[0]._datasetIndex).controller["_"+o+"DatasetHoverStyle"]()},eventHandler:function(t){var e=this,n=e.tooltip;if(!1!==Ae.notify(e,"beforeEvent",[t])){e._bufferedRender=!0,e._bufferedRequest=null;var i=e.handleEvent(t);n&&(i=n._start?n.handleEvent(t):i|n.handleEvent(t)),Ae.notify(e,"afterEvent",[t]);var r=e._bufferedRequest;return r?e.render(r):i&&!e.animating&&(e.stop(),e.render({duration:e.options.hover.animationDuration,lazy:!0})),e._bufferedRender=!1,e._bufferedRequest=null,e}},handleEvent:function(t){var e,n=this,i=n.options||{},r=i.hover;return n.lastActive=n.lastActive||[],"mouseout"===t.type?n.active=[]:n.active=n.getElementsAtEventForMode(t,r.mode,r),B.callback(i.onHover||i.hover.onHover,[t.native,n.active],n),"mouseup"!==t.type&&"click"!==t.type||i.onClick&&i.onClick.call(n,t.native,n.active),n.lastActive.length&&n.updateHoverStyle(n.lastActive,r.mode,!1),n.active.length&&r.mode&&n.updateHoverStyle(n.active,r.mode,!0),e=!B.arrayEquals(n.active,n.lastActive),n.lastActive=n.active,e}}),Qe.instances={};var Je=Qe;(Qe.Controller=Qe).types={},B.configMerge=Ge,B.scaleMerge=qe;function tn(){throw new Error("This method is not implemented: either no adapter can be found or an incomplete integration was provided.")}function en(t){this.options=t||{}}B.extend(en.prototype,{formats:tn,parse:tn,format:tn,add:tn,diff:tn,startOf:tn,endOf:tn,_create:function(t){return t}}),en.override=function(t){B.extend(en.prototype,t)};var nn={_date:en},rn={formatters:{values:function(t){return B.isArray(t)?t:""+t},linear:function(t,e,n){var i=3<n.length?n[2]-n[1]:n[1]-n[0];1<Math.abs(i)&&t!==Math.floor(t)&&(i=t-Math.floor(t));var r=B.log10(Math.abs(i)),a="";if(0!==t)if(Math.max(Math.abs(n[0]),Math.abs(n[n.length-1]))<1e-4){var o=B.log10(Math.abs(t)),s=Math.floor(o)-Math.floor(r);s=Math.max(Math.min(s,20),0),a=t.toExponential(s)}else{var l=-1*Math.floor(r);l=Math.max(Math.min(l,20),0),a=t.toFixed(l)}else a="0";return a},logarithmic:function(t,e,n){var i=t/Math.pow(10,Math.floor(B.log10(t)));return 0===t?"0":1===i||2===i||5===i||0===e||e===n.length-1?t.toExponential():""}}},an=B.isArray,on=B.isNullOrUndef,sn=B.valueOrDefault,ln=B.valueAtIndexOrDefault;function un(t,e,n){var i,r=t.getTicks().length,a=Math.min(e,r-1),o=t.getPixelForTick(a),s=t._startPixel,l=t._endPixel;if(!(n&&(i=1===r?Math.max(o-s,l-o):0===e?(t.getPixelForTick(1)-o)/2:(o-t.getPixelForTick(a-1))/2,(o+=a<e?i:-i)<s-1e-6||l+1e-6<o)))return o}function cn(t,e,n,i){var r,a,o,s,l,u,c,d,h,f,p,g,m,v,y,b=n.length,_=[],w=[],x=[],k=0,C=0;for(r=0;r<b;++r){if(s=n[r].label,l=n[r].major?e.major:e.minor,t.font=u=l.string,c=i[u]=i[u]||{data:{},gc:[]},d=l.lineHeight,h=f=0,on(s)||an(s)){if(an(s))for(a=0,o=s.length;a<o;++a)p=s[a],on(p)||an(p)||(h=B.measureText(t,c.data,c.gc,h,p),f+=d)}else h=B.measureText(t,c.data,c.gc,h,s),f=d;_.push(h),w.push(f),x.push(d/2),k=Math.max(h,k),C=Math.max(f,C)}function S(t){return{width:_[t]||0,height:w[t]||0,offset:x[t]||0}}return v=i,y=b,B.each(v,function(t){var e,n=t.gc,i=n.length/2;if(y<i){for(e=0;e<i;++e)delete t.data[n[e]];n.splice(0,i)}}),g=_.indexOf(k),m=w.indexOf(C),{first:S(0),last:S(b-1),widest:S(g),highest:S(m)}}function dn(t){return t.drawTicks?t.tickMarkLength:0}function hn(t){var e,n;return t.display?(e=B.options._parseFont(t),n=B.options.toPadding(t.padding),e.lineHeight+n.height):0}function fn(t,e){return B.extend(B.options._parseFont({fontFamily:sn(e.fontFamily,t.fontFamily),fontSize:sn(e.fontSize,t.fontSize),fontStyle:sn(e.fontStyle,t.fontStyle),lineHeight:sn(e.lineHeight,t.lineHeight)}),{color:B.options.resolve([e.fontColor,t.fontColor,j.global.defaultFontColor])})}function pn(t){var e=fn(t,t.minor);return{minor:e,major:t.major.enabled?fn(t,t.major):e}}function gn(t){var e,n,i,r=[];for(n=0,i=t.length;n<i;++n)void 0!==(e=t[n])._index&&r.push(e);return r}function mn(t,e,n,i){var r,a,o,s,l=sn(n,0),u=Math.min(sn(i,t.length),t.length),c=0;for(e=Math.ceil(e),i&&(e=(r=i-n)/Math.floor(r/e)),s=l;s<0;)c++,s=Math.round(l+c*e);for(a=Math.max(l,0);a<u;a++)o=t[a],a===s?(o._index=a,c++,s=Math.round(l+c*e)):delete o.label}j._set("scale",{display:!0,position:"left",offset:!1,gridLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",padding:{top:4,bottom:4}},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:rn.formatters.values,minor:{},major:{}}});var vn=Z.extend({zeroLineIndex:0,getPadding:function(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}},getTicks:function(){return this._ticks},_getLabels:function(){var t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]},mergeTicksOptions:function(){},beforeUpdate:function(){B.callback(this.options.beforeUpdate,[this])},update:function(t,e,n){var i,r,a,o,s,l=this,u=l.options.ticks,c=u.sampleSize;if(l.beforeUpdate(),l.maxWidth=t,l.maxHeight=e,l.margins=B.extend({left:0,right:0,top:0,bottom:0},n),l._ticks=null,l.ticks=null,l._labelSizes=null,l._maxLabelLines=0,l.longestLabelWidth=0,l.longestTextCache=l.longestTextCache||{},l._gridLineItems=null,l._labelItems=null,l.beforeSetDimensions(),l.setDimensions(),l.afterSetDimensions(),l.beforeDataLimits(),l.determineDataLimits(),l.afterDataLimits(),l.beforeBuildTicks(),o=l.buildTicks()||[],(!(o=l.afterBuildTicks(o)||o)||!o.length)&&l.ticks)for(o=[],i=0,r=l.ticks.length;i<r;++i)o.push({value:l.ticks[i],major:!1});return s=c<(l._ticks=o).length,a=l._convertTicksToLabels(s?function(t,e){for(var n=[],i=t.length/e,r=0,a=t.length;r<a;r+=i)n.push(t[Math.floor(r)]);return n}(o,c):o),l._configure(),l.beforeCalculateTickRotation(),l.calculateTickRotation(),l.afterCalculateTickRotation(),l.beforeFit(),l.fit(),l.afterFit(),l._ticksToDraw=u.display&&(u.autoSkip||"auto"===u.source)?l._autoSkip(o):o,s&&(a=l._convertTicksToLabels(l._ticksToDraw)),l.ticks=a,l.afterUpdate(),l.minSize},_configure:function(){var t,e,n=this,i=n.options.ticks.reverse;n.isHorizontal()?(t=n.left,e=n.right):(t=n.top,e=n.bottom,i=!i),n._startPixel=t,n._endPixel=e,n._reversePixels=i,n._length=e-t},afterUpdate:function(){B.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){B.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0},afterSetDimensions:function(){B.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){B.callback(this.options.beforeDataLimits,[this])},determineDataLimits:B.noop,afterDataLimits:function(){B.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){B.callback(this.options.beforeBuildTicks,[this])},buildTicks:B.noop,afterBuildTicks:function(t){return an(t)&&t.length?B.callback(this.options.afterBuildTicks,[this,t]):(this.ticks=B.callback(this.options.afterBuildTicks,[this,this.ticks])||this.ticks,t)},beforeTickToLabelConversion:function(){B.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var t=this.options.ticks;this.ticks=this.ticks.map(t.userCallback||t.callback,this)},afterTickToLabelConversion:function(){B.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){B.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var t,e,n,i,r,a,o,s=this,l=s.options,u=l.ticks,c=s.getTicks().length,d=u.minRotation||0,h=u.maxRotation,f=d;!s._isVisible()||!u.display||h<=d||c<=1||!s.isHorizontal()?s.labelRotation=d:(e=(t=s._getLabelSizes()).widest.width,n=t.highest.height-t.highest.offset,i=Math.min(s.maxWidth,s.chart.width-e),(r=l.offset?s.maxWidth/c:i/(c-1))<e+6&&(r=i/(c-(l.offset?.5:1)),a=s.maxHeight-dn(l.gridLines)-u.padding-hn(l.scaleLabel),o=Math.sqrt(e*e+n*n),f=B.toDegrees(Math.min(Math.asin(Math.min((t.highest.height+6)/r,1)),Math.asin(Math.min(a/o,1))-Math.asin(n/o))),f=Math.max(d,Math.min(h,f))),s.labelRotation=f)},afterCalculateTickRotation:function(){B.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){B.callback(this.options.beforeFit,[this])},fit:function(){var t=this,e=t.minSize={width:0,height:0},n=t.chart,i=t.options,r=i.ticks,a=i.scaleLabel,o=i.gridLines,s=t._isVisible(),l="bottom"===i.position,u=t.isHorizontal();if(u?e.width=t.maxWidth:s&&(e.width=dn(o)+hn(a)),u?s&&(e.height=dn(o)+hn(a)):e.height=t.maxHeight,r.display&&s){var c=pn(r),d=t._getLabelSizes(),h=d.first,f=d.last,p=d.widest,g=d.highest,m=.4*c.minor.lineHeight,v=r.padding;if(u){var y=0!==t.labelRotation,b=B.toRadians(t.labelRotation),_=Math.cos(b),w=Math.sin(b),x=w*p.width+_*(g.height-(y?g.offset:0))+(y?0:m);e.height=Math.min(t.maxHeight,e.height+x+v);var k,C,S=t.getPixelForTick(0)-t.left,D=t.right-t.getPixelForTick(t.getTicks().length-1);y?(k=l?_*h.width+w*h.offset:w*(h.height-h.offset),C=l?w*(f.height-f.offset):_*f.width+w*f.offset):(k=h.width/2,C=f.width/2),t.paddingLeft=Math.max((k-S)*t.width/(t.width-S),0)+3,t.paddingRight=Math.max((C-D)*t.width/(t.width-D),0)+3}else{var T=r.mirror?0:p.width+v+m;e.width=Math.min(t.maxWidth,e.width+T),t.paddingTop=h.height/2,t.paddingBottom=f.height/2}}t.handleMargins(),u?(t.width=t._length=n.width-t.margins.left-t.margins.right,t.height=e.height):(t.width=e.width,t.height=t._length=n.height-t.margins.top-t.margins.bottom)},handleMargins:function(){var t=this;t.margins&&(t.margins.left=Math.max(t.paddingLeft,t.margins.left),t.margins.top=Math.max(t.paddingTop,t.margins.top),t.margins.right=Math.max(t.paddingRight,t.margins.right),t.margins.bottom=Math.max(t.paddingBottom,t.margins.bottom))},afterFit:function(){B.callback(this.options.afterFit,[this])},isHorizontal:function(){var t=this.options.position;return"top"===t||"bottom"===t},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(t){if(on(t))return NaN;if(("number"==typeof t||t instanceof Number)&&!isFinite(t))return NaN;if(t)if(this.isHorizontal()){if(void 0!==t.x)return this.getRightValue(t.x)}else if(void 0!==t.y)return this.getRightValue(t.y);return t},_convertTicksToLabels:function(t){var e,n,i;for(this.ticks=t.map(function(t){return t.value}),this.beforeTickToLabelConversion(),e=this.convertTicksToLabels(t)||this.ticks,this.afterTickToLabelConversion(),n=0,i=t.length;n<i;++n)t[n].label=e[n];return e},_getLabelSizes:function(){var t=this._labelSizes;return t||(this._labelSizes=t=cn(this.ctx,pn(this.options.ticks),this.getTicks(),this.longestTextCache),this.longestLabelWidth=t.widest.width),t},_parseValue:function(t){var e,n,i,r;return an(t)?(e=+this.getRightValue(t[0]),n=+this.getRightValue(t[1]),i=Math.min(e,n),r=Math.max(e,n)):(e=void 0,r=i=n=t=+this.getRightValue(t)),{min:i,max:r,start:e,end:n}},_getScaleLabel:function(t){var e=this._parseValue(t);return void 0!==e.start?"["+e.start+", "+e.end+"]":+this.getRightValue(t)},getLabelForIndex:B.noop,getPixelForValue:B.noop,getValueForPixel:B.noop,getPixelForTick:function(t){var e=this.options.offset,n=this._ticks.length,i=1/Math.max(n-(e?0:1),1);return t<0||n-1<t?null:this.getPixelForDecimal(t*i+(e?i/2:0))},getPixelForDecimal:function(t){return this._reversePixels&&(t=1-t),this._startPixel+t*this._length},getDecimalForPixel:function(t){var e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var t=this.min,e=this.max;return this.beginAtZero?0:t<0&&e<0?e:0<t&&0<e?t:0},_autoSkip:function(t){var e,n,i,r,a=this.options.ticks,o=this._length,s=a.maxTicksLimit||o/this._tickSize()+1,l=a.major.enabled?function(t){var e,n,i=[];for(e=0,n=t.length;e<n;e++)t[e].major&&i.push(e);return i}(t):[],u=l.length,c=l[0],d=l[u-1];if(s<u)return function(t,e,n){var i,r,a=0,o=e[0];for(n=Math.ceil(n),i=0;i<t.length;i++)r=t[i],i===o?(r._index=i,o=e[++a*n]):delete r.label}(t,l,u/s),gn(t);if(i=function(t,e,n,i){var r,a,o,s,l=function(t){var e,n,i=t.length;if(i<2)return!1;for(n=t[0],e=1;e<i;++e)if(t[e]-t[e-1]!==n)return!1;return n}(t),u=(e.length-1)/i;if(!l)return Math.max(u,1);for(o=0,s=(r=B.math._factorize(l)).length-1;o<s;o++)if(u<(a=r[o]))return a;return Math.max(u,1)}(l,t,0,s),0<u){for(e=0,n=u-1;e<n;e++)mn(t,i,l[e],l[e+1]);return r=1<u?(d-c)/(u-1):null,mn(t,i,B.isNullOrUndef(r)?0:c-r,c),mn(t,i,d,B.isNullOrUndef(r)?t.length:d+r),gn(t)}return mn(t,i),gn(t)},_tickSize:function(){var t=this.options.ticks,e=B.toRadians(this.labelRotation),n=Math.abs(Math.cos(e)),i=Math.abs(Math.sin(e)),r=this._getLabelSizes(),a=t.autoSkipPadding||0,o=r?r.widest.width+a:0,s=r?r.highest.height+a:0;return this.isHorizontal()?o*i<s*n?o/n:s/i:s*i<o*n?s/n:o/i},_isVisible:function(){var t,e,n,i=this.chart,r=this.options.display;if("auto"!==r)return!!r;for(t=0,e=i.data.datasets.length;t<e;++t)if(i.isDatasetVisible(t)&&((n=i.getDatasetMeta(t)).xAxisID===this.id||n.yAxisID===this.id))return!0;return!1},_computeGridLineItems:function(t){var e,n,i,r,a,o,s,l,u,c,d,h,f,p,g,m,v,y=this,b=y.chart,_=y.options,w=_.gridLines,x=_.position,k=w.offsetGridLines,C=y.isHorizontal(),S=y._ticksToDraw,D=S.length+(k?1:0),T=dn(w),M=[],$=w.drawBorder?ln(w.lineWidth,0,0):0,O=$/2,E=B._alignPixel,P=function(t){return E(b,t,$)};for("top"===x?(e=P(y.bottom),s=y.bottom-T,u=e-O,d=P(t.top)+O,f=t.bottom):"bottom"===x?(e=P(y.top),d=t.top,f=P(t.bottom)-O,s=e+O,u=y.top+T):"left"===x?(e=P(y.right),o=y.right-T,l=e-O,c=P(t.left)+O,h=t.right):(e=P(y.left),c=t.left,h=P(t.right)-O,o=e+O,l=y.left+T),n=0;n<D;++n)i=S[n]||{},on(i.label)&&n<S.length||(n===y.zeroLineIndex&&_.offset===k?(p=w.zeroLineWidth,g=w.zeroLineColor,m=w.zeroLineBorderDash||[],v=w.zeroLineBorderDashOffset||0):(p=ln(w.lineWidth,n,1),g=ln(w.color,n,"rgba(0,0,0,0.1)"),m=w.borderDash||[],v=w.borderDashOffset||0),void 0!==(r=un(y,i._index||n,k))&&(a=E(b,r,p),C?o=l=c=h=a:s=u=d=f=a,M.push({tx1:o,ty1:s,tx2:l,ty2:u,x1:c,y1:d,x2:h,y2:f,width:p,color:g,borderDash:m,borderDashOffset:v})));return M.ticksLength=D,M.borderValue=e,M},_computeLabelItems:function(){var t,e,n,i,r,a,o,s,l,u,c,d,h=this.options,f=h.ticks,p=h.position,g=f.mirror,m=this.isHorizontal(),v=this._ticksToDraw,y=pn(f),b=f.padding,_=dn(h.gridLines),w=-B.toRadians(this.labelRotation),x=[];for("top"===p?(a=this.bottom-_-b,o=w?"left":"center"):"bottom"===p?(a=this.top+_+b,o=w?"right":"center"):"left"===p?(r=this.right-(g?0:_)-b,o=g?"left":"right"):(r=this.left+(g?0:_)+b,o=g?"right":"left"),t=0,e=v.length;t<e;++t)i=(n=v[t]).label,on(i)||(s=this.getPixelForTick(n._index||t)+f.labelOffset,u=(l=n.major?y.major:y.minor).lineHeight,c=an(i)?i.length:1,m?(r=s,d="top"===p?((w?1:.5)-c)*u:(w?0:.5)*u):(a=s,d=(1-c)*u/2),x.push({x:r,y:a,rotation:w,label:i,font:l,textOffset:d,textAlign:o}));return x},_drawGrid:function(t){var e=this,n=e.options.gridLines;if(n.display){var i,r,a,o,s,l=e.ctx,u=e.chart,c=B._alignPixel,d=n.drawBorder?ln(n.lineWidth,0,0):0,h=e._gridLineItems||(e._gridLineItems=e._computeGridLineItems(t));for(a=0,o=h.length;a<o;++a)i=(s=h[a]).width,r=s.color,i&&r&&(l.save(),l.lineWidth=i,l.strokeStyle=r,l.setLineDash&&(l.setLineDash(s.borderDash),l.lineDashOffset=s.borderDashOffset),l.beginPath(),n.drawTicks&&(l.moveTo(s.tx1,s.ty1),l.lineTo(s.tx2,s.ty2)),n.drawOnChartArea&&(l.moveTo(s.x1,s.y1),l.lineTo(s.x2,s.y2)),l.stroke(),l.restore());if(d){var f,p,g,m,v=d,y=ln(n.lineWidth,h.ticksLength-1,1),b=h.borderValue;e.isHorizontal()?(f=c(u,e.left,v)-v/2,p=c(u,e.right,y)+y/2,g=m=b):(g=c(u,e.top,v)-v/2,m=c(u,e.bottom,y)+y/2,f=p=b),l.lineWidth=d,l.strokeStyle=ln(n.color,0),l.beginPath(),l.moveTo(f,g),l.lineTo(p,m),l.stroke()}}},_drawLabels:function(){if(this.options.ticks.display){var t,e,n,i,r,a,o,s,l=this.ctx,u=this._labelItems||(this._labelItems=this._computeLabelItems());for(t=0,n=u.length;t<n;++t){if(a=(r=u[t]).font,l.save(),l.translate(r.x,r.y),l.rotate(r.rotation),l.font=a.string,l.fillStyle=a.color,l.textBaseline="middle",l.textAlign=r.textAlign,o=r.label,s=r.textOffset,an(o))for(e=0,i=o.length;e<i;++e)l.fillText(""+o[e],0,s),s+=a.lineHeight;else l.fillText(o,0,s);l.restore()}}},_drawTitle:function(){var t=this,e=t.ctx,n=t.options,i=n.scaleLabel;if(i.display){var r,a,o=sn(i.fontColor,j.global.defaultFontColor),s=B.options._parseFont(i),l=B.options.toPadding(i.padding),u=s.lineHeight/2,c=n.position,d=0;if(t.isHorizontal())r=t.left+t.width/2,a="bottom"===c?t.bottom-u-l.bottom:t.top+u+l.top;else{var h="left"===c;r=h?t.left+u+l.top:t.right-u-l.top,a=t.top+t.height/2,d=h?-.5*Math.PI:.5*Math.PI}e.save(),e.translate(r,a),e.rotate(d),e.textAlign="center",e.textBaseline="middle",e.fillStyle=o,e.font=s.string,e.fillText(i.labelString,0,0),e.restore()}},draw:function(t){this._isVisible()&&(this._drawGrid(t),this._drawTitle(),this._drawLabels())},_layers:function(){var t=this,e=t.options,n=e.ticks&&e.ticks.z||0,i=e.gridLines&&e.gridLines.z||0;return t._isVisible()&&n!==i&&t.draw===t._draw?[{z:i,draw:function(){t._drawGrid.apply(t,arguments),t._drawTitle.apply(t,arguments)}},{z:n,draw:function(){t._drawLabels.apply(t,arguments)}}]:[{z:n,draw:function(){t.draw.apply(t,arguments)}}]},_getMatchingVisibleMetas:function(e){var n=this,i=n.isHorizontal();return n.chart._getSortedVisibleDatasetMetas().filter(function(t){return(!e||t.type===e)&&(i?t.xAxisID===n.id:t.yAxisID===n.id)})}});vn.prototype._draw=vn.prototype.draw;var yn=vn,bn=B.isNullOrUndef,_n=yn.extend({determineDataLimits:function(){var t,e=this._getLabels(),n=this.options.ticks,i=n.min,r=n.max,a=0,o=e.length-1;void 0!==i&&0<=(t=e.indexOf(i))&&(a=t),void 0!==r&&0<=(t=e.indexOf(r))&&(o=t),this.minIndex=a,this.maxIndex=o,this.min=e[a],this.max=e[o]},buildTicks:function(){var t=this._getLabels(),e=this.minIndex,n=this.maxIndex;this.ticks=0===e&&n===t.length-1?t:t.slice(e,n+1)},getLabelForIndex:function(t,e){var n=this.chart;return n.getDatasetMeta(e).controller._getValueScaleId()===this.id?this.getRightValue(n.data.datasets[e].data[t]):this._getLabels()[t]},_configure:function(){var t=this.options.offset,e=this.ticks;yn.prototype._configure.call(this),this.isHorizontal()||(this._reversePixels=!this._reversePixels),e&&(this._startValue=this.minIndex-(t?.5:0),this._valueRange=Math.max(e.length-(t?0:1),1))},getPixelForValue:function(t,e,n){var i,r,a;return bn(e)||bn(n)||(t=this.chart.data.datasets[n].data[e]),bn(t)||(i=this.isHorizontal()?t.x:t.y),(void 0!==i||void 0!==t&&isNaN(e))&&(r=this._getLabels(),t=B.valueOrDefault(i,t),e=-1!==(a=r.indexOf(t))?a:e,isNaN(e)&&(e=t)),this.getPixelForDecimal((e-this._startValue)/this._valueRange)},getPixelForTick:function(t){var e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t],t+this.minIndex)},getValueForPixel:function(t){var e=Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange);return Math.min(Math.max(e,0),this.ticks.length-1)},getBasePixel:function(){return this.bottom}}),wn={position:"bottom"};_n._defaults=wn;var xn=B.noop,kn=B.isNullOrUndef;var Cn=yn.extend({getRightValue:function(t){return"string"==typeof t?+t:yn.prototype.getRightValue.call(this,t)},handleTickRangeOptions:function(){var t=this,e=t.options.ticks;if(e.beginAtZero){var n=B.sign(t.min),i=B.sign(t.max);n<0&&i<0?t.max=0:0<n&&0<i&&(t.min=0)}var r=void 0!==e.min||void 0!==e.suggestedMin,a=void 0!==e.max||void 0!==e.suggestedMax;void 0!==e.min?t.min=e.min:void 0!==e.suggestedMin&&(null===t.min?t.min=e.suggestedMin:t.min=Math.min(t.min,e.suggestedMin)),void 0!==e.max?t.max=e.max:void 0!==e.suggestedMax&&(null===t.max?t.max=e.suggestedMax:t.max=Math.max(t.max,e.suggestedMax)),r!==a&&t.min>=t.max&&(r?t.max=t.min+1:t.min=t.max-1),t.min===t.max&&(t.max++,e.beginAtZero||t.min--)},getTickLimit:function(){var t,e=this.options.ticks,n=e.stepSize,i=e.maxTicksLimit;return n?t=Math.ceil(this.max/n)-Math.floor(this.min/n)+1:(t=this._computeTickLimit(),i=i||11),i&&(t=Math.min(i,t)),t},_computeTickLimit:function(){return Number.POSITIVE_INFINITY},handleDirectionalChanges:xn,buildTicks:function(){var t=this,e=t.options.ticks,n=t.getTickLimit(),i={maxTicks:n=Math.max(2,n),min:e.min,max:e.max,precision:e.precision,stepSize:B.valueOrDefault(e.fixedStepSize,e.stepSize)},r=t.ticks=function(t,e){var n,i,r,a,o=[],s=t.stepSize,l=s||1,u=t.maxTicks-1,c=t.min,d=t.max,h=t.precision,f=e.min,p=e.max,g=B.niceNum((p-f)/u/l)*l;if(g<1e-14&&kn(c)&&kn(d))return[f,p];u<(a=Math.ceil(p/g)-Math.floor(f/g))&&(g=B.niceNum(a*g/u/l)*l),s||kn(h)?n=Math.pow(10,B._decimalPlaces(g)):(n=Math.pow(10,h),g=Math.ceil(g*n)/n),i=Math.floor(f/g)*g,r=Math.ceil(p/g)*g,s&&(!kn(c)&&B.almostWhole(c/g,g/1e3)&&(i=c),!kn(d)&&B.almostWhole(d/g,g/1e3)&&(r=d)),a=(r-i)/g,a=B.almostEquals(a,Math.round(a),g/1e3)?Math.round(a):Math.ceil(a),i=Math.round(i*n)/n,r=Math.round(r*n)/n,o.push(kn(c)?i:c);for(var m=1;m<a;++m)o.push(Math.round((i+m*g)*n)/n);return o.push(kn(d)?r:d),o}(i,t);t.handleDirectionalChanges(),t.max=B.max(r),t.min=B.min(r),e.reverse?(r.reverse(),t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max)},convertTicksToLabels:function(){this.ticksAsNumbers=this.ticks.slice(),this.zeroLineIndex=this.ticks.indexOf(0),yn.prototype.convertTicksToLabels.call(this)},_configure:function(){var t,e=this.getTicks(),n=this.min,i=this.max;yn.prototype._configure.call(this),this.options.offset&&e.length&&(n-=t=(i-n)/Math.max(e.length-1,1)/2,i+=t),this._startValue=n,this._endValue=i,this._valueRange=i-n}}),Sn={position:"left",ticks:{callback:rn.formatters.linear}};function Dn(t,e,n,i){var r,a,o,s,l,u,c=t.options,d=c.stacked,h=(r=e,a=d,s=[(o=n).type,void 0===a&&void 0===o.stack?o.index:"",o.stack].join("."),void 0===r[s]&&(r[s]={pos:[],neg:[]}),r[s]),f=h.pos,p=h.neg,g=i.length;for(l=0;l<g;++l)u=t._parseValue(i[l]),isNaN(u.min)||isNaN(u.max)||n.data[l].hidden||(f[l]=f[l]||0,p[l]=p[l]||0,c.relativePoints?f[l]=100:u.min<0||u.max<0?p[l]+=u.min:f[l]+=u.max)}function Tn(t,e,n){var i,r,a=n.length;for(i=0;i<a;++i)r=t._parseValue(n[i]),isNaN(r.min)||isNaN(r.max)||e.data[i].hidden||(t.min=Math.min(t.min,r.min),t.max=Math.max(t.max,r.max))}var Mn=Cn.extend({determineDataLimits:function(){var t,e,n,i,r=this,a=r.options,o=r.chart.data.datasets,s=r._getMatchingVisibleMetas(),l=a.stacked,u={},c=s.length;if(r.min=Number.POSITIVE_INFINITY,r.max=Number.NEGATIVE_INFINITY,void 0===l)for(t=0;!l&&t<c;++t)l=void 0!==(e=s[t]).stack;for(t=0;t<c;++t)n=o[(e=s[t]).index].data,l?Dn(r,u,e,n):Tn(r,e,n);B.each(u,function(t){i=t.pos.concat(t.neg),r.min=Math.min(r.min,B.min(i)),r.max=Math.max(r.max,B.max(i))}),r.min=B.isFinite(r.min)&&!isNaN(r.min)?r.min:0,r.max=B.isFinite(r.max)&&!isNaN(r.max)?r.max:1,r.handleTickRangeOptions()},_computeTickLimit:function(){var t;return this.isHorizontal()?Math.ceil(this.width/40):(t=B.options._parseFont(this.options.ticks),Math.ceil(this.height/t.lineHeight))},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(t,e){return this._getScaleLabel(this.chart.data.datasets[e].data[t])},getPixelForValue:function(t){return this.getPixelForDecimal((+this.getRightValue(t)-this._startValue)/this._valueRange)},getValueForPixel:function(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange},getPixelForTick:function(t){var e=this.ticksAsNumbers;return t<0||t>e.length-1?null:this.getPixelForValue(e[t])}}),$n=Sn;Mn._defaults=$n;var On=B.valueOrDefault,En=B.math.log10;var Pn={position:"left",ticks:{callback:rn.formatters.logarithmic}};function An(t,e){return B.isFinite(t)&&0<=t?t:e}var Rn=yn.extend({determineDataLimits:function(){var t,e,n,i,r,a,o=this,s=o.options,l=o.chart,u=l.data.datasets,c=o.isHorizontal();function d(t){return c?t.xAxisID===o.id:t.yAxisID===o.id}o.min=Number.POSITIVE_INFINITY,o.max=Number.NEGATIVE_INFINITY,o.minNotZero=Number.POSITIVE_INFINITY;var h=s.stacked;if(void 0===h)for(t=0;t<u.length;t++)if(e=l.getDatasetMeta(t),l.isDatasetVisible(t)&&d(e)&&void 0!==e.stack){h=!0;break}if(s.stacked||h){var f={};for(t=0;t<u.length;t++){var p=[(e=l.getDatasetMeta(t)).type,void 0===s.stacked&&void 0===e.stack?t:"",e.stack].join(".");if(l.isDatasetVisible(t)&&d(e))for(void 0===f[p]&&(f[p]=[]),r=0,a=(i=u[t].data).length;r<a;r++){var g=f[p];n=o._parseValue(i[r]),isNaN(n.min)||isNaN(n.max)||e.data[r].hidden||n.min<0||n.max<0||(g[r]=g[r]||0,g[r]+=n.max)}}B.each(f,function(t){if(0<t.length){var e=B.min(t),n=B.max(t);o.min=Math.min(o.min,e),o.max=Math.max(o.max,n)}})}else for(t=0;t<u.length;t++)if(e=l.getDatasetMeta(t),l.isDatasetVisible(t)&&d(e))for(r=0,a=(i=u[t].data).length;r<a;r++)n=o._parseValue(i[r]),isNaN(n.min)||isNaN(n.max)||e.data[r].hidden||n.min<0||n.max<0||(o.min=Math.min(n.min,o.min),o.max=Math.max(n.max,o.max),0!==n.min&&(o.minNotZero=Math.min(n.min,o.minNotZero)));o.min=B.isFinite(o.min)?o.min:null,o.max=B.isFinite(o.max)?o.max:null,o.minNotZero=B.isFinite(o.minNotZero)?o.minNotZero:null,this.handleTickRangeOptions()},handleTickRangeOptions:function(){var t=this,e=t.options.ticks;t.min=An(e.min,t.min),t.max=An(e.max,t.max),t.min===t.max&&(0!==t.min&&null!==t.min?(t.min=Math.pow(10,Math.floor(En(t.min))-1),t.max=Math.pow(10,Math.floor(En(t.max))+1)):(t.min=1,t.max=10)),null===t.min&&(t.min=Math.pow(10,Math.floor(En(t.max))-1)),null===t.max&&(t.max=0!==t.min?Math.pow(10,Math.floor(En(t.min))+1):10),null===t.minNotZero&&(0<t.min?t.minNotZero=t.min:t.max<1?t.minNotZero=Math.pow(10,Math.floor(En(t.max))):t.minNotZero=1)},buildTicks:function(){var t=this,e=t.options.ticks,n=!t.isHorizontal(),i={min:An(e.min),max:An(e.max)},r=t.ticks=function(t,e){var n,i,r=[],a=On(t.min,Math.pow(10,Math.floor(En(e.min)))),o=Math.floor(En(e.max)),s=Math.ceil(e.max/Math.pow(10,o));0===a?(n=Math.floor(En(e.minNotZero)),i=Math.floor(e.minNotZero/Math.pow(10,n)),r.push(a),a=i*Math.pow(10,n)):(n=Math.floor(En(a)),i=Math.floor(a/Math.pow(10,n)));for(var l=n<0?Math.pow(10,Math.abs(n)):1;r.push(a),10==++i&&(i=1,l=0<=++n?1:l),a=Math.round(i*Math.pow(10,n)*l)/l,n<o||n===o&&i<s;);var u=On(t.max,a);return r.push(u),r}(i,t);t.max=B.max(r),t.min=B.min(r),e.reverse?(n=!n,t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max),n&&r.reverse()},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),yn.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(t,e){return this._getScaleLabel(this.chart.data.datasets[e].data[t])},getPixelForTick:function(t){var e=this.tickValues;return t<0||t>e.length-1?null:this.getPixelForValue(e[t])},_getFirstTickValue:function(t){var e=Math.floor(En(t));return Math.floor(t/Math.pow(10,e))*Math.pow(10,e)},_configure:function(){var t=this,e=t.min,n=0;yn.prototype._configure.call(t),0===e&&(e=t._getFirstTickValue(t.minNotZero),n=On(t.options.ticks.fontSize,j.global.defaultFontSize)/t._length),t._startValue=En(e),t._valueOffset=n,t._valueRange=(En(t.max)-En(e))/(1-n)},getPixelForValue:function(t){var e=0;return(t=+this.getRightValue(t))>this.min&&0<t&&(e=(En(t)-this._startValue)/this._valueRange+this._valueOffset),this.getPixelForDecimal(e)},getValueForPixel:function(t){var e=this.getDecimalForPixel(t);return 0===e&&0===this.min?0:Math.pow(10,this._startValue+(e-this._valueOffset)*this._valueRange)}}),In=Pn;Rn._defaults=In;var Fn=B.valueOrDefault,jn=B.valueAtIndexOrDefault,Ln=B.options.resolve,Nn={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,borderDash:[],borderDashOffset:0},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:rn.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(t){return t}}};function Vn(t){var e=t.ticks;return e.display&&t.display?Fn(e.fontSize,j.global.defaultFontSize)+2*e.backdropPaddingY:0}function Hn(t,e,n,i,r){return t===i||t===r?{start:e-n/2,end:e+n/2}:t<i||r<t?{start:e-n,end:e}:{start:e,end:e+n}}function Bn(t,e,n,i){var r,a,o=n.y+i/2;if(B.isArray(e))for(r=0,a=e.length;r<a;++r)t.fillText(e[r],n.x,o),o+=i;else t.fillText(e,n.x,o)}function Yn(t){return B.isNumber(t)?t:0}var Un=Cn.extend({setDimensions:function(){var t=this;t.width=t.maxWidth,t.height=t.maxHeight,t.paddingTop=Vn(t.options)/2,t.xCenter=Math.floor(t.width/2),t.yCenter=Math.floor((t.height-t.paddingTop)/2),t.drawingArea=Math.min(t.height-t.paddingTop,t.width)/2},determineDataLimits:function(){var r=this,n=r.chart,a=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY;B.each(n.data.datasets,function(t,e){if(n.isDatasetVisible(e)){var i=n.getDatasetMeta(e);B.each(t.data,function(t,e){var n=+r.getRightValue(t);isNaN(n)||i.data[e].hidden||(a=Math.min(n,a),o=Math.max(n,o))})}}),r.min=a===Number.POSITIVE_INFINITY?0:a,r.max=o===Number.NEGATIVE_INFINITY?0:o,r.handleTickRangeOptions()},_computeTickLimit:function(){return Math.ceil(this.drawingArea/Vn(this.options))},convertTicksToLabels:function(){var e=this;Cn.prototype.convertTicksToLabels.call(e),e.pointLabels=e.chart.data.labels.map(function(){var t=B.callback(e.options.pointLabels.callback,arguments,e);return t||0===t?t:""})},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},fit:function(){var t=this.options;t.display&&t.pointLabels.display?function(t){var e,n,i,r=B.options._parseFont(t.options.pointLabels),a={l:0,r:t.width,t:0,b:t.height-t.paddingTop},o={};t.ctx.font=r.string,t._pointLabelSizes=[];var s,l,u,c=t.chart.data.labels.length;for(e=0;e<c;e++){i=t.getPointPosition(e,t.drawingArea+5),s=t.ctx,l=r.lineHeight,u=t.pointLabels[e],n=B.isArray(u)?{w:B.longestText(s,s.font,u),h:u.length*l}:{w:s.measureText(u).width,h:l},t._pointLabelSizes[e]=n;var d=t.getIndexAngle(e),h=B.toDegrees(d)%360,f=Hn(h,i.x,n.w,0,180),p=Hn(h,i.y,n.h,90,270);f.start<a.l&&(a.l=f.start,o.l=d),f.end>a.r&&(a.r=f.end,o.r=d),p.start<a.t&&(a.t=p.start,o.t=d),p.end>a.b&&(a.b=p.end,o.b=d)}t.setReductions(t.drawingArea,a,o)}(this):this.setCenterPoint(0,0,0,0)},setReductions:function(t,e,n){var i=e.l/Math.sin(n.l),r=Math.max(e.r-this.width,0)/Math.sin(n.r),a=-e.t/Math.cos(n.t),o=-Math.max(e.b-(this.height-this.paddingTop),0)/Math.cos(n.b);i=Yn(i),r=Yn(r),a=Yn(a),o=Yn(o),this.drawingArea=Math.min(Math.floor(t-(i+r)/2),Math.floor(t-(a+o)/2)),this.setCenterPoint(i,r,a,o)},setCenterPoint:function(t,e,n,i){var r=this,a=r.width-e-r.drawingArea,o=t+r.drawingArea,s=n+r.drawingArea,l=r.height-r.paddingTop-i-r.drawingArea;r.xCenter=Math.floor((o+a)/2+r.left),r.yCenter=Math.floor((s+l)/2+r.top+r.paddingTop)},getIndexAngle:function(t){var e=this.chart,n=(t*(360/e.data.labels.length)+((e.options||{}).startAngle||0))%360;return(n<0?n+360:n)*Math.PI*2/360},getDistanceFromCenterForValue:function(t){if(B.isNullOrUndef(t))return NaN;var e=this.drawingArea/(this.max-this.min);return this.options.ticks.reverse?(this.max-t)*e:(t-this.min)*e},getPointPosition:function(t,e){var n=this.getIndexAngle(t)-Math.PI/2;return{x:Math.cos(n)*e+this.xCenter,y:Math.sin(n)*e+this.yCenter}},getPointPositionForValue:function(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))},getBasePosition:function(t){var e=this.min,n=this.max;return this.getPointPositionForValue(t||0,this.beginAtZero?0:e<0&&n<0?n:0<e&&0<n?e:0)},_drawGrid:function(){var t,n,e,i=this,r=i.ctx,a=i.options,o=a.gridLines,s=a.angleLines,l=Fn(s.lineWidth,o.lineWidth),u=Fn(s.color,o.color);if(a.pointLabels.display&&function(t){var e,n,i,r,a=t.ctx,o=t.options,s=o.pointLabels,l=Vn(o),u=t.getDistanceFromCenterForValue(o.ticks.reverse?t.min:t.max),c=B.options._parseFont(s);a.save(),a.font=c.string,a.textBaseline="middle";for(var d=t.chart.data.labels.length-1;0<=d;d--){var h=0===d?l/2:0,f=t.getPointPosition(d,u+h+5),p=jn(s.fontColor,d,j.global.defaultFontColor);a.fillStyle=p;var g=t.getIndexAngle(d),m=B.toDegrees(g);a.textAlign=0===(r=m)||180===r?"center":r<180?"left":"right",e=m,n=t._pointLabelSizes[d],i=f,90===e||270===e?i.y-=n.h/2:(270<e||e<90)&&(i.y-=n.h),Bn(a,t.pointLabels[d],f,c.lineHeight)}a.restore()}(i),o.display&&B.each(i.ticks,function(t,e){0!==e&&(n=i.getDistanceFromCenterForValue(i.ticksAsNumbers[e]),function(t,e,n,i){var r,a=t.ctx,o=e.circular,s=t.chart.data.labels.length,l=jn(e.color,i-1),u=jn(e.lineWidth,i-1);if((o||s)&&l&&u){if(a.save(),a.strokeStyle=l,a.lineWidth=u,a.setLineDash&&(a.setLineDash(e.borderDash||[]),a.lineDashOffset=e.borderDashOffset||0),a.beginPath(),o)a.arc(t.xCenter,t.yCenter,n,0,2*Math.PI);else{r=t.getPointPosition(0,n),a.moveTo(r.x,r.y);for(var c=1;c<s;c++)r=t.getPointPosition(c,n),a.lineTo(r.x,r.y)}a.closePath(),a.stroke(),a.restore()}}(i,o,n,e))}),s.display&&l&&u){for(r.save(),r.lineWidth=l,r.strokeStyle=u,r.setLineDash&&(r.setLineDash(Ln([s.borderDash,o.borderDash,[]])),r.lineDashOffset=Ln([s.borderDashOffset,o.borderDashOffset,0])),t=i.chart.data.labels.length-1;0<=t;t--)n=i.getDistanceFromCenterForValue(a.ticks.reverse?i.min:i.max),e=i.getPointPosition(t,n),r.beginPath(),r.moveTo(i.xCenter,i.yCenter),r.lineTo(e.x,e.y),r.stroke();r.restore()}},_drawLabels:function(){var n=this,i=n.ctx,r=n.options.ticks;if(r.display){var a,o,t=n.getIndexAngle(0),s=B.options._parseFont(r),l=Fn(r.fontColor,j.global.defaultFontColor);i.save(),i.font=s.string,i.translate(n.xCenter,n.yCenter),i.rotate(t),i.textAlign="center",i.textBaseline="middle",B.each(n.ticks,function(t,e){(0!==e||r.reverse)&&(a=n.getDistanceFromCenterForValue(n.ticksAsNumbers[e]),r.showLabelBackdrop&&(o=i.measureText(t).width,i.fillStyle=r.backdropColor,i.fillRect(-o/2-r.backdropPaddingX,-a-s.size/2-r.backdropPaddingY,o+2*r.backdropPaddingX,s.size+2*r.backdropPaddingY)),i.fillStyle=l,i.fillText(t,0,-a))}),i.restore()}},_drawTitle:B.noop}),zn=Nn;Un._defaults=zn;var Wn=B._deprecated,qn=B.options.resolve,Gn=B.valueOrDefault,Zn=Number.MIN_SAFE_INTEGER||-9007199254740991,Xn=Number.MAX_SAFE_INTEGER||9007199254740991,Kn={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Qn=Object.keys(Kn);function ti(t,e){return t-e}function ei(t){return B.valueOrDefault(t.time.min,t.ticks.min)}function ni(t){return B.valueOrDefault(t.time.max,t.ticks.max)}function ii(t,e,n,i){var r=function(t,e,n){for(var i,r,a,o=0,s=t.length-1;0<=o&&o<=s;){if(r=t[(i=o+s>>1)-1]||null,a=t[i],!r)return{lo:null,hi:a};if(a[e]<n)o=i+1;else{if(!(r[e]>n))return{lo:r,hi:a};s=i-1}}return{lo:a,hi:null}}(t,e,n),a=r.lo?r.hi?r.lo:t[t.length-2]:t[0],o=r.lo?r.hi?r.hi:t[t.length-1]:t[1],s=o[e]-a[e],l=s?(n-a[e])/s:0,u=(o[i]-a[i])*l;return a[i]+u}function ri(t,e){var n=t._adapter,i=t.options.time,r=i.parser,a=r||i.format,o=e;return"function"==typeof r&&(o=r(o)),B.isFinite(o)||(o="string"==typeof a?n.parse(o,a):n.parse(o)),null!==o?+o:(r||"function"!=typeof a||(o=a(e),B.isFinite(o)||(o=n.parse(o))),o)}function ai(t,e){if(B.isNullOrUndef(e))return null;var n=t.options.time,i=ri(t,t.getRightValue(e));return null===i||n.round&&(i=+t._adapter.startOf(i,n.round)),i}function oi(t,e,n,i){var r,a,o,s=Qn.length;for(r=Qn.indexOf(t);r<s-1;++r)if(o=(a=Kn[Qn[r]]).steps?a.steps:Xn,a.common&&Math.ceil((n-e)/(o*a.size))<=i)return Qn[r];return Qn[s-1]}function si(t,e,n){var i,r,a=[],o={},s=e.length;for(i=0;i<s;++i)o[r=e[i]]=i,a.push({value:r,major:!1});return 0!==s&&n?function(t,e,n,i){var r,a,o=t._adapter,s=+o.startOf(e[0].value,i),l=e[e.length-1].value;for(r=s;r<=l;r=+o.add(r,1,i))0<=(a=n[r])&&(e[a].major=!0);return e}(t,a,o,n):a}var li=yn.extend({initialize:function(){this.mergeTicksOptions(),yn.prototype.initialize.call(this)},update:function(){var t=this.options,e=t.time||(t.time={}),n=this._adapter=new nn._date(t.adapters.date);return Wn("time scale",e.format,"time.format","time.parser"),Wn("time scale",e.min,"time.min","ticks.min"),Wn("time scale",e.max,"time.max","ticks.max"),B.mergeIf(e.displayFormats,n.formats()),yn.prototype.update.apply(this,arguments)},getRightValue:function(t){return t&&void 0!==t.t&&(t=t.t),yn.prototype.getRightValue.call(this,t)},determineDataLimits:function(){var t,e,n,i,r,a,o,s=this,l=s.chart,u=s._adapter,c=s.options,d=c.time.unit||"day",h=Xn,f=Zn,p=[],g=[],m=[],v=s._getLabels();for(t=0,n=v.length;t<n;++t)m.push(ai(s,v[t]));for(t=0,n=(l.data.datasets||[]).length;t<n;++t)if(l.isDatasetVisible(t))if(r=l.data.datasets[t].data,B.isObject(r[0]))for(g[t]=[],e=0,i=r.length;e<i;++e)a=ai(s,r[e]),p.push(a),g[t][e]=a;else g[t]=m.slice(0),o||(p=p.concat(m),o=!0);else g[t]=[];m.length&&(h=Math.min(h,m[0]),f=Math.max(f,m[m.length-1])),p.length&&(p=1<n?function(t){var e,n,i,r={},a=[];for(e=0,n=t.length;e<n;++e)r[i=t[e]]||(r[i]=!0,a.push(i));return a}(p).sort(ti):p.sort(ti),h=Math.min(h,p[0]),f=Math.max(f,p[p.length-1])),h=ai(s,ei(c))||h,f=ai(s,ni(c))||f,h=h===Xn?+u.startOf(Date.now(),d):h,f=f===Zn?+u.endOf(Date.now(),d)+1:f,s.min=Math.min(h,f),s.max=Math.max(h+1,f),s._table=[],s._timestamps={data:p,datasets:g,labels:m}},buildTicks:function(){var t,e,n,i,r,a,o,s,l,u=this,c=u.min,d=u.max,h=u.options,f=h.ticks,p=h.time,g=u._timestamps,m=[],v=u.getLabelCapacity(c),y=f.source,b=h.distribution;for(g="data"===y||"auto"===y&&"series"===b?g.data:"labels"===y?g.labels:function(t,e,n,i){var r,a=t._adapter,o=t.options,s=o.time,l=s.unit||oi(s.minUnit,e,n,i),u=qn([s.stepSize,s.unitStepSize,1]),c="week"===l&&s.isoWeekday,d=e,h=[];if(c&&(d=+a.startOf(d,"isoWeek",c)),d=+a.startOf(d,c?"day":l),a.diff(n,e,l)>1e5*u)throw e+" and "+n+" are too far apart with stepSize of "+u+" "+l;for(r=d;r<n;r=+a.add(r,u,l))h.push(r);return r!==n&&"ticks"!==o.bounds||h.push(r),h}(u,c,d,v),"ticks"===h.bounds&&g.length&&(c=g[0],d=g[g.length-1]),c=ai(u,ei(h))||c,d=ai(u,ni(h))||d,t=0,e=g.length;t<e;++t)c<=(n=g[t])&&n<=d&&m.push(n);return u.min=c,u.max=d,u._unit=p.unit||(f.autoSkip?oi(p.minUnit,u.min,u.max,v):function(t,e,n,i,r){var a,o;for(a=Qn.length-1;a>=Qn.indexOf(n);a--)if(o=Qn[a],Kn[o].common&&t._adapter.diff(r,i,o)>=e-1)return o;return Qn[n?Qn.indexOf(n):0]}(u,m.length,p.minUnit,u.min,u.max)),u._majorUnit=f.major.enabled&&"year"!==u._unit?function(t){for(var e=Qn.indexOf(t)+1,n=Qn.length;e<n;++e)if(Kn[Qn[e]].common)return Qn[e]}(u._unit):void 0,u._table=function(t,e,n,i){if("linear"===i||!t.length)return[{time:e,pos:0},{time:n,pos:1}];var r,a,o,s,l,u=[],c=[e];for(r=0,a=t.length;r<a;++r)e<(s=t[r])&&s<n&&c.push(s);for(c.push(n),r=0,a=c.length;r<a;++r)l=c[r+1],o=c[r-1],s=c[r],void 0!==o&&void 0!==l&&Math.round((l+o)/2)===s||u.push({time:s,pos:r/(a-1)});return u}(u._timestamps.data,c,d,b),u._offsets=(i=u._table,r=m,l=s=0,h.offset&&r.length&&(a=ii(i,"time",r[0],"pos"),s=1===r.length?1-a:(ii(i,"time",r[1],"pos")-a)/2,o=ii(i,"time",r[r.length-1],"pos"),l=1===r.length?o:(o-ii(i,"time",r[r.length-2],"pos"))/2),{start:s,end:l,factor:1/(s+1+l)}),f.reverse&&m.reverse(),si(u,m,u._majorUnit)},getLabelForIndex:function(t,e){var n=this._adapter,i=this.chart.data,r=this.options.time,a=i.labels&&t<i.labels.length?i.labels[t]:"",o=i.datasets[e].data[t];return B.isObject(o)&&(a=this.getRightValue(o)),r.tooltipFormat?n.format(ri(this,a),r.tooltipFormat):"string"==typeof a?a:n.format(ri(this,a),r.displayFormats.datetime)},tickFormatFunction:function(t,e,n,i){var r=this._adapter,a=this.options,o=a.time.displayFormats,s=o[this._unit],l=this._majorUnit,u=o[l],c=n[e],d=a.ticks,h=l&&u&&c&&c.major,f=r.format(t,i||(h?u:s)),p=h?d.major:d.minor,g=qn([p.callback,p.userCallback,d.callback,d.userCallback]);return g?g(f,e,n):f},convertTicksToLabels:function(t){var e,n,i=[];for(e=0,n=t.length;e<n;++e)i.push(this.tickFormatFunction(t[e].value,e,t));return i},getPixelForOffset:function(t){var e=this._offsets,n=ii(this._table,"time",t,"pos");return this.getPixelForDecimal((e.start+n)*e.factor)},getPixelForValue:function(t,e,n){var i=null;if(void 0!==e&&void 0!==n&&(i=this._timestamps.datasets[n][e]),null===i&&(i=ai(this,t)),null!==i)return this.getPixelForOffset(i)},getPixelForTick:function(t){var e=this.getTicks();return 0<=t&&t<e.length?this.getPixelForOffset(e[t].value):null},getValueForPixel:function(t){var e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end,i=ii(this._table,"pos",n,"time");return this._adapter._create(i)},_getLabelSize:function(t){var e=this.options.ticks,n=this.ctx.measureText(t).width,i=B.toRadians(this.isHorizontal()?e.maxRotation:e.minRotation),r=Math.cos(i),a=Math.sin(i),o=Gn(e.fontSize,j.global.defaultFontSize);return{w:n*r+o*a,h:n*a+o*r}},getLabelWidth:function(t){return this._getLabelSize(t).w},getLabelCapacity:function(t){var e=this.options.time,n=e.displayFormats,i=n[e.unit]||n.millisecond,r=this.tickFormatFunction(t,0,si(this,[t],this._majorUnit),i),a=this._getLabelSize(r),o=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h);return this.options.offset&&o--,0<o?o:1}}),ui={position:"bottom",distribution:"linear",bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{autoSkip:!1,source:"auto",major:{enabled:!1}}};li._defaults=ui;var ci={category:_n,linear:Mn,logarithmic:Rn,radialLinear:Un,time:li},di=t(function(Qn,t){Qn.exports=function(){var t,r;function m(){return t.apply(null,arguments)}function s(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function l(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function a(t){return void 0===t}function c(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function o(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function u(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}function v(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function d(t,e){for(var n in e)v(e,n)&&(t[n]=e[n]);return v(e,"toString")&&(t.toString=e.toString),v(e,"valueOf")&&(t.valueOf=e.valueOf),t}function h(t,e,n,i){return Te(t,e,n,i,!0).utc()}function y(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),t._pf}function f(t){if(null==t._isValid){var e=y(t),n=r.call(e.parsedDateParts,function(t){return null!=t}),i=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(i=i&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return i;t._isValid=i}return t._isValid}function p(t){var e=h(NaN);return null!=t?d(y(e),t):y(e).userInvalidated=!0,e}r=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),n=e.length>>>0,i=0;i<n;i++)if(i in e&&t.call(this,e[i],i,e))return!0;return!1};var g=m.momentProperties=[];function b(t,e){var n,i,r;if(a(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),a(e._i)||(t._i=e._i),a(e._f)||(t._f=e._f),a(e._l)||(t._l=e._l),a(e._strict)||(t._strict=e._strict),a(e._tzm)||(t._tzm=e._tzm),a(e._isUTC)||(t._isUTC=e._isUTC),a(e._offset)||(t._offset=e._offset),a(e._pf)||(t._pf=y(e)),a(e._locale)||(t._locale=e._locale),0<g.length)for(n=0;n<g.length;n++)i=g[n],a(r=e[i])||(t[i]=r);return t}var e=!1;function _(t){b(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===e&&(e=!0,m.updateOffset(this),e=!1)}function w(t){return t instanceof _||null!=t&&null!=t._isAMomentObject}function x(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function k(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=x(e)),n}function C(t,e,n){var i,r=Math.min(t.length,e.length),a=Math.abs(t.length-e.length),o=0;for(i=0;i<r;i++)(n&&t[i]!==e[i]||!n&&k(t[i])!==k(e[i]))&&o++;return o+a}function S(t){!1===m.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn}function n(r,a){var o=!0;return d(function(){if(null!=m.deprecationHandler&&m.deprecationHandler(null,r),o){for(var t,e=[],n=0;n<arguments.length;n++){if(t="","object"==typeof arguments[n]){for(var i in t+="\n["+n+"] ",arguments[0])t+=i+": "+arguments[0][i]+", ";t=t.slice(0,-2)}else t=arguments[n];e.push(t)}S((Array.prototype.slice.call(e).join(""),(new Error).stack)),o=!1}return a.apply(this,arguments)},a)}var i,D={};function T(t,e){null!=m.deprecationHandler&&m.deprecationHandler(t,e),D[t]||(S(),D[t]=!0)}function M(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function $(t,e){var n,i=d({},t);for(n in e)v(e,n)&&(l(t[n])&&l(e[n])?(i[n]={},d(i[n],t[n]),d(i[n],e[n])):null!=e[n]?i[n]=e[n]:delete i[n]);for(n in t)v(t,n)&&!v(e,n)&&l(t[n])&&(i[n]=d({},i[n]));return i}function O(t){null!=t&&this.set(t)}m.suppressDeprecationWarnings=!1,m.deprecationHandler=null,i=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)v(t,e)&&n.push(e);return n};var E={};function P(t,e){var n=t.toLowerCase();E[n]=E[n+"s"]=E[e]=t}function A(t){return"string"==typeof t?E[t]||E[t.toLowerCase()]:void 0}function R(t){var e,n,i={};for(n in t)v(t,n)&&(e=A(n))&&(i[e]=t[n]);return i}var I={};function F(t,e){I[t]=e}function j(t,e,n){var i=""+Math.abs(t),r=e-i.length,a=0<=t;return(a?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}var L=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,N=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,V={},H={};function B(t,e,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),t&&(H[t]=r),e&&(H[e[0]]=function(){return j(r.apply(this,arguments),e[1],e[2])}),n&&(H[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)})}function Y(t,e){return t.isValid()?(e=U(e,t.localeData()),V[e]=V[e]||function(i){var t,r,e,a=i.match(L);for(t=0,r=a.length;t<r;t++)H[a[t]]?a[t]=H[a[t]]:a[t]=(e=a[t]).match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"");return function(t){var e,n="";for(e=0;e<r;e++)n+=M(a[e])?a[e].call(t,i):a[e];return n}}(e),V[e](t)):t.localeData().invalidDate()}function U(t,e){var n=5;function i(t){return e.longDateFormat(t)||t}for(N.lastIndex=0;0<=n&&N.test(t);)t=t.replace(N,i),N.lastIndex=0,n-=1;return t}var z=/\d/,W=/\d\d/,q=/\d{3}/,G=/\d{4}/,Z=/[+-]?\d{6}/,X=/\d\d?/,K=/\d\d\d\d?/,Q=/\d\d\d\d\d\d?/,J=/\d{1,3}/,tt=/\d{1,4}/,et=/[+-]?\d{1,6}/,nt=/\d+/,it=/[+-]?\d+/,rt=/Z|[+-]\d\d:?\d\d/gi,at=/Z|[+-]\d\d(?::?\d\d)?/gi,ot=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,st={};function lt(t,n,i){st[t]=M(n)?n:function(t,e){return t&&i?i:n}}function ut(t,e){return v(st,t)?st[t](e._strict,e._locale):new RegExp(ct(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,r){return e||n||i||r})))}function ct(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var dt={};function ht(t,n){var e,i=n;for("string"==typeof t&&(t=[t]),c(n)&&(i=function(t,e){e[n]=k(t)}),e=0;e<t.length;e++)dt[t[e]]=i}function ft(t,r){ht(t,function(t,e,n,i){n._w=n._w||{},r(t,n._w,n,i)})}var pt=0,gt=1,mt=2,vt=3,yt=4,bt=5,_t=6,wt=7,xt=8;function kt(t){return Ct(t)?366:365}function Ct(t){return t%4==0&&t%100!=0||t%400==0}B("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),B(0,["YY",2],0,function(){return this.year()%100}),B(0,["YYYY",4],0,"year"),B(0,["YYYYY",5],0,"year"),B(0,["YYYYYY",6,!0],0,"year"),P("year","y"),F("year",1),lt("Y",it),lt("YY",X,W),lt("YYYY",tt,G),lt("YYYYY",et,Z),lt("YYYYYY",et,Z),ht(["YYYYY","YYYYYY"],pt),ht("YYYY",function(t,e){e[pt]=2===t.length?m.parseTwoDigitYear(t):k(t)}),ht("YY",function(t,e){e[pt]=m.parseTwoDigitYear(t)}),ht("Y",function(t,e){e[pt]=parseInt(t,10)}),m.parseTwoDigitYear=function(t){return k(t)+(68<k(t)?1900:2e3)};var St,Dt=Tt("FullYear",!0);function Tt(e,n){return function(t){return null!=t?($t(this,e,t),m.updateOffset(this,n),this):Mt(this,e)}}function Mt(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function $t(t,e,n){t.isValid()&&!isNaN(n)&&("FullYear"===e&&Ct(t.year())&&1===t.month()&&29===t.date()?t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),Ot(n,t.month())):t._d["set"+(t._isUTC?"UTC":"")+e](n))}function Ot(t,e){if(isNaN(t)||isNaN(e))return NaN;var n,i=(e%(n=12)+n)%n;return t+=(e-i)/12,1===i?Ct(t)?29:28:31-i%7%2}St=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},B("M",["MM",2],"Mo",function(){return this.month()+1}),B("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),B("MMMM",0,0,function(t){return this.localeData().months(this,t)}),P("month","M"),F("month",8),lt("M",X),lt("MM",X,W),lt("MMM",function(t,e){return e.monthsShortRegex(t)}),lt("MMMM",function(t,e){return e.monthsRegex(t)}),ht(["M","MM"],function(t,e){e[gt]=k(t)-1}),ht(["MMM","MMMM"],function(t,e,n,i){var r=n._locale.monthsParse(t,i,n._strict);null!=r?e[gt]=r:y(n).invalidMonth=t});var Et=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Pt="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),At="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function Rt(t,e){var n;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=k(e);else if(!c(e=t.localeData().monthsParse(e)))return t;return n=Math.min(t.date(),Ot(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function It(t){return null!=t?(Rt(this,t),m.updateOffset(this,!0),this):Mt(this,"Month")}var Ft=ot,jt=ot;function Lt(){function t(t,e){return e.length-t.length}var e,n,i=[],r=[],a=[];for(e=0;e<12;e++)n=h([2e3,e]),i.push(this.monthsShort(n,"")),r.push(this.months(n,"")),a.push(this.months(n,"")),a.push(this.monthsShort(n,""));for(i.sort(t),r.sort(t),a.sort(t),e=0;e<12;e++)i[e]=ct(i[e]),r[e]=ct(r[e]);for(e=0;e<24;e++)a[e]=ct(a[e]);this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function Nt(t){var e;if(t<100&&0<=t){var n=Array.prototype.slice.call(arguments);n[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)}else e=new Date(Date.UTC.apply(null,arguments));return e}function Vt(t,e,n){var i=7+e-n,r=(7+Nt(t,0,i).getUTCDay()-e)%7;return-r+i-1}function Ht(t,e,n,i,r){var a,o,s=(7+n-i)%7,l=Vt(t,i,r),u=1+7*(e-1)+s+l;return u<=0?o=kt(a=t-1)+u:u>kt(t)?(a=t+1,o=u-kt(t)):(a=t,o=u),{year:a,dayOfYear:o}}function Bt(t,e,n){var i,r,a=Vt(t.year(),e,n),o=Math.floor((t.dayOfYear()-a-1)/7)+1;return o<1?(r=t.year()-1,i=o+Yt(r,e,n)):o>Yt(t.year(),e,n)?(i=o-Yt(t.year(),e,n),r=t.year()+1):(r=t.year(),i=o),{week:i,year:r}}function Yt(t,e,n){var i=Vt(t,e,n),r=Vt(t+1,e,n);return(kt(t)-i+r)/7}function Ut(t,e){return t.slice(e,7).concat(t.slice(0,e))}B("w",["ww",2],"wo","week"),B("W",["WW",2],"Wo","isoWeek"),P("week","w"),P("isoWeek","W"),F("week",5),F("isoWeek",5),lt("w",X),lt("ww",X,W),lt("W",X),lt("WW",X,W),ft(["w","ww","W","WW"],function(t,e,n,i){e[i.substr(0,1)]=k(t)}),B("d",0,"do","day"),B("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),B("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),B("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),B("e",0,0,"weekday"),B("E",0,0,"isoWeekday"),P("day","d"),P("weekday","e"),P("isoWeekday","E"),F("day",11),F("weekday",11),F("isoWeekday",11),lt("d",X),lt("e",X),lt("E",X),lt("dd",function(t,e){return e.weekdaysMinRegex(t)}),lt("ddd",function(t,e){return e.weekdaysShortRegex(t)}),lt("dddd",function(t,e){return e.weekdaysRegex(t)}),ft(["dd","ddd","dddd"],function(t,e,n,i){var r=n._locale.weekdaysParse(t,i,n._strict);null!=r?e.d=r:y(n).invalidWeekday=t}),ft(["d","e","E"],function(t,e,n,i){e[i]=k(t)});var zt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Wt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),qt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Gt=ot,Zt=ot,Xt=ot;function Kt(){function t(t,e){return e.length-t.length}var e,n,i,r,a,o=[],s=[],l=[],u=[];for(e=0;e<7;e++)n=h([2e3,1]).day(e),i=this.weekdaysMin(n,""),r=this.weekdaysShort(n,""),a=this.weekdays(n,""),o.push(i),s.push(r),l.push(a),u.push(i),u.push(r),u.push(a);for(o.sort(t),s.sort(t),l.sort(t),u.sort(t),e=0;e<7;e++)s[e]=ct(s[e]),l[e]=ct(l[e]),u[e]=ct(u[e]);this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function Qt(){return this.hours()%12||12}function Jt(t,e){B(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function te(t,e){return e._meridiemParse}B("H",["HH",2],0,"hour"),B("h",["hh",2],0,Qt),B("k",["kk",2],0,function(){return this.hours()||24}),B("hmm",0,0,function(){return""+Qt.apply(this)+j(this.minutes(),2)}),B("hmmss",0,0,function(){return""+Qt.apply(this)+j(this.minutes(),2)+j(this.seconds(),2)}),B("Hmm",0,0,function(){return""+this.hours()+j(this.minutes(),2)}),B("Hmmss",0,0,function(){return""+this.hours()+j(this.minutes(),2)+j(this.seconds(),2)}),Jt("a",!0),Jt("A",!1),P("hour","h"),F("hour",13),lt("a",te),lt("A",te),lt("H",X),lt("h",X),lt("k",X),lt("HH",X,W),lt("hh",X,W),lt("kk",X,W),lt("hmm",K),lt("hmmss",Q),lt("Hmm",K),lt("Hmmss",Q),ht(["H","HH"],vt),ht(["k","kk"],function(t,e,n){var i=k(t);e[vt]=24===i?0:i}),ht(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),ht(["h","hh"],function(t,e,n){e[vt]=k(t),y(n).bigHour=!0}),ht("hmm",function(t,e,n){var i=t.length-2;e[vt]=k(t.substr(0,i)),e[yt]=k(t.substr(i)),y(n).bigHour=!0}),ht("hmmss",function(t,e,n){var i=t.length-4,r=t.length-2;e[vt]=k(t.substr(0,i)),e[yt]=k(t.substr(i,2)),e[bt]=k(t.substr(r)),y(n).bigHour=!0}),ht("Hmm",function(t,e,n){var i=t.length-2;e[vt]=k(t.substr(0,i)),e[yt]=k(t.substr(i))}),ht("Hmmss",function(t,e,n){var i=t.length-4,r=t.length-2;e[vt]=k(t.substr(0,i)),e[yt]=k(t.substr(i,2)),e[bt]=k(t.substr(r))});var ee,ne=Tt("Hours",!0),ie={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Pt,monthsShort:At,week:{dow:0,doy:6},weekdays:zt,weekdaysMin:qt,weekdaysShort:Wt,meridiemParse:/[ap]\.?m?\.?/i},re={},ae={};function oe(t){return t?t.toLowerCase().replace("_","-"):t}function se(t){var e=null;if(!re[t]&&Qn&&Qn.exports)try{e=ee._abbr;var n=Jn;n("./locale/"+t),le(e)}catch(t){}return re[t]}function le(t,e){var n;return t&&((n=a(e)?ce(t):ue(t,e))?ee=n:"undefined"!=typeof console&&console.warn),ee._abbr}function ue(t,e){if(null!==e){var n,i=ie;if(e.abbr=t,null!=re[t])T("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=re[t]._config;else if(null!=e.parentLocale)if(null!=re[e.parentLocale])i=re[e.parentLocale]._config;else{if(null==(n=se(e.parentLocale)))return ae[e.parentLocale]||(ae[e.parentLocale]=[]),ae[e.parentLocale].push({name:t,config:e}),null;i=n._config}return re[t]=new O($(i,e)),ae[t]&&ae[t].forEach(function(t){ue(t.name,t.config)}),le(t),re[t]}return delete re[t],null}function ce(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return ee;if(!s(t)){if(e=se(t))return e;t=[t]}return function(t){for(var e,n,i,r,a=0;a<t.length;){for(r=oe(t[a]).split("-"),e=r.length,n=(n=oe(t[a+1]))?n.split("-"):null;0<e;){if(i=se(r.slice(0,e).join("-")))return i;if(n&&n.length>=e&&C(r,n,!0)>=e-1)break;e--}a++}return ee}(t)}function de(t){var e,n=t._a;return n&&-2===y(t).overflow&&(e=n[gt]<0||11<n[gt]?gt:n[mt]<1||n[mt]>Ot(n[pt],n[gt])?mt:n[vt]<0||24<n[vt]||24===n[vt]&&(0!==n[yt]||0!==n[bt]||0!==n[_t])?vt:n[yt]<0||59<n[yt]?yt:n[bt]<0||59<n[bt]?bt:n[_t]<0||999<n[_t]?_t:-1,y(t)._overflowDayOfYear&&(e<pt||mt<e)&&(e=mt),y(t)._overflowWeeks&&-1===e&&(e=wt),y(t)._overflowWeekday&&-1===e&&(e=xt),y(t).overflow=e),t}function he(t,e,n){return null!=t?t:null!=e?e:n}function fe(t){var e,n,i,r,a,o,s,l=[];if(!t._d){for(o=t,s=void 0,s=new Date(m.now()),i=o._useUTC?[s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()]:[s.getFullYear(),s.getMonth(),s.getDate()],t._w&&null==t._a[mt]&&null==t._a[gt]&&function(t){var e,n,i,r,a,o,s,l;if(null!=(e=t._w).GG||null!=e.W||null!=e.E)a=1,o=4,n=he(e.GG,t._a[pt],Bt(Me(),1,4).year),i=he(e.W,1),((r=he(e.E,1))<1||7<r)&&(l=!0);else{a=t._locale._week.dow,o=t._locale._week.doy;var u=Bt(Me(),a,o);n=he(e.gg,t._a[pt],u.year),i=he(e.w,u.week),null!=e.d?((r=e.d)<0||6<r)&&(l=!0):null!=e.e?(r=e.e+a,(e.e<0||6<e.e)&&(l=!0)):r=a}i<1||i>Yt(n,a,o)?y(t)._overflowWeeks=!0:null!=l?y(t)._overflowWeekday=!0:(s=Ht(n,i,r,a,o),t._a[pt]=s.year,t._dayOfYear=s.dayOfYear)}(t),null!=t._dayOfYear&&(a=he(t._a[pt],i[pt]),(t._dayOfYear>kt(a)||0===t._dayOfYear)&&(y(t)._overflowDayOfYear=!0),n=Nt(a,0,t._dayOfYear),t._a[gt]=n.getUTCMonth(),t._a[mt]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=l[e]=i[e];for(;e<7;e++)t._a[e]=l[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[vt]&&0===t._a[yt]&&0===t._a[bt]&&0===t._a[_t]&&(t._nextDay=!0,t._a[vt]=0),t._d=(t._useUTC?Nt:function(t,e,n,i,r,a,o){var s;return t<100&&0<=t?(s=new Date(t+400,e,n,i,r,a,o),isFinite(s.getFullYear())&&s.setFullYear(t)):s=new Date(t,e,n,i,r,a,o),s}).apply(null,l),r=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[vt]=24),t._w&&void 0!==t._w.d&&t._w.d!==r&&(y(t).weekdayMismatch=!0)}}var pe=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ge=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,me=/Z|[+-]\d\d(?::?\d\d)?/,ve=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],ye=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],be=/^\/?Date\((\-?\d+)/i;function _e(t){var e,n,i,r,a,o,s=t._i,l=pe.exec(s)||ge.exec(s);if(l){for(y(t).iso=!0,e=0,n=ve.length;e<n;e++)if(ve[e][1].exec(l[1])){r=ve[e][0],i=!1!==ve[e][2];break}if(null==r)return void(t._isValid=!1);if(l[3]){for(e=0,n=ye.length;e<n;e++)if(ye[e][1].exec(l[3])){a=(l[2]||" ")+ye[e][0];break}if(null==a)return void(t._isValid=!1)}if(!i&&null!=a)return void(t._isValid=!1);if(l[4]){if(!me.exec(l[4]))return void(t._isValid=!1);o="Z"}t._f=r+(a||"")+(o||""),Se(t)}else t._isValid=!1}var we=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function xe(t,e,n,i,r,a){var o,s,l=[(o=t,s=parseInt(o,10),s<=49?2e3+s:s<=999?1900+s:s),At.indexOf(e),parseInt(n,10),parseInt(i,10),parseInt(r,10)];return a&&l.push(parseInt(a,10)),l}var ke={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Ce(t){var e=we.exec(t._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(e){var n=xe(e[4],e[3],e[2],e[5],e[6],e[7]);if(!function(t,e,n){if(t){var i=Wt.indexOf(t),r=new Date(e[0],e[1],e[2]).getDay();if(i!==r)return y(n).weekdayMismatch=!0,n._isValid=!1}return!0}(e[1],n,t))return;t._a=n,t._tzm=function(t,e,n){if(t)return ke[t];if(e)return 0;var i=parseInt(n,10),r=i%100,a=(i-r)/100;return 60*a+r}(e[8],e[9],e[10]),t._d=Nt.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),y(t).rfc2822=!0}else t._isValid=!1}function Se(t){if(t._f!==m.ISO_8601)if(t._f!==m.RFC_2822){t._a=[],y(t).empty=!0;var e,n,i,r,a,o=""+t._i,s=o.length,l=0;for(i=U(t._f,t._locale).match(L)||[],e=0;e<i.length;e++)r=i[e],(n=(o.match(ut(r,t))||[])[0])&&(0<(a=o.substr(0,o.indexOf(n))).length&&y(t).unusedInput.push(a),o=o.slice(o.indexOf(n)+n.length),l+=n.length),H[r]?(n?y(t).empty=!1:y(t).unusedTokens.push(r),f=r,g=t,null!=(p=n)&&v(dt,f)&&dt[f](p,g._a,g,f)):t._strict&&!n&&y(t).unusedTokens.push(r);y(t).charsLeftOver=s-l,0<o.length&&y(t).unusedInput.push(o),t._a[vt]<=12&&!0===y(t).bigHour&&0<t._a[vt]&&(y(t).bigHour=void 0),y(t).parsedDateParts=t._a.slice(0),y(t).meridiem=t._meridiem,t._a[vt]=(u=t._locale,c=t._a[vt],null==(d=t._meridiem)?c:null!=u.meridiemHour?u.meridiemHour(c,d):(null!=u.isPM&&((h=u.isPM(d))&&c<12&&(c+=12),h||12!==c||(c=0)),c)),fe(t),de(t)}else Ce(t);else _e(t);var u,c,d,h,f,p,g}function De(t){var e,n,i=t._i,r=t._f;return t._locale=t._locale||ce(t._l),null===i||void 0===r&&""===i?p({nullInput:!0}):("string"==typeof i&&(t._i=i=t._locale.preparse(i)),w(i)?new _(de(i)):(o(i)?t._d=i:s(r)?function(t){var e,n,i,r,a;if(0===t._f.length)return y(t).invalidFormat=!0,t._d=new Date(NaN);for(r=0;r<t._f.length;r++)a=0,e=b({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[r],Se(e),f(e)&&(a+=y(e).charsLeftOver,a+=10*y(e).unusedTokens.length,y(e).score=a,(null==i||a<i)&&(i=a,n=e));d(t,n||e)}(t):r?Se(t):a(n=(e=t)._i)?e._d=new Date(m.now()):o(n)?e._d=new Date(n.valueOf()):"string"==typeof n?function(t){var e=be.exec(t._i);if(null!==e)return t._d=new Date(+e[1]);_e(t),!1===t._isValid&&(delete t._isValid,Ce(t),!1===t._isValid&&(delete t._isValid,m.createFromInputFallback(t)))}(e):s(n)?(e._a=u(n.slice(0),function(t){return parseInt(t,10)}),fe(e)):l(n)?function(t){if(!t._d){var e=R(t._i);t._a=u([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),fe(t)}}(e):c(n)?e._d=new Date(n):m.createFromInputFallback(e),f(t)||(t._d=null),t))}function Te(t,e,n,i,r){var a,o={};return!0!==n&&!1!==n||(i=n,n=void 0),(l(t)&&function(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(t.hasOwnProperty(e))return!1;return!0}(t)||s(t)&&0===t.length)&&(t=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=r,o._l=n,o._i=t,o._f=e,o._strict=i,(a=new _(de(De(o))))._nextDay&&(a.add(1,"d"),a._nextDay=void 0),a}function Me(t,e,n,i){return Te(t,e,n,i,!1)}m.createFromInputFallback=n("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),m.ISO_8601=function(){},m.RFC_2822=function(){};var $e=n("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Me.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:p()}),Oe=n("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Me.apply(null,arguments);return this.isValid()&&t.isValid()?this<t?this:t:p()});function Ee(t,e){var n,i;if(1===e.length&&s(e[0])&&(e=e[0]),!e.length)return Me();for(n=e[0],i=1;i<e.length;++i)e[i].isValid()&&!e[i][t](n)||(n=e[i]);return n}var Pe=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Ae(t){var e=R(t),n=e.year||0,i=e.quarter||0,r=e.month||0,a=e.week||e.isoWeek||0,o=e.day||0,s=e.hour||0,l=e.minute||0,u=e.second||0,c=e.millisecond||0;this._isValid=function(t){for(var e in t)if(-1===St.call(Pe,e)||null!=t[e]&&isNaN(t[e]))return!1;for(var n=!1,i=0;i<Pe.length;++i)if(t[Pe[i]]){if(n)return!1;parseFloat(t[Pe[i]])!==k(t[Pe[i]])&&(n=!0)}return!0}(e),this._milliseconds=+c+1e3*u+6e4*l+1e3*s*60*60,this._days=+o+7*a,this._months=+r+3*i+12*n,this._data={},this._locale=ce(),this._bubble()}function Re(t){return t instanceof Ae}function Ie(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function Fe(t,n){B(t,0,0,function(){var t=this.utcOffset(),e="+";return t<0&&(t=-t,e="-"),e+j(~~(t/60),2)+n+j(~~t%60,2)})}Fe("Z",":"),Fe("ZZ",""),lt("Z",at),lt("ZZ",at),ht(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=Le(at,t)});var je=/([\+\-]|\d\d)/gi;function Le(t,e){var n=(e||"").match(t);if(null===n)return null;var i=n[n.length-1]||[],r=(i+"").match(je)||["-",0,0],a=60*r[1]+k(r[2]);return 0===a?0:"+"===r[0]?a:-a}function Ne(t,e){var n,i;return e._isUTC?(n=e.clone(),i=(w(t)||o(t)?t.valueOf():Me(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),m.updateOffset(n,!1),n):Me(t).local()}function Ve(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function He(){return!!this.isValid()&&this._isUTC&&0===this._offset}m.updateOffset=function(){};var Be=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Ye=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ue(t,e){var n,i,r,a,o,s,l=t,u=null;return Re(t)?l={ms:t._milliseconds,d:t._days,M:t._months}:c(t)?(l={},e?l[e]=t:l.milliseconds=t):(u=Be.exec(t))?(n="-"===u[1]?-1:1,l={y:0,d:k(u[mt])*n,h:k(u[vt])*n,m:k(u[yt])*n,s:k(u[bt])*n,ms:k(Ie(1e3*u[_t]))*n}):(u=Ye.exec(t))?(n="-"===u[1]?-1:1,l={y:ze(u[2],n),M:ze(u[3],n),w:ze(u[4],n),d:ze(u[5],n),h:ze(u[6],n),m:ze(u[7],n),s:ze(u[8],n)}):null==l?l={}:"object"==typeof l&&("from"in l||"to"in l)&&(a=Me(l.from),o=Me(l.to),r=a.isValid()&&o.isValid()?(o=Ne(o,a),a.isBefore(o)?s=We(a,o):((s=We(o,a)).milliseconds=-s.milliseconds,s.months=-s.months),s):{milliseconds:0,months:0},(l={}).ms=r.milliseconds,l.M=r.months),i=new Ae(l),Re(t)&&v(t,"_locale")&&(i._locale=t._locale),i}function ze(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function We(t,e){var n={};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function qe(i,r){return function(t,e){var n;return null===e||isNaN(+e)||(T(r,"moment()."+r+"(period, number) is deprecated. Please use moment()."+r+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),n=t,t=e,e=n),Ge(this,Ue(t="string"==typeof t?+t:t,e),i),this}}function Ge(t,e,n,i){var r=e._milliseconds,a=Ie(e._days),o=Ie(e._months);t.isValid()&&(i=null==i||i,o&&Rt(t,Mt(t,"Month")+o*n),a&&$t(t,"Date",Mt(t,"Date")+a*n),r&&t._d.setTime(t._d.valueOf()+r*n),i&&m.updateOffset(t,a||o))}Ue.fn=Ae.prototype,Ue.invalid=function(){return Ue(NaN)};var Ze=qe(1,"add"),Xe=qe(-1,"subtract");function Ke(t,e){var n,i,r=12*(e.year()-t.year())+(e.month()-t.month()),a=t.clone().add(r,"months");return e-a<0?(n=t.clone().add(r-1,"months"),i=(e-a)/(a-n)):(n=t.clone().add(r+1,"months"),i=(e-a)/(n-a)),-(r+i)||0}function Qe(t){var e;return void 0===t?this._locale._abbr:(null!=(e=ce(t))&&(this._locale=e),this)}m.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",m.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Je=n("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});function tn(){return this._locale}var en=1e3,nn=60*en,rn=60*nn,an=3506328*rn;function on(t,e){return(t%e+e)%e}function sn(t,e,n){return t<100&&0<=t?new Date(t+400,e,n)-an:new Date(t,e,n).valueOf()}function ln(t,e,n){return t<100&&0<=t?Date.UTC(t+400,e,n)-an:Date.UTC(t,e,n)}function un(t,e){B(0,[t,t.length],0,e)}function cn(t,e,n,i,r){var a;return null==t?Bt(this,i,r).year:((a=Yt(t,i,r))<e&&(e=a),function(t,e,n,i,r){var a=Ht(t,e,n,i,r),o=Nt(a.year,0,a.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}.call(this,t,e,n,i,r))}B(0,["gg",2],0,function(){return this.weekYear()%100}),B(0,["GG",2],0,function(){return this.isoWeekYear()%100}),un("gggg","weekYear"),un("ggggg","weekYear"),un("GGGG","isoWeekYear"),un("GGGGG","isoWeekYear"),P("weekYear","gg"),P("isoWeekYear","GG"),F("weekYear",1),F("isoWeekYear",1),lt("G",it),lt("g",it),lt("GG",X,W),lt("gg",X,W),lt("GGGG",tt,G),lt("gggg",tt,G),lt("GGGGG",et,Z),lt("ggggg",et,Z),ft(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,i){e[i.substr(0,2)]=k(t)}),ft(["gg","GG"],function(t,e,n,i){e[i]=m.parseTwoDigitYear(t)}),B("Q",0,"Qo","quarter"),P("quarter","Q"),F("quarter",7),lt("Q",z),ht("Q",function(t,e){e[gt]=3*(k(t)-1)}),B("D",["DD",2],"Do","date"),P("date","D"),F("date",9),lt("D",X),lt("DD",X,W),lt("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient}),ht(["D","DD"],mt),ht("Do",function(t,e){e[mt]=k(t.match(X)[0])});var dn=Tt("Date",!0);B("DDD",["DDDD",3],"DDDo","dayOfYear"),P("dayOfYear","DDD"),F("dayOfYear",4),lt("DDD",J),lt("DDDD",q),ht(["DDD","DDDD"],function(t,e,n){n._dayOfYear=k(t)}),B("m",["mm",2],0,"minute"),P("minute","m"),F("minute",14),lt("m",X),lt("mm",X,W),ht(["m","mm"],yt);var hn=Tt("Minutes",!1);B("s",["ss",2],0,"second"),P("second","s"),F("second",15),lt("s",X),lt("ss",X,W),ht(["s","ss"],bt);var fn,pn=Tt("Seconds",!1);for(B("S",0,0,function(){return~~(this.millisecond()/100)}),B(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),B(0,["SSS",3],0,"millisecond"),B(0,["SSSS",4],0,function(){return 10*this.millisecond()}),B(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),B(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),B(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),B(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),B(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),P("millisecond","ms"),F("millisecond",16),lt("S",J,z),lt("SS",J,W),lt("SSS",J,q),fn="SSSS";fn.length<=9;fn+="S")lt(fn,nt);function gn(t,e){e[_t]=k(1e3*("0."+t))}for(fn="S";fn.length<=9;fn+="S")ht(fn,gn);var mn=Tt("Milliseconds",!1);B("z",0,0,"zoneAbbr"),B("zz",0,0,"zoneName");var vn=_.prototype;function yn(t){return t}vn.add=Ze,vn.calendar=function(t,e){var n=t||Me(),i=Ne(n,this).startOf("day"),r=m.calendarFormat(this,i)||"sameElse",a=e&&(M(e[r])?e[r].call(this,n):e[r]);return this.format(a||this.localeData().calendar(r,this,Me(n)))},vn.clone=function(){return new _(this)},vn.diff=function(t,e,n){var i,r,a;if(!this.isValid())return NaN;if(!(i=Ne(t,this)).isValid())return NaN;switch(r=6e4*(i.utcOffset()-this.utcOffset()),e=A(e)){case"year":a=Ke(this,i)/12;break;case"month":a=Ke(this,i);break;case"quarter":a=Ke(this,i)/3;break;case"second":a=(this-i)/1e3;break;case"minute":a=(this-i)/6e4;break;case"hour":a=(this-i)/36e5;break;case"day":a=(this-i-r)/864e5;break;case"week":a=(this-i-r)/6048e5;break;default:a=this-i}return n?a:x(a)},vn.endOf=function(t){var e;if(void 0===(t=A(t))||"millisecond"===t||!this.isValid())return this;var n=this._isUTC?ln:sn;switch(t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=rn-on(e+(this._isUTC?0:this.utcOffset()*nn),rn)-1;break;case"minute":e=this._d.valueOf(),e+=nn-on(e,nn)-1;break;case"second":e=this._d.valueOf(),e+=en-on(e,en)-1}return this._d.setTime(e),m.updateOffset(this,!0),this},vn.format=function(t){t||(t=this.isUtc()?m.defaultFormatUtc:m.defaultFormat);var e=Y(this,t);return this.localeData().postformat(e)},vn.from=function(t,e){return this.isValid()&&(w(t)&&t.isValid()||Me(t).isValid())?Ue({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},vn.fromNow=function(t){return this.from(Me(),t)},vn.to=function(t,e){return this.isValid()&&(w(t)&&t.isValid()||Me(t).isValid())?Ue({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},vn.toNow=function(t){return this.to(Me(),t)},vn.get=function(t){return M(this[t=A(t)])?this[t]():this},vn.invalidAt=function(){return y(this).overflow},vn.isAfter=function(t,e){var n=w(t)?t:Me(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=A(e)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())},vn.isBefore=function(t,e){var n=w(t)?t:Me(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=A(e)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())},vn.isBetween=function(t,e,n,i){var r=w(t)?t:Me(t),a=w(e)?e:Me(e);return!!(this.isValid()&&r.isValid()&&a.isValid())&&(("("===(i=i||"()")[0]?this.isAfter(r,n):!this.isBefore(r,n))&&(")"===i[1]?this.isBefore(a,n):!this.isAfter(a,n)))},vn.isSame=function(t,e){var n,i=w(t)?t:Me(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=A(e)||"millisecond")?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))},vn.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},vn.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},vn.isValid=function(){return f(this)},vn.lang=Je,vn.locale=Qe,vn.localeData=tn,vn.max=Oe,vn.min=$e,vn.parsingFlags=function(){return d({},y(this))},vn.set=function(t,e){if("object"==typeof t)for(var n=function(t){var e=[];for(var n in t)e.push({unit:n,priority:I[n]});return e.sort(function(t,e){return t.priority-e.priority}),e}(t=R(t)),i=0;i<n.length;i++)this[n[i].unit](t[n[i].unit]);else if(M(this[t=A(t)]))return this[t](e);return this},vn.startOf=function(t){var e;if(void 0===(t=A(t))||"millisecond"===t||!this.isValid())return this;var n=this._isUTC?ln:sn;switch(t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=on(e+(this._isUTC?0:this.utcOffset()*nn),rn);break;case"minute":e=this._d.valueOf(),e-=on(e,nn);break;case"second":e=this._d.valueOf(),e-=on(e,en)}return this._d.setTime(e),m.updateOffset(this,!0),this},vn.subtract=Xe,vn.toArray=function(){return[this.year(),this.month(),this.date(),this.hour(),this.minute(),this.second(),this.millisecond()]},vn.toObject=function(){return{years:this.year(),months:this.month(),date:this.date(),hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()}},vn.toDate=function(){return new Date(this.valueOf())},vn.toISOString=function(t){if(!this.isValid())return null;var e=!0!==t,n=e?this.clone().utc():this;return n.year()<0||9999<n.year()?Y(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):M(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",Y(n,"Z")):Y(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},vn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var n="["+t+'("]',i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r=e+'[")]';return this.format(n+i+"-MM-DD[T]HH:mm:ss.SSS"+r)},vn.toJSON=function(){return this.isValid()?this.toISOString():null},vn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},vn.unix=function(){return Math.floor(this.valueOf()/1e3)},vn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},vn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},vn.year=Dt,vn.isLeapYear=function(){return Ct(this.year())},vn.weekYear=function(t){return cn.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},vn.isoWeekYear=function(t){return cn.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},vn.quarter=vn.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},vn.month=It,vn.daysInMonth=function(){return Ot(this.year(),this.month())},vn.week=vn.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},vn.isoWeek=vn.isoWeeks=function(t){var e=Bt(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},vn.weeksInYear=function(){var t=this.localeData()._week;return Yt(this.year(),t.dow,t.doy)},vn.isoWeeksInYear=function(){return Yt(this.year(),1,4)},vn.date=dn,vn.day=vn.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e,n,i=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(e=t,n=this.localeData(),t="string"!=typeof e?e:isNaN(e)?"number"==typeof(e=n.weekdaysParse(e))?e:null:parseInt(e,10),this.add(t-i,"d")):i},vn.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},vn.isoWeekday=function(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=(n=t,i=this.localeData(),"string"==typeof n?i.weekdaysParse(n)%7||7:isNaN(n)?null:n);return this.day(this.day()%7?e:e-7)}return this.day()||7;var n,i},vn.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},vn.hour=vn.hours=ne,vn.minute=vn.minutes=hn,vn.second=vn.seconds=pn,vn.millisecond=vn.milliseconds=mn,vn.utcOffset=function(t,e,n){var i,r=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=Le(at,t)))return this}else Math.abs(t)<16&&!n&&(t*=60);return!this._isUTC&&e&&(i=Ve(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),r!==t&&(!e||this._changeInProgress?Ge(this,Ue(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,m.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?r:Ve(this)},vn.utc=function(t){return this.utcOffset(0,t)},vn.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Ve(this),"m")),this},vn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=Le(rt,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this},vn.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?Me(t).utcOffset():0,(this.utcOffset()-t)%60==0)},vn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},vn.isLocal=function(){return!!this.isValid()&&!this._isUTC},vn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},vn.isUtc=He,vn.isUTC=He,vn.zoneAbbr=function(){return this._isUTC?"UTC":""},vn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},vn.dates=n("dates accessor is deprecated. Use date instead.",dn),vn.months=n("months accessor is deprecated. Use month instead",It),vn.years=n("years accessor is deprecated. Use year instead",Dt),vn.zone=n("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}),vn.isDSTShifted=n("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!a(this._isDSTShifted))return this._isDSTShifted;var t={};if(b(t,this),(t=De(t))._a){var e=t._isUTC?h(t._a):Me(t._a);this._isDSTShifted=this.isValid()&&0<C(t._a,e.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted});var bn=O.prototype;function _n(t,e,n,i){var r=ce(),a=h().set(i,e);return r[n](a,t)}function wn(t,e,n){if(c(t)&&(e=t,t=void 0),t=t||"",null!=e)return _n(t,e,n,"month");var i,r=[];for(i=0;i<12;i++)r[i]=_n(t,i,n,"month");return r}function xn(t,e,n,i){"boolean"==typeof t?c(e)&&(n=e,e=void 0):(e=t,t=!1,c(n=e)&&(n=e,e=void 0)),e=e||"";var r,a=ce(),o=t?a._week.dow:0;if(null!=n)return _n(e,(n+o)%7,i,"day");var s=[];for(r=0;r<7;r++)s[r]=_n(e,(r+o)%7,i,"day");return s}bn.calendar=function(t,e,n){var i=this._calendar[t]||this._calendar.sameElse;return M(i)?i.call(e,n):i},bn.longDateFormat=function(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])},bn.invalidDate=function(){return this._invalidDate},bn.ordinal=function(t){return this._ordinal.replace("%d",t)},bn.preparse=yn,bn.postformat=yn,bn.relativeTime=function(t,e,n,i){var r=this._relativeTime[n];return M(r)?r(t,e,n,i):r.replace(/%d/i,t)},bn.pastFuture=function(t,e){var n=this._relativeTime[0<t?"future":"past"];return M(n)?n(e):n.replace(/%s/i,e)},bn.set=function(t){var e,n;for(n in t)M(e=t[n])?this[n]=e:this["_"+n]=e;this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},bn.months=function(t,e){return t?s(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||Et).test(e)?"format":"standalone"][t.month()]:s(this._months)?this._months:this._months.standalone},bn.monthsShort=function(t,e){return t?s(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Et.test(e)?"format":"standalone"][t.month()]:s(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},bn.monthsParse=function(t,e,n){var i,r,a;if(this._monthsParseExact)return function(t,e,n){var i,r,a,o=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)a=h([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(a,"").toLocaleLowerCase();return n?"MMM"===e?-1!==(r=St.call(this._shortMonthsParse,o))?r:null:-1!==(r=St.call(this._longMonthsParse,o))?r:null:"MMM"===e?-1!==(r=St.call(this._shortMonthsParse,o))?r:-1!==(r=St.call(this._longMonthsParse,o))?r:null:-1!==(r=St.call(this._longMonthsParse,o))?r:-1!==(r=St.call(this._shortMonthsParse,o))?r:null}.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=h([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(a="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(a.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}},bn.monthsRegex=function(t){return this._monthsParseExact?(v(this,"_monthsRegex")||Lt.call(this),t?this._monthsStrictRegex:this._monthsRegex):(v(this,"_monthsRegex")||(this._monthsRegex=jt),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},bn.monthsShortRegex=function(t){return this._monthsParseExact?(v(this,"_monthsRegex")||Lt.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(v(this,"_monthsShortRegex")||(this._monthsShortRegex=Ft),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},bn.week=function(t){return Bt(t,this._week.dow,this._week.doy).week},bn.firstDayOfYear=function(){return this._week.doy},bn.firstDayOfWeek=function(){return this._week.dow},bn.weekdays=function(t,e){var n=s(this._weekdays)?this._weekdays:this._weekdays[t&&!0!==t&&this._weekdays.isFormat.test(e)?"format":"standalone"];return!0===t?Ut(n,this._week.dow):t?n[t.day()]:n},bn.weekdaysMin=function(t){return!0===t?Ut(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin},bn.weekdaysShort=function(t){return!0===t?Ut(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort},bn.weekdaysParse=function(t,e,n){var i,r,a;if(this._weekdaysParseExact)return function(t,e,n){var i,r,a,o=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)a=h([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(a,"").toLocaleLowerCase();return n?"dddd"===e?-1!==(r=St.call(this._weekdaysParse,o))?r:null:"ddd"===e?-1!==(r=St.call(this._shortWeekdaysParse,o))?r:null:-1!==(r=St.call(this._minWeekdaysParse,o))?r:null:"dddd"===e?-1!==(r=St.call(this._weekdaysParse,o))?r:-1!==(r=St.call(this._shortWeekdaysParse,o))?r:-1!==(r=St.call(this._minWeekdaysParse,o))?r:null:"ddd"===e?-1!==(r=St.call(this._shortWeekdaysParse,o))?r:-1!==(r=St.call(this._weekdaysParse,o))?r:-1!==(r=St.call(this._minWeekdaysParse,o))?r:null:-1!==(r=St.call(this._minWeekdaysParse,o))?r:-1!==(r=St.call(this._weekdaysParse,o))?r:-1!==(r=St.call(this._shortWeekdaysParse,o))?r:null}.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(r=h([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(a="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(a.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[i].test(t))return i;if(n&&"ddd"===e&&this._shortWeekdaysParse[i].test(t))return i;if(n&&"dd"===e&&this._minWeekdaysParse[i].test(t))return i;if(!n&&this._weekdaysParse[i].test(t))return i}},bn.weekdaysRegex=function(t){return this._weekdaysParseExact?(v(this,"_weekdaysRegex")||Kt.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(v(this,"_weekdaysRegex")||(this._weekdaysRegex=Gt),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},bn.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(v(this,"_weekdaysRegex")||Kt.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(v(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Zt),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},bn.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(v(this,"_weekdaysRegex")||Kt.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(v(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Xt),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},bn.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},bn.meridiem=function(t,e,n){return 11<t?n?"pm":"PM":n?"am":"AM"},le("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=1===k(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n}}),m.lang=n("moment.lang is deprecated. Use moment.locale instead.",le),m.langData=n("moment.langData is deprecated. Use moment.localeData instead.",ce);var kn=Math.abs;function Cn(t,e,n,i){var r=Ue(e,n);return t._milliseconds+=i*r._milliseconds,t._days+=i*r._days,t._months+=i*r._months,t._bubble()}function Sn(t){return t<0?Math.floor(t):Math.ceil(t)}function Dn(t){return 4800*t/146097}function Tn(t){return 146097*t/4800}function Mn(t){return function(){return this.as(t)}}var $n=Mn("ms"),On=Mn("s"),En=Mn("m"),Pn=Mn("h"),An=Mn("d"),Rn=Mn("w"),In=Mn("M"),Fn=Mn("Q"),jn=Mn("y");function Ln(t){return function(){return this.isValid()?this._data[t]:NaN}}var Nn=Ln("milliseconds"),Vn=Ln("seconds"),Hn=Ln("minutes"),Bn=Ln("hours"),Yn=Ln("days"),Un=Ln("months"),zn=Ln("years"),Wn=Math.round,qn={ss:44,s:45,m:45,h:22,d:26,M:11},Gn=Math.abs;function Zn(t){return(0<t)-(t<0)||+t}function Xn(){if(!this.isValid())return this.localeData().invalidDate();var t,e,n=Gn(this._milliseconds)/1e3,i=Gn(this._days),r=Gn(this._months);t=x(n/60),e=x(t/60),n%=60,t%=60;var a=x(r/12),o=r%=12,s=i,l=e,u=t,c=n?n.toFixed(3).replace(/\.?0+$/,""):"",d=this.asSeconds();if(!d)return"P0D";var h=d<0?"-":"",f=Zn(this._months)!==Zn(d)?"-":"",p=Zn(this._days)!==Zn(d)?"-":"",g=Zn(this._milliseconds)!==Zn(d)?"-":"";return h+"P"+(a?f+a+"Y":"")+(o?f+o+"M":"")+(s?p+s+"D":"")+(l||u||c?"T":"")+(l?g+l+"H":"")+(u?g+u+"M":"")+(c?g+c+"S":"")}var Kn=Ae.prototype;return Kn.isValid=function(){return this._isValid},Kn.abs=function(){var t=this._data;return this._milliseconds=kn(this._milliseconds),this._days=kn(this._days),this._months=kn(this._months),t.milliseconds=kn(t.milliseconds),t.seconds=kn(t.seconds),t.minutes=kn(t.minutes),t.hours=kn(t.hours),t.months=kn(t.months),t.years=kn(t.years),this},Kn.add=function(t,e){return Cn(this,t,e,1)},Kn.subtract=function(t,e){return Cn(this,t,e,-1)},Kn.as=function(t){if(!this.isValid())return NaN;var e,n,i=this._milliseconds;if("month"===(t=A(t))||"quarter"===t||"year"===t)switch(e=this._days+i/864e5,n=this._months+Dn(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(Tn(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}},Kn.asMilliseconds=$n,Kn.asSeconds=On,Kn.asMinutes=En,Kn.asHours=Pn,Kn.asDays=An,Kn.asWeeks=Rn,Kn.asMonths=In,Kn.asQuarters=Fn,Kn.asYears=jn,Kn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*k(this._months/12):NaN},Kn._bubble=function(){var t,e,n,i,r,a=this._milliseconds,o=this._days,s=this._months,l=this._data;return 0<=a&&0<=o&&0<=s||a<=0&&o<=0&&s<=0||(a+=864e5*Sn(Tn(s)+o),s=o=0),l.milliseconds=a%1e3,t=x(a/1e3),l.seconds=t%60,e=x(t/60),l.minutes=e%60,n=x(e/60),l.hours=n%24,o+=x(n/24),r=x(Dn(o)),s+=r,o-=Sn(Tn(r)),i=x(s/12),s%=12,l.days=o,l.months=s,l.years=i,this},Kn.clone=function(){return Ue(this)},Kn.get=function(t){return t=A(t),this.isValid()?this[t+"s"]():NaN},Kn.milliseconds=Nn,Kn.seconds=Vn,Kn.minutes=Hn,Kn.hours=Bn,Kn.days=Yn,Kn.weeks=function(){return x(this.days()/7)},Kn.months=Un,Kn.years=zn,Kn.humanize=function(t){if(!this.isValid())return this.localeData().invalidDate();var e,n,i,r,a,o,s,l,u,c,d,h=this.localeData(),f=(n=!t,i=h,r=Ue(e=this).abs(),a=Wn(r.as("s")),o=Wn(r.as("m")),s=Wn(r.as("h")),l=Wn(r.as("d")),u=Wn(r.as("M")),c=Wn(r.as("y")),(d=a<=qn.ss&&["s",a]||a<qn.s&&["ss",a]||o<=1&&["m"]||o<qn.m&&["mm",o]||s<=1&&["h"]||s<qn.h&&["hh",s]||l<=1&&["d"]||l<qn.d&&["dd",l]||u<=1&&["M"]||u<qn.M&&["MM",u]||c<=1&&["y"]||["yy",c])[2]=n,d[3]=0<+e,d[4]=i,function(t,e,n,i,r){return r.relativeTime(e||1,!!n,t,i)}.apply(null,d));return t&&(f=h.pastFuture(+this,f)),h.postformat(f)},Kn.toISOString=Xn,Kn.toString=Xn,Kn.toJSON=Xn,Kn.locale=Qe,Kn.localeData=tn,Kn.toIsoString=n("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Xn),Kn.lang=Je,B("X",0,0,"unix"),B("x",0,0,"valueOf"),lt("x",it),lt("X",/[+-]?\d+(\.\d{1,3})?/),ht("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),ht("x",function(t,e,n){n._d=new Date(k(t))}),m.version="2.24.0",t=Me,m.fn=vn,m.min=function(){return Ee("isBefore",[].slice.call(arguments,0))},m.max=function(){return Ee("isAfter",[].slice.call(arguments,0))},m.now=function(){return Date.now?Date.now():+new Date},m.utc=h,m.unix=function(t){return Me(1e3*t)},m.months=function(t,e){return wn(t,e,"months")},m.isDate=o,m.locale=le,m.invalid=p,m.duration=Ue,m.isMoment=w,m.weekdays=function(t,e,n){return xn(t,e,n,"weekdays")},m.parseZone=function(){return Me.apply(null,arguments).parseZone()},m.localeData=ce,m.isDuration=Re,m.monthsShort=function(t,e){return wn(t,e,"monthsShort")},m.weekdaysMin=function(t,e,n){return xn(t,e,n,"weekdaysMin")},m.defineLocale=ue,m.updateLocale=function(t,e){if(null!=e){var n,i,r=ie;null!=(i=se(t))&&(r=i._config),e=$(r,e),(n=new O(e)).parentLocale=re[t],re[t]=n,le(t)}else null!=re[t]&&(null!=re[t].parentLocale?re[t]=re[t].parentLocale:null!=re[t]&&delete re[t]);return re[t]},m.locales=function(){return i(re)},m.weekdaysShort=function(t,e,n){return xn(t,e,n,"weekdaysShort")},m.normalizeUnits=A,m.relativeTimeRounding=function(t){return void 0===t?Wn:"function"==typeof t&&(Wn=t,!0)},m.relativeTimeThreshold=function(t,e){return void 0!==qn[t]&&(void 0===e?qn[t]:(qn[t]=e,"s"===t&&(qn.ss=e-1),!0))},m.calendarFormat=function(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},m.prototype=vn,m.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},m}()}),hi={datetime:"MMM D, YYYY, h:mm:ss a",millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"};nn._date.override("function"==typeof di?{_id:"moment",formats:function(){return hi},parse:function(t,e){return"string"==typeof t&&"string"==typeof e?t=di(t,e):t instanceof di||(t=di(t)),t.isValid()?t.valueOf():null},format:function(t,e){return di(t).format(e)},add:function(t,e,n){return di(t).add(e,n).valueOf()},diff:function(t,e,n){return di(t).diff(di(e),n)},startOf:function(t,e,n){return t=di(t),"isoWeek"===e?t.isoWeekday(n).valueOf():t.startOf(e).valueOf()},endOf:function(t,e){return di(t).endOf(e).valueOf()},_create:function(t){return di(t)}}:{}),j._set("global",{plugins:{filler:{propagate:!0}}});var fi={dataset:function(t){var e=t.fill,n=t.chart,i=n.getDatasetMeta(e),r=i&&n.isDatasetVisible(e)&&i.dataset._children||[],a=r.length||0;return a?function(t,e){return e<a&&r[e]._view||null}:null},boundary:function(t){var n=t.boundary,e=n?n.x:null,i=n?n.y:null;return B.isArray(n)?function(t,e){return n[e]}:function(t){return{x:null===e?t.x:e,y:null===i?t.y:i}}}};function pi(t,e,n){var i,r=t._model||{},a=r.fill;if(void 0===a&&(a=!!r.backgroundColor),!1===a||null===a)return!1;if(!0===a)return"origin";if(i=parseFloat(a,10),isFinite(i)&&Math.floor(i)===i)return"-"!==a[0]&&"+"!==a[0]||(i=e+i),!(i===e||i<0||n<=i)&&i;switch(a){case"bottom":return"start";case"top":return"end";case"zero":return"origin";case"origin":case"start":case"end":return a;default:return!1}}function gi(t){return(t.el._scale||{}).getPointPositionForValue?function(t){var e,n,i,r,a,o=t.el._scale,s=o.options,l=o.chart.data.labels.length,u=t.fill,c=[];if(!l)return null;for(e=s.ticks.reverse?o.max:o.min,n=s.ticks.reverse?o.min:o.max,i=o.getPointPositionForValue(0,e),r=0;r<l;++r)a="start"===u||"end"===u?o.getPointPositionForValue(r,"start"===u?e:n):o.getBasePosition(r),s.gridLines.circular&&(a.cx=i.x,a.cy=i.y,a.angle=o.getIndexAngle(r)-Math.PI/2),c.push(a);return c}(t):function(t){var e,n=t.el._model||{},i=t.el._scale||{},r=t.fill,a=null;if(isFinite(r))return null;if("start"===r?a=void 0===n.scaleBottom?i.bottom:n.scaleBottom:"end"===r?a=void 0===n.scaleTop?i.top:n.scaleTop:void 0!==n.scaleZero?a=n.scaleZero:i.getBasePixel&&(a=i.getBasePixel()),null!=a){if(void 0!==a.x&&void 0!==a.y)return a;if(B.isFinite(a))return{x:(e=i.isHorizontal())?a:null,y:e?null:a}}return null}(t)}function mi(t,e,n){var i,r=t[e].fill,a=[e];if(!n)return r;for(;!1!==r&&-1===a.indexOf(r);){if(!isFinite(r))return r;if(!(i=t[r]))return!1;if(i.visible)return r;a.push(r),r=i.fill}return!1}function vi(t){return t&&!t.skip}function yi(t,e,n,i,r){var a,o,s,l;if(i&&r){for(t.moveTo(e[0].x,e[0].y),a=1;a<i;++a)B.canvas.lineTo(t,e[a-1],e[a]);if(void 0===n[0].angle)for(t.lineTo(n[r-1].x,n[r-1].y),a=r-1;0<a;--a)B.canvas.lineTo(t,n[a],n[a-1],!0);else for(o=n[0].cx,s=n[0].cy,l=Math.sqrt(Math.pow(n[0].x-o,2)+Math.pow(n[0].y-s,2)),a=r-1;0<a;--a)t.arc(o,s,l,n[a].angle,n[a-1].angle,!0)}}function bi(t,e,n,i,r,a){var o,s,l,u,c,d,h,f,p=e.length,g=i.spanGaps,m=[],v=[],y=0,b=0;for(t.beginPath(),o=0,s=p;o<s;++o)c=n(u=e[l=o%p]._view,l,i),d=vi(u),h=vi(c),a&&void 0===f&&d&&(s=p+(f=o+1)),d&&h?(y=m.push(u),b=v.push(c)):y&&b&&(g?(d&&m.push(u),h&&v.push(c)):(yi(t,m,v,y,b),y=b=0,m=[],v=[]));yi(t,m,v,y,b),t.closePath(),t.fillStyle=r,t.fill()}var _i={id:"filler",afterDatasetsUpdate:function(t,e){var n,i,r,a,o,s,l,u=(t.data.datasets||[]).length,c=e.propagate,d=[];for(i=0;i<u;++i)a=null,(r=(n=t.getDatasetMeta(i)).dataset)&&r._model&&r instanceof xt.Line&&(a={visible:t.isDatasetVisible(i),fill:pi(r,i,u),chart:t,el:r}),n.$filler=a,d.push(a);for(i=0;i<u;++i)(a=d[i])&&(a.fill=mi(d,i,c),a.boundary=gi(a),a.mapper=(l=void 0,s=(o=a).fill,!(l="dataset")===s?null:(isFinite(s)||(l="boundary"),fi[l](o))))},beforeDatasetsDraw:function(t){var e,n,i,r,a,o,s,l=t._getSortedVisibleDatasetMetas(),u=t.ctx;for(n=l.length-1;0<=n;--n)(e=l[n].$filler)&&e.visible&&(r=(i=e.el)._view,a=i._children||[],o=e.mapper,s=r.backgroundColor||j.global.defaultColor,o&&s&&a.length&&(B.canvas.clipArea(u,t.chartArea),bi(u,a,o,r,s,i._loop),B.canvas.unclipArea(u)))}},wi=B.rtl.getRtlAdapter,xi=B.noop,ki=B.valueOrDefault;function Ci(t,e){return t.usePointStyle&&t.boxWidth>e?e:t.boxWidth}j._set("global",{legend:{display:!0,position:"top",align:"center",fullWidth:!0,reverse:!1,weight:1e3,onClick:function(t,e){var n=e.datasetIndex,i=this.chart,r=i.getDatasetMeta(n);r.hidden=null===r.hidden?!i.data.datasets[n].hidden:null,i.update()},onHover:null,onLeave:null,labels:{boxWidth:40,padding:10,generateLabels:function(n){var i=n.data.datasets,t=n.options.legend||{},r=t.labels&&t.labels.usePointStyle;return n._getSortedDatasetMetas().map(function(t){var e=t.controller.getStyle(r?0:void 0);return{text:i[t.index].label,fillStyle:e.backgroundColor,hidden:!n.isDatasetVisible(t.index),lineCap:e.borderCapStyle,lineDash:e.borderDash,lineDashOffset:e.borderDashOffset,lineJoin:e.borderJoinStyle,lineWidth:e.borderWidth,strokeStyle:e.borderColor,pointStyle:e.pointStyle,rotation:e.rotation,datasetIndex:t.index}},this)}}},legendCallback:function(t){var e,n,i,r=document.createElement("ul"),a=t.data.datasets;for(r.setAttribute("class",t.id+"-legend"),e=0,n=a.length;e<n;e++)(i=r.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=a[e].backgroundColor,a[e].label&&i.appendChild(document.createTextNode(a[e].label));return r.outerHTML}});var Si=Z.extend({initialize:function(t){B.extend(this,t),this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1},beforeUpdate:xi,update:function(t,e,n){var i=this;return i.beforeUpdate(),i.maxWidth=t,i.maxHeight=e,i.margins=n,i.beforeSetDimensions(),i.setDimensions(),i.afterSetDimensions(),i.beforeBuildLabels(),i.buildLabels(),i.afterBuildLabels(),i.beforeFit(),i.fit(),i.afterFit(),i.afterUpdate(),i.minSize},afterUpdate:xi,beforeSetDimensions:xi,setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0,t.minSize={width:0,height:0}},afterSetDimensions:xi,beforeBuildLabels:xi,buildLabels:function(){var e=this,n=e.options.labels||{},t=B.callback(n.generateLabels,[e.chart],e)||[];n.filter&&(t=t.filter(function(t){return n.filter(t,e.chart.data)})),e.options.reverse&&t.reverse(),e.legendItems=t},afterBuildLabels:xi,beforeFit:xi,fit:function(){var t=this,e=t.options,i=e.labels,n=e.display,r=t.ctx,a=B.options._parseFont(i),o=a.size,s=t.legendHitBoxes=[],l=t.minSize,u=t.isHorizontal();if(u?(l.width=t.maxWidth,l.height=n?10:0):(l.width=n?10:0,l.height=t.maxHeight),n){if(r.font=a.string,u){var c=t.lineWidths=[0],d=0;r.textAlign="left",r.textBaseline="middle",B.each(t.legendItems,function(t,e){var n=Ci(i,o)+o/2+r.measureText(t.text).width;(0===e||c[c.length-1]+n+2*i.padding>l.width)&&(d+=o+i.padding,c[c.length-(0<e?0:1)]=0),s[e]={left:0,top:0,width:n,height:o},c[c.length-1]+=n+i.padding}),l.height+=d}else{var h=i.padding,f=t.columnWidths=[],p=t.columnHeights=[],g=i.padding,m=0,v=0;B.each(t.legendItems,function(t,e){var n=Ci(i,o)+o/2+r.measureText(t.text).width;0<e&&v+o+2*h>l.height&&(g+=m+i.padding,f.push(m),p.push(v),v=m=0),m=Math.max(m,n),v+=o+h,s[e]={left:0,top:0,width:n,height:o}}),g+=m,f.push(m),p.push(v),l.width+=g}t.width=l.width,t.height=l.height}else t.width=l.width=t.height=l.height=0},afterFit:xi,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var p=this,n=p.options,g=n.labels,t=j.global,m=t.defaultColor,v=t.elements.line,y=p.height,b=p.columnHeights,_=p.width,w=p.lineWidths;if(n.display){var x,k=wi(n.rtl,p.left,p.minSize.width),C=p.ctx,e=ki(g.fontColor,t.defaultFontColor),i=B.options._parseFont(g),S=i.size;C.textAlign=k.textAlign("left"),C.textBaseline="middle",C.lineWidth=.5,C.strokeStyle=e,C.fillStyle=e,C.font=i.string;var D=Ci(g,S),T=p.legendHitBoxes,M=function(t,e){switch(n.align){case"start":return g.padding;case"end":return t-e;default:return(t-e+g.padding)/2}},$=p.isHorizontal();x=$?{x:p.left+M(_,w[0]),y:p.top+g.padding,line:0}:{x:p.left+g.padding,y:p.top+M(y,b[0]),line:0},B.rtl.overrideTextDirection(p.ctx,n.textDirection);var O=S+g.padding;B.each(p.legendItems,function(t,e){var n=C.measureText(t.text).width,i=D+S/2+n,r=x.x,a=x.y;k.setWidth(p.minSize.width),$?0<e&&r+i+g.padding>p.left+p.minSize.width&&(a=x.y+=O,x.line++,r=x.x=p.left+M(_,w[x.line])):0<e&&a+O>p.top+p.minSize.height&&(r=x.x=r+p.columnWidths[x.line]+g.padding,x.line++,a=x.y=p.top+M(y,b[x.line]));var o,s,l,u,c,d,h,f=k.x(r);!function(t,e,n){if(!(isNaN(D)||D<=0)){C.save();var i=ki(n.lineWidth,v.borderWidth);if(C.fillStyle=ki(n.fillStyle,m),C.lineCap=ki(n.lineCap,v.borderCapStyle),C.lineDashOffset=ki(n.lineDashOffset,v.borderDashOffset),C.lineJoin=ki(n.lineJoin,v.borderJoinStyle),C.lineWidth=i,C.strokeStyle=ki(n.strokeStyle,m),C.setLineDash&&C.setLineDash(ki(n.lineDash,v.borderDash)),g&&g.usePointStyle){var r=D*Math.SQRT2/2,a=k.xPlus(t,D/2),o=e+S/2;B.canvas.drawPoint(C,n.pointStyle,r,a,o,n.rotation)}else C.fillRect(k.leftForLtr(t,D),e,D,S),0!==i&&C.strokeRect(k.leftForLtr(t,D),e,D,S);C.restore()}}(f,a,t),T[e].left=k.leftForLtr(f,T[e].width),T[e].top=a,o=f,s=a,l=t,u=n,c=S/2,d=k.xPlus(o,D+c),h=s+c,C.fillText(l.text,d,h),l.hidden&&(C.beginPath(),C.lineWidth=2,C.moveTo(d,h),C.lineTo(k.xPlus(d,u),h),C.stroke()),$?x.x+=i+g.padding:x.y+=O}),B.rtl.restoreTextDirection(p.ctx,n.textDirection)}},_getLegendItemAt:function(t,e){var n,i,r;if(t>=this.left&&t<=this.right&&e>=this.top&&e<=this.bottom)for(r=this.legendHitBoxes,n=0;n<r.length;++n)if(t>=(i=r[n]).left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height)return this.legendItems[n];return null},handleEvent:function(t){var e,n=this.options,i="mouseup"===t.type?"click":t.type;if("mousemove"===i){if(!n.onHover&&!n.onLeave)return}else{if("click"!==i)return;if(!n.onClick)return}e=this._getLegendItemAt(t.x,t.y),"click"===i?e&&n.onClick&&n.onClick.call(this,t.native,e):(n.onLeave&&e!==this._hoveredItem&&(this._hoveredItem&&n.onLeave.call(this,t.native,this._hoveredItem),this._hoveredItem=e),n.onHover&&e&&n.onHover.call(this,t.native,e))}});function Di(t,e){var n=new Si({ctx:t.ctx,options:e,chart:t});fe.configure(t,n,e),fe.addBox(t,n),t.legend=n}var Ti={id:"legend",_element:Si,beforeInit:function(t){var e=t.options.legend;e&&Di(t,e)},beforeUpdate:function(t){var e=t.options.legend,n=t.legend;e?(B.mergeIf(e,j.global.legend),n?(fe.configure(t,n,e),n.options=e):Di(t,e)):n&&(fe.removeBox(t,n),delete t.legend)},afterEvent:function(t,e){var n=t.legend;n&&n.handleEvent(e)}},Mi=B.noop;j._set("global",{title:{display:!1,fontStyle:"bold",fullWidth:!0,padding:10,position:"top",text:"",weight:2e3}});var $i=Z.extend({initialize:function(t){B.extend(this,t),this.legendHitBoxes=[]},beforeUpdate:Mi,update:function(t,e,n){var i=this;return i.beforeUpdate(),i.maxWidth=t,i.maxHeight=e,i.margins=n,i.beforeSetDimensions(),i.setDimensions(),i.afterSetDimensions(),i.beforeBuildLabels(),i.buildLabels(),i.afterBuildLabels(),i.beforeFit(),i.fit(),i.afterFit(),i.afterUpdate(),i.minSize},afterUpdate:Mi,beforeSetDimensions:Mi,setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0,t.minSize={width:0,height:0}},afterSetDimensions:Mi,beforeBuildLabels:Mi,buildLabels:Mi,afterBuildLabels:Mi,beforeFit:Mi,fit:function(){var t,e=this.options,n=this.minSize={},i=this.isHorizontal();e.display?(t=(B.isArray(e.text)?e.text.length:1)*B.options._parseFont(e).lineHeight+2*e.padding,this.width=n.width=i?this.maxWidth:t,this.height=n.height=i?t:this.maxHeight):this.width=n.width=this.height=n.height=0},afterFit:Mi,isHorizontal:function(){var t=this.options.position;return"top"===t||"bottom"===t},draw:function(){var t=this.ctx,e=this.options;if(e.display){var n,i,r,a=B.options._parseFont(e),o=a.lineHeight,s=o/2+e.padding,l=0,u=this.top,c=this.left,d=this.bottom,h=this.right;t.fillStyle=B.valueOrDefault(e.fontColor,j.global.defaultFontColor),t.font=a.string,this.isHorizontal()?(i=c+(h-c)/2,r=u+s,n=h-c):(i="left"===e.position?c+s:h-s,r=u+(d-u)/2,n=d-u,l=Math.PI*("left"===e.position?-.5:.5)),t.save(),t.translate(i,r),t.rotate(l),t.textAlign="center",t.textBaseline="middle";var f=e.text;if(B.isArray(f))for(var p=0,g=0;g<f.length;++g)t.fillText(f[g],0,p,n),p+=o;else t.fillText(f,0,0,n);t.restore()}}});function Oi(t,e){var n=new $i({ctx:t.ctx,options:e,chart:t});fe.configure(t,n,e),fe.addBox(t,n),t.titleBlock=n}var Ei={},Pi=_i,Ai=Ti,Ri={id:"title",_element:$i,beforeInit:function(t){var e=t.options.title;e&&Oi(t,e)},beforeUpdate:function(t){var e=t.options.title,n=t.titleBlock;e?(B.mergeIf(e,j.global.title),n?(fe.configure(t,n,e),n.options=e):Oi(t,e)):n&&(fe.removeBox(t,n),delete t.titleBlock)}};for(var Ii in Ei.filler=Pi,Ei.legend=Ai,Ei.title=Ri,Je.helpers=B,function(){function c(t,e,n){var i;return"string"==typeof t?(i=parseInt(t,10),-1!==t.indexOf("%")&&(i=i/100*e.parentNode[n])):i=t,i}function d(t){return null!=t&&"none"!==t}function e(t,e,n){var i=document.defaultView,r=B._getParentNode(t),a=i.getComputedStyle(t)[e],o=i.getComputedStyle(r)[e],s=d(a),l=d(o),u=Number.POSITIVE_INFINITY;return s||l?Math.min(s?c(a,t,n):u,l?c(o,r,n):u):"none"}B.where=function(t,e){if(B.isArray(t)&&Array.prototype.filter)return t.filter(e);var n=[];return B.each(t,function(t){e(t)&&n.push(t)}),n},B.findIndex=Array.prototype.findIndex?function(t,e,n){return t.findIndex(e,n)}:function(t,e,n){n=void 0===n?t:n;for(var i=0,r=t.length;i<r;++i)if(e.call(n,t[i],i,t))return i;return-1},B.findNextWhere=function(t,e,n){B.isNullOrUndef(n)&&(n=-1);for(var i=n+1;i<t.length;i++){var r=t[i];if(e(r))return r}},B.findPreviousWhere=function(t,e,n){B.isNullOrUndef(n)&&(n=t.length);for(var i=n-1;0<=i;i--){var r=t[i];if(e(r))return r}},B.isNumber=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},B.almostEquals=function(t,e,n){return Math.abs(t-e)<n},B.almostWhole=function(t,e){var n=Math.round(t);return n-e<=t&&t<=n+e},B.max=function(t){return t.reduce(function(t,e){return isNaN(e)?t:Math.max(t,e)},Number.NEGATIVE_INFINITY)},B.min=function(t){return t.reduce(function(t,e){return isNaN(e)?t:Math.min(t,e)},Number.POSITIVE_INFINITY)},B.sign=Math.sign?function(t){return Math.sign(t)}:function(t){return 0==(t=+t)||isNaN(t)?t:0<t?1:-1},B.toRadians=function(t){return t*(Math.PI/180)},B.toDegrees=function(t){return t*(180/Math.PI)},B._decimalPlaces=function(t){if(B.isFinite(t)){for(var e=1,n=0;Math.round(t*e)/e!==t;)e*=10,n++;return n}},B.getAngleFromPoint=function(t,e){var n=e.x-t.x,i=e.y-t.y,r=Math.sqrt(n*n+i*i),a=Math.atan2(i,n);return a<-.5*Math.PI&&(a+=2*Math.PI),{angle:a,distance:r}},B.distanceBetweenPoints=function(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},B.aliasPixel=function(t){return t%2==0?0:.5},B._alignPixel=function(t,e,n){var i=t.currentDevicePixelRatio,r=n/2;return Math.round((e-r)*i)/i+r},B.splineCurve=function(t,e,n,i){var r=t.skip?e:t,a=e,o=n.skip?e:n,s=Math.sqrt(Math.pow(a.x-r.x,2)+Math.pow(a.y-r.y,2)),l=Math.sqrt(Math.pow(o.x-a.x,2)+Math.pow(o.y-a.y,2)),u=s/(s+l),c=l/(s+l),d=i*(u=isNaN(u)?0:u),h=i*(c=isNaN(c)?0:c);return{previous:{x:a.x-d*(o.x-r.x),y:a.y-d*(o.y-r.y)},next:{x:a.x+h*(o.x-r.x),y:a.y+h*(o.y-r.y)}}},B.EPSILON=Number.EPSILON||1e-14,B.splineCurveMonotone=function(t){var e,n,i,r,a,o,s,l,u,c=(t||[]).map(function(t){return{model:t._model,deltaK:0,mK:0}}),d=c.length;for(e=0;e<d;++e)if(!(i=c[e]).model.skip){if(n=0<e?c[e-1]:null,(r=e<d-1?c[e+1]:null)&&!r.model.skip){var h=r.model.x-i.model.x;i.deltaK=0!==h?(r.model.y-i.model.y)/h:0}!n||n.model.skip?i.mK=i.deltaK:!r||r.model.skip?i.mK=n.deltaK:this.sign(n.deltaK)!==this.sign(i.deltaK)?i.mK=0:i.mK=(n.deltaK+i.deltaK)/2}for(e=0;e<d-1;++e)i=c[e],r=c[e+1],i.model.skip||r.model.skip||(B.almostEquals(i.deltaK,0,this.EPSILON)?i.mK=r.mK=0:(a=i.mK/i.deltaK,o=r.mK/i.deltaK,(l=Math.pow(a,2)+Math.pow(o,2))<=9||(s=3/Math.sqrt(l),i.mK=a*s*i.deltaK,r.mK=o*s*i.deltaK)));for(e=0;e<d;++e)(i=c[e]).model.skip||(n=0<e?c[e-1]:null,r=e<d-1?c[e+1]:null,n&&!n.model.skip&&(u=(i.model.x-n.model.x)/3,i.model.controlPointPreviousX=i.model.x-u,i.model.controlPointPreviousY=i.model.y-u*i.mK),r&&!r.model.skip&&(u=(r.model.x-i.model.x)/3,i.model.controlPointNextX=i.model.x+u,i.model.controlPointNextY=i.model.y+u*i.mK))},B.nextItem=function(t,e,n){return n?e>=t.length-1?t[0]:t[e+1]:e>=t.length-1?t[t.length-1]:t[e+1]},B.previousItem=function(t,e,n){return n?e<=0?t[t.length-1]:t[e-1]:e<=0?t[0]:t[e-1]},B.niceNum=function(t,e){var n=Math.floor(B.log10(t)),i=t/Math.pow(10,n);return(e?i<1.5?1:i<3?2:i<7?5:10:i<=1?1:i<=2?2:i<=5?5:10)*Math.pow(10,n)},B.requestAnimFrame="undefined"==typeof window?function(t){t()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)},B.getRelativePosition=function(t,e){var n,i,r=t.originalEvent||t,a=t.target||t.srcElement,o=a.getBoundingClientRect(),s=r.touches;s&&0<s.length?(n=s[0].clientX,i=s[0].clientY):(n=r.clientX,i=r.clientY);var l=parseFloat(B.getStyle(a,"padding-left")),u=parseFloat(B.getStyle(a,"padding-top")),c=parseFloat(B.getStyle(a,"padding-right")),d=parseFloat(B.getStyle(a,"padding-bottom")),h=o.right-o.left-l-c,f=o.bottom-o.top-u-d;return{x:n=Math.round((n-o.left-l)/h*a.width/e.currentDevicePixelRatio),y:i=Math.round((i-o.top-u)/f*a.height/e.currentDevicePixelRatio)}},B.getConstraintWidth=function(t){return e(t,"max-width","clientWidth")},B.getConstraintHeight=function(t){return e(t,"max-height","clientHeight")},B._calculatePadding=function(t,e,n){return-1<(e=B.getStyle(t,e)).indexOf("%")?n*parseInt(e,10)/100:parseInt(e,10)},B._getParentNode=function(t){var e=t.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e},B.getMaximumWidth=function(t){var e=B._getParentNode(t);if(!e)return t.clientWidth;var n=e.clientWidth,i=n-B._calculatePadding(e,"padding-left",n)-B._calculatePadding(e,"padding-right",n),r=B.getConstraintWidth(t);return isNaN(r)?i:Math.min(i,r)},B.getMaximumHeight=function(t){var e=B._getParentNode(t);if(!e)return t.clientHeight;var n=e.clientHeight,i=n-B._calculatePadding(e,"padding-top",n)-B._calculatePadding(e,"padding-bottom",n),r=B.getConstraintHeight(t);return isNaN(r)?i:Math.min(i,r)},B.getStyle=function(t,e){return t.currentStyle?t.currentStyle[e]:document.defaultView.getComputedStyle(t,null).getPropertyValue(e)},B.retinaScale=function(t,e){var n=t.currentDevicePixelRatio=e||"undefined"!=typeof window&&window.devicePixelRatio||1;if(1!==n){var i=t.canvas,r=t.height,a=t.width;i.height=r*n,i.width=a*n,t.ctx.scale(n,n),i.style.height||i.style.width||(i.style.height=r+"px",i.style.width=a+"px")}},B.fontString=function(t,e,n){return e+" "+t+"px "+n},B.longestText=function(t,e,n,i){var r=(i=i||{}).data=i.data||{},a=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(r=i.data={},a=i.garbageCollect=[],i.font=e),t.font=e;var o,s,l,u,c,d=0,h=n.length;for(o=0;o<h;o++)if(null!=(u=n[o])&&!0!==B.isArray(u))d=B.measureText(t,r,a,d,u);else if(B.isArray(u))for(s=0,l=u.length;s<l;s++)null==(c=u[s])||B.isArray(c)||(d=B.measureText(t,r,a,d,c));var f=a.length/2;if(f>n.length){for(o=0;o<f;o++)delete r[a[o]];a.splice(0,f)}return d},B.measureText=function(t,e,n,i,r){var a=e[r];return a||(a=e[r]=t.measureText(r).width,n.push(r)),i<a&&(i=a),i},B.numberOfLabelLines=function(t){var e=1;return B.each(t,function(t){B.isArray(t)&&t.length>e&&(e=t.length)}),e},B.color=w?function(t){return t instanceof CanvasGradient&&(t=j.global.defaultColor),w(t)}:function(t){return t},B.getHoverColor=function(t){return t instanceof CanvasPattern||t instanceof CanvasGradient?t:B.color(t).saturate(.5).darken(.1).rgbString()}}(),Je._adapters=nn,Je.Animation=K,Je.animationService=Q,Je.controllers=Xt,Je.DatasetController=it,Je.defaults=j,Je.Element=Z,Je.elements=xt,Je.Interaction=ie,Je.layouts=fe,Je.platform=Pe,Je.plugins=Ae,Je.Scale=yn,Je.scaleService=Re,Je.Ticks=rn,Je.Tooltip=ze,Je.helpers.each(ci,function(t,e){Je.scaleService.registerScaleType(e,t,t._defaults)}),Ei)Ei.hasOwnProperty(Ii)&&Je.plugins.register(Ei[Ii]);Je.platform.initialize();var Fi=Je;return"undefined"!=typeof window&&(window.Chart=Je),(Je.Chart=Je).Legend=Ei.legend._element,Je.Title=Ei.title._element,Je.pluginService=Je.plugins,Je.PluginBase=Je.Element.extend({}),Je.canvasHelpers=Je.helpers.canvas,Je.layoutService=Je.layouts,Je.LinearScaleBase=Cn,Je.helpers.each(["Bar","Bubble","Doughnut","Line","PolarArea","Radar","Scatter"],function(n){Je[n]=function(t,e){return new Je(t,Je.helpers.merge(e||{},{type:n.charAt(0).toLowerCase()+n.slice(1)}))}}),Fi}),function(t,e){"function"==typeof define&&define.amd?define([],function(){return e()}):"object"==typeof module&&module.exports?module.exports=e():e()}(0,function(){function t(e){"use strict";var n=e.storageKey(),i=e.storage(),t=function(){var t=e.preferredLanguage();angular.isString(t)?e.use(t):i.put(n,e.use())};t.displayName="fallbackFromIncorrectStorageValue",i?i.get(n)?e.use(i.get(n)).catch(t):t():angular.isString(e.preferredLanguage())&&e.use(e.preferredLanguage())}function e(t,r,e,a){"use strict";var P,c,A,R,I,F,j,n,L,N,V,H,B,Y,U,z,W={},q=[],G=t,Z=[],X="translate-cloak",K=!1,Q=!1,J=!0,tt=".",et=!1,nt=!1,it=0,rt=!0,i="default",o={default:function(t){return(t||"").split("-").join("_")},java:function(t){var e=(t||"").split("-").join("_"),n=e.split("_");return 1<n.length?n[0].toLowerCase()+"_"+n[1].toUpperCase():e},bcp47:function(t){var e=(t||"").split("_").join("-"),n=e.split("-");switch(n.length){case 1:n[0]=n[0].toLowerCase();break;case 2:n[0]=n[0].toLowerCase(),4===n[1].length?n[1]=n[1].charAt(0).toUpperCase()+n[1].slice(1).toLowerCase():n[1]=n[1].toUpperCase();break;case 3:n[0]=n[0].toLowerCase(),n[1]=n[1].charAt(0).toUpperCase()+n[1].slice(1).toLowerCase(),n[2]=n[2].toUpperCase();break;default:return e}return n.join("-")},"iso639-1":function(t){return(t||"").split("_").join("-").split("-")[0].toLowerCase()}},s=function(){if(angular.isFunction(a.getLocale))return a.getLocale();var t,e,n=r.$get().navigator,i=["language","browserLanguage","systemLanguage","userLanguage"];if(angular.isArray(n.languages))for(t=0;t<n.languages.length;t++)if((e=n.languages[t])&&e.length)return e;for(t=0;t<i.length;t++)if((e=n[i[t]])&&e.length)return e;return null};s.displayName="angular-translate/service: getFirstBrowserLanguage";var at=function(){var t=s()||"";return o[i]&&(t=o[i](t)),t};at.displayName="angular-translate/service: getLocale";var ot=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},st=function(){return this.toString().replace(/^\s+|\s+$/g,"")},d=function(t){return angular.isString(t)?t.toLowerCase():t},lt=function(t){if(t){for(var e,n=[],i=d(t),r=0,a=q.length;r<a;r++)n.push(d(q[r]));if(-1<(r=ot(n,i)))return q[r];if(c)for(var o in c)if(c.hasOwnProperty(o)){var s=!1,l=Object.prototype.hasOwnProperty.call(c,o)&&d(o)===d(t);if("*"===o.slice(-1)&&(s=d(o.slice(0,-1))===d(t.slice(0,o.length-1))),(l||s)&&(e=c[o],-1<ot(n,d(e))))return e}var u=t.split("_");return 1<u.length&&-1<ot(n,d(u[0]))?u[0]:void 0}},ut=function(t,e){if(!t&&!e)return W;if(t&&!e){if(angular.isString(t))return W[t]}else angular.isObject(W[t])||(W[t]={}),angular.extend(W[t],ct(e));return this};this.translations=ut,this.cloakClassName=function(t){return t?(X=t,this):X},this.allowNamespaces=function(t){return void 0===t?J:(J=t,this)},this.nestedObjectDelimeter=function(t){return t?(tt=t,this):tt};var ct=function(t,e,n,i){var r,a,o;if(e||(e=[]),n||(n={}),!J)return t;for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(o=t[r],angular.isObject(o)?ct(o,e.concat(r),n,r):(a=e.length?""+e.join(tt)+tt+r:r,e.length&&r===i&&(n[""+e.join(tt)]="@:"+a),n[a]=o));return n};ct.displayName="flatObject",this.addInterpolation=function(t){return Z.push(t),this},this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")},this.useInterpolation=function(t){return N=t,this},this.useSanitizeValueStrategy=function(t){return e.useStrategy(t),this},this.preferredLanguage=function(t){return t?(dt(t),this):P};var dt=function(t){return t&&(P=t),P};this.translationNotFoundIndicator=function(t){return this.translationNotFoundIndicatorLeft(t),this.translationNotFoundIndicatorRight(t),this},this.translationNotFoundIndicatorLeft=function(t){return t?(B=t,this):B},this.translationNotFoundIndicatorRight=function(t){return t?(Y=t,this):Y},this.fallbackLanguage=function(t){return ht(t),this};var ht=function(t){return t?(angular.isString(t)?(R=!0,A=[t]):angular.isArray(t)&&(R=!1,A=t),angular.isString(P)&&ot(A,P)<0&&A.push(P),this):R?A[0]:A};this.use=function(t){if(t){if(!W[t]&&!V)throw new Error("$translateProvider couldn't find translationTable for langKey: '"+t+"'");return I=t,this}return I},this.resolveClientLocale=function(){return at()};var ft=function(t){return t?(G=t,this):n?n+G:G};this.storageKey=ft,this.useUrlLoader=function(t,e){return this.useLoader("$translateUrlLoader",angular.extend({url:t},e))},this.useStaticFilesLoader=function(t){return this.useLoader("$translateStaticFilesLoader",t)},this.useLoader=function(t,e){return V=t,H=e||{},this},this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")},this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")},this.useStorage=function(t){return j=t,this},this.storagePrefix=function(t){return t?(n=t,this):t},this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")},this.useMissingTranslationHandler=function(t){return L=t,this},this.usePostCompiling=function(t){return K=!!t,this},this.forceAsyncReload=function(t){return Q=!!t,this},this.uniformLanguageTag=function(t){return t?angular.isString(t)&&(t={standard:t}):t={},i=t.standard,this},this.determinePreferredLanguage=function(t){var e=t&&angular.isFunction(t)?t():at();return P=q.length&&lt(e)||e,this},this.registerAvailableLanguageKeys=function(t,e){return t?(q=t,e&&(c=e),this):q},this.useLoaderCache=function(t){return!1===t?U=void 0:!0===t?U=!0:void 0===t?U="$translationCache":t&&(U=t),this},this.directivePriority=function(t){return void 0===t?it:(it=t,this)},this.statefulFilter=function(t){return void 0===t?rt:(rt=t,this)},this.postProcess=function(t){return z=t||void 0,this},this.keepContent=function(t){return nt=!!t,this},this.$get=["$log","$injector","$rootScope","$q",function(t,s,o,v){var a,y,b,_=s.get(N||"$translateDefaultInterpolation"),w=!1,x={},d={},k=function(t,o,s,l,u,c){!I&&P&&(I=P);var i=u&&u!==I?lt(u)||u:I;if(u&&m(u),angular.isArray(t))return function(t){for(var i={},e=[],n=function(e){var n=v.defer(),t=function(t){i[e]=t,n.resolve([e,t])};return k(e,o,s,l,u,c).then(t,t),n.promise},r=0,a=t.length;r<a;r++)e.push(n(t[r]));return v.all(e).then(function(){return i})}(t);var e=v.defer();if(!t)throw new TypeError("translationId must be a not empty string");t=st.apply(t);var n=function(){var t=d[i]||d[P];if(y=0,j&&!t){var e=a.get(G);if(t=d[e],A&&A.length){var n=ot(A,e);y=0===n?1:0,ot(A,P)<0&&A.push(P)}}return t}();if(n){var r=function(){u||(i=I),p(t,o,s,l,i,c).then(e.resolve,e.reject)};r.displayName="promiseResolved",n.finally(r).catch(angular.noop)}else p(t,o,s,l,i,c).then(e.resolve,e.reject);return e.promise},C=function(t){return B&&(t=[B,t].join(" ")),Y&&(t=[t,Y].join(" ")),t},l=function(t){I=t,j&&a.put(k.storageKey(),I),o.$emit("$translateChangeSuccess",{language:t}),_.setLocale(I);var e=function(t,e){x[e].setLocale(I)};e.displayName="eachInterpolatorLocaleSetter",angular.forEach(x,e),o.$emit("$translateChangeEnd",{language:t})},u=function(n){if(!n)throw"No language key specified for loading.";var i=v.defer();o.$emit("$translateLoadingStart",{language:n}),w=!0;var t=U;"string"==typeof t&&(t=s.get(t));var e=angular.extend({},H,{key:n,$http:angular.extend({},{cache:t},H.$http)}),r=function(t){var e={};o.$emit("$translateLoadingSuccess",{language:n}),angular.isArray(t)?angular.forEach(t,function(t){angular.extend(e,ct(t))}):angular.extend(e,ct(t)),w=!1,i.resolve({key:n,table:e}),o.$emit("$translateLoadingEnd",{language:n})};r.displayName="onLoaderSuccess";var a=function(t){o.$emit("$translateLoadingError",{language:t}),i.reject(t),o.$emit("$translateLoadingEnd",{language:t})};return a.displayName="onLoaderError",s.get(V)(e).then(r,a),i.promise};if(j&&(!(a=s.get(j)).get||!a.put))throw new Error("Couldn't use storage '"+j+"', missing get() or put() method!");if(Z.length){var e=function(t){var e=s.get(t);e.setLocale(P||I),x[e.getInterpolationIdentifier()]=e};e.displayName="interpolationFactoryAdder",angular.forEach(Z,e)}var c=function(i,r,a,o,s){var l=v.defer(),t=function(t){if(Object.prototype.hasOwnProperty.call(t,r)&&null!==t[r]){o.setLocale(i);var e=t[r];if("@:"===e.substr(0,2))c(i,e.substr(2),a,o,s).then(l.resolve,l.reject);else{var n=o.interpolate(t[r],a,"service",s,r);n=T(r,t[r],n,a,i),l.resolve(n)}o.setLocale(I)}else l.reject()};return t.displayName="fallbackTranslationResolver",function(t){var e=v.defer();if(Object.prototype.hasOwnProperty.call(W,t))e.resolve(W[t]);else if(d[t]){var n=function(t){ut(t.key,t.table),e.resolve(t.table)};n.displayName="translationTableResolver",d[t].then(n,e.reject)}else e.reject();return e.promise}(i).then(t,l.reject),l.promise},h=function(t,e,n,i,r){var a,o=W[t];if(o&&Object.prototype.hasOwnProperty.call(o,e)&&null!==o[e]){if(i.setLocale(t),a=i.interpolate(o[e],n,"filter",r,e),a=T(e,o[e],a,n,t,r),!angular.isString(a)&&angular.isFunction(a.$$unwrapTrustedValue)){var s=a.$$unwrapTrustedValue();if("@:"===s.substr(0,2))return h(t,s.substr(2),n,i,r)}else if("@:"===a.substr(0,2))return h(t,a.substr(2),n,i,r);i.setLocale(I)}return a},S=function(t,e,n,i){return L?s.get(L)(t,I,e,n,i):t},D=function(t,e,n,i,r,a){var o=v.defer();if(t<A.length){var s=A[t];c(s,e,n,i,a).then(function(t){o.resolve(t)},function(){return D(t+1,e,n,i,r,a).then(o.resolve,o.reject)})}else if(r)o.resolve(r);else{var l=S(e,n,r);L&&l?o.resolve(l):o.reject(C(e))}return o.promise},f=function(t,e,n,i,r){var a;if(t<A.length){var o=A[t];(a=h(o,e,n,i,r))||""===a||(a=f(t+1,e,n,i))}return a},p=function(t,e,n,i,r,a){var o,s,l,u,c,d=v.defer(),h=r?W[r]:W,f=n?x[n]:_;if(h&&Object.prototype.hasOwnProperty.call(h,t)&&null!==h[t]){var p=h[t];if("@:"===p.substr(0,2))k(p.substr(2),e,n,i,r,a).then(d.resolve,d.reject);else{var g=f.interpolate(p,e,"service",a,t);g=T(t,p,g,e,r),d.resolve(g)}}else{var m;L&&!w&&(m=S(t,e,i)),r&&A&&A.length?(o=t,s=e,l=f,u=i,c=a,D(0<b?b:y,o,s,l,u,c)).then(function(t){d.resolve(t)},function(t){d.reject(C(t))}):L&&!w&&m?i?d.resolve(i):d.resolve(m):i?d.resolve(i):d.reject(C(t))}return d.promise},g=function(t,e,n,i,r){var a,o=i?W[i]:W,s=_;if(x&&Object.prototype.hasOwnProperty.call(x,n)&&(s=x[n]),o&&Object.prototype.hasOwnProperty.call(o,t)&&null!==o[t]){var l=o[t];a="@:"===l.substr(0,2)?g(l.substr(2),e,n,i,r):(a=s.interpolate(l,e,"filter",r,t),T(t,l,a,e,i,r))}else{var u;L&&!w&&(u=S(t,e,r)),a=i&&A&&A.length?f((y=0)<b?b:y,t,e,s,r):L&&!w&&u?u:C(t)}return a},T=function(t,e,n,i,r,a){var o=z;return o&&("string"==typeof o&&(o=s.get(o)),o)?o(t,e,n,i,r,a):n},m=function(t){W[t]||!V||d[t]||(d[t]=u(t).then(function(t){return ut(t.key,t.table),t}))};k.preferredLanguage=function(t){return t&&dt(t),P},k.cloakClassName=function(){return X},k.allowNamespaces=function(){return J},k.nestedObjectDelimeter=function(){return tt},k.fallbackLanguage=function(t){if(null!=t){if(ht(t),V&&A&&A.length)for(var e=0,n=A.length;e<n;e++)d[A[e]]||(d[A[e]]=u(A[e]));k.use(k.use())}return R?A[0]:A},k.useFallbackLanguage=function(t){if(null!=t)if(t){var e=ot(A,t);-1<e&&(b=e)}else b=0},k.proposedLanguage=function(){return F},k.storage=function(){return a},k.negotiateLocale=lt,k.use=function(e){if(!e)return I;var n=v.defer();n.promise.then(null,angular.noop),o.$emit("$translateChangeStart",{language:e});var t=lt(e);return 0<q.length&&!t?v.reject(e):(t&&(e=t),F=e,!Q&&W[e]||!V||d[e]?d[e]?d[e].then(function(t){return F===t.key&&l(t.key),n.resolve(t.key),t},function(t){return!I&&A&&0<A.length&&A[0]!==t?k.use(A[0]).then(n.resolve,n.reject):n.reject(t)}):(n.resolve(e),l(e)):(d[e]=u(e).then(function(t){return ut(t.key,t.table),n.resolve(t.key),F===e&&l(t.key),t},function(t){return o.$emit("$translateChangeError",{language:t}),n.reject(t),o.$emit("$translateChangeEnd",{language:t}),v.reject(t)}),d[e].finally(function(){var t;F===(t=e)&&(F=void 0),d[t]=void 0}).catch(angular.noop)),n.promise)},k.resolveClientLocale=function(){return at()},k.storageKey=function(){return ft()},k.isPostCompilingEnabled=function(){return K},k.isForceAsyncReloadEnabled=function(){return Q},k.isKeepContent=function(){return nt},k.refresh=function(t){if(!V)throw new Error("Couldn't refresh translation table, no loader registered!");o.$emit("$translateRefreshStart",{language:t});var e=v.defer(),n={};function i(e){var t=u(e);return(d[e]=t).then(function(t){W[e]={},ut(e,t.table),n[e]=!0},angular.noop),t}if(e.promise.then(function(){for(var t in W)W.hasOwnProperty(t)&&(t in n||delete W[t]);I&&l(I)},angular.noop).finally(function(){o.$emit("$translateRefreshEnd",{language:t})}),t)W[t]?i(t).then(e.resolve,e.reject):e.reject();else{var r=A&&A.slice()||[];I&&-1===r.indexOf(I)&&r.push(I),v.all(r.map(i)).then(e.resolve,e.reject)}return e.promise},k.instant=function(t,e,n,i,r){var a=i&&i!==I?lt(i)||i:I;if(null===t||angular.isUndefined(t))return t;if(i&&m(i),angular.isArray(t)){for(var o={},s=0,l=t.length;s<l;s++)o[t[s]]=k.instant(t[s],e,n,i,r);return o}if(angular.isString(t)&&t.length<1)return t;t&&(t=st.apply(t));var u,c,d=[];P&&d.push(P),a&&d.push(a),A&&A.length&&(d=d.concat(A));for(var h=0,f=d.length;h<f;h++){var p=d[h];if(W[p]&&void 0!==W[p][t]&&(u=g(t,e,n,a,r)),void 0!==u)break}return u||""===u||(B||Y?u=C(t):(u=_.interpolate(t,e,"filter",r),L&&!w&&(c=S(t,e,r)),L&&!w&&c&&(u=c))),u},k.versionInfo=function(){return"2.19.0"},k.loaderCache=function(){return U},k.directivePriority=function(){return it},k.statefulFilter=function(){return rt},k.isReady=function(){return et};var n=v.defer();n.promise.then(function(){et=!0}),k.onReady=function(t){var e=v.defer();return angular.isFunction(t)&&e.promise.then(t),et?e.resolve():n.promise.then(e.resolve),e.promise},k.getAvailableLanguageKeys=function(){return 0<q.length?q:null},k.getTranslationTable=function(t){return(t=t||k.use())&&W[t]?angular.copy(W[t]):null};var i=o.$on("$translateReady",function(){n.resolve(),i(),i=null}),r=o.$on("$translateChangeEnd",function(){n.resolve(),r(),r=null});if(V){if(angular.equals(W,{})&&k.use()&&k.use(k.use()),A&&A.length)for(var M=function(t){return ut(t.key,t.table),o.$emit("$translateChangeEnd",{language:t.key}),t},$=0,O=A.length;$<O;$++){var E=A[$];!Q&&W[E]||(d[E]=u(E).then(M))}}else o.$emit("$translateReady",{language:k.use()});return k}]}function n(o,s){"use strict";var t={setLocale:function(t){},getInterpolationIdentifier:function(){return"default"},useSanitizeValueStrategy:function(t){return s.useStrategy(t),this},interpolate:function(t,e,n,i,r){var a;return e=e||{},e=s.sanitize(e,"params",i,n),angular.isNumber(t)?""+t:angular.isString(t)?(a=o(t)(e),s.sanitize(a,"text",i,n)):""}};return t}function i(w,x,k,C,S){"use strict";var D=function(t){return angular.isString(t)?t.toLowerCase():t};return{restrict:"AE",scope:!0,priority:w.directivePriority(),compile:function(t,p){var g=p.translateValues?p.translateValues:void 0,m=p.translateInterpolation?p.translateInterpolation:void 0,v=p.translateSanitizeStrategy?p.translateSanitizeStrategy:void 0,y=t[0].outerHTML.match(/translate-value-+/i),b="^(.*)("+x.startSymbol()+".*"+x.endSymbol()+")(.*)",_="^(.*)"+x.startSymbol()+"(.*)"+x.endSymbol()+"(.*)";return function(r,l,u){r.interpolateParams={},r.preText="",r.postText="",r.translateNamespace=function t(e){return e.translateNamespace?e.translateNamespace:e.$parent?t(e.$parent):void 0}(r);var a={},o=function(t){if(angular.isFunction(o._unwatchOld)&&(o._unwatchOld(),o._unwatchOld=void 0),angular.equals(t,"")||!angular.isDefined(t)){var e=function(){return this.toString().replace(/^\s+|\s+$/g,"")}.apply(l.text()).replace(/\n/g," "),n=e.match(b);if(angular.isArray(n)){r.preText=n[1],r.postText=n[3],a.translate=x(n[2])(r.$parent);var i=e.match(_);angular.isArray(i)&&i[2]&&i[2].length&&(o._unwatchOld=r.$watch(i[2],function(t){a.translate=t,c()}))}else a.translate=e||void 0}else a.translate=t;c()},t=function(e){u.$observe(e,function(t){a[e]=t,c()})};!function(t,e,n){if(e.translateValues&&angular.extend(t,C(e.translateValues)(r.$parent)),y)for(var i in n)Object.prototype.hasOwnProperty.call(e,i)&&"translateValue"===i.substr(0,14)&&"translateValues"!==i&&(t[D(i.substr(14,1))+i.substr(15)]=n[i])}(r.interpolateParams,u,p);var e=!0;for(var n in u.$observe("translate",function(t){void 0===t?o(""):""===t&&e||(a.translate=t,c()),e=!1}),u)u.hasOwnProperty(n)&&"translateAttr"===n.substr(0,13)&&13<n.length&&t(n);if(u.$observe("translateDefault",function(t){r.defaultText=t,c()}),v&&u.$observe("translateSanitizeStrategy",function(t){r.sanitizeStrategy=C(t)(r.$parent),c()}),g&&u.$observe("translateValues",function(t){t&&r.$parent.$watch(function(){angular.extend(r.interpolateParams,C(t)(r.$parent))})}),y){var i=function(n){u.$observe(n,function(t){var e=D(n.substr(14,1))+n.substr(15);r.interpolateParams[e]=t})};for(var s in u)Object.prototype.hasOwnProperty.call(u,s)&&"translateValue"===s.substr(0,14)&&"translateValues"!==s&&i(s)}var c=function(){for(var t in a)a.hasOwnProperty(t)&&void 0!==a[t]&&d(t,a[t],r,r.interpolateParams,r.defaultText,r.translateNamespace)},d=function(e,t,n,i,r,a){t?(a&&"."===t.charAt(0)&&(t=a+t),w(t,i,m,r,n.translateLanguage,n.sanitizeStrategy).then(function(t){h(t,n,!0,e)},function(t){h(t,n,!1,e)})):h(t,n,!1,e)},h=function(t,e,n,i){if(n||void 0!==e.defaultText&&(t=e.defaultText),"translate"===i){(n||!n&&!w.isKeepContent()&&void 0===u.translateKeepContent)&&l.empty().append(e.preText+t+e.postText);var r=w.isPostCompilingEnabled(),a=void 0!==p.translateCompile,o=a&&"false"!==p.translateCompile;(r&&!a||o)&&k(l.contents())(e)}else{var s=u.$attr[i];"data-"===s.substr(0,5)&&(s=s.substr(5)),s=s.substr(15),l.attr(s,t)}};(g||y||u.translateDefault)&&r.$watch("interpolateParams",c,!0),r.$on("translateLanguageChanged",c);var f=S.$on("$translateChangeSuccess",c);l.text().length?u.translate?o(u.translate):o(""):u.translate&&o(u.translate),c(),r.$on("$destroy",f)}}}}function r(u,c){"use strict";return{restrict:"A",priority:u.directivePriority(),link:function(n,i,r){var a,o,s,l={},t=function(){angular.forEach(a,function(t,e){t&&(l[e]=!0,n.translateNamespace&&"."===t.charAt(0)&&(t=n.translateNamespace+t),u(t,o,r.translateInterpolation,void 0,n.translateLanguage,s).then(function(t){i.attr(e,t)},function(t){i.attr(e,t)}))}),angular.forEach(l,function(t,e){a[e]||(i.removeAttr(e),delete l[e])})};d(n,r.translateAttr,function(t){a=t},t),d(n,r.translateValues,function(t){o=t},t),d(n,r.translateSanitizeStrategy,function(t){s=t},t),r.translateValues&&n.$watch(r.translateValues,t,!0),n.$on("translateLanguageChanged",t);var e=c.$on("$translateChangeSuccess",t);t(),n.$on("$destroy",e)}}}function d(t,e,n,i){"use strict";e&&("::"===e.substr(0,2)?e=e.substr(2):t.$watch(e,function(t){n(t),i()},!0),n(t.$eval(e)))}function a(o,s){"use strict";return{compile:function(t){var a=function(t){t.addClass(o.cloakClassName())};return a(t),function(t,e,n){var i=function(t){t.removeClass(o.cloakClassName())}.bind(this,e),r=a.bind(this,e);n.translateCloak&&n.translateCloak.length?(n.$observe("translateCloak",function(t){o(t).then(i,r)}),s.$on("$translateChangeSuccess",function(){o(n.translateCloak).then(i,r)})):o.onReady(i)}}}}function o(){"use strict";return{restrict:"A",scope:!0,compile:function(){return{pre:function(t,e,n){t.translateNamespace=function t(e){return e.translateNamespace?e.translateNamespace:e.$parent?t(e.$parent):void 0}(t),t.translateNamespace&&"."===n.translateNamespace.charAt(0)?t.translateNamespace+=n.translateNamespace:t.translateNamespace=n.translateNamespace}}}}}function s(){"use strict";return{restrict:"A",scope:!0,compile:function(){return function(e,t,n){n.$observe("translateLanguage",function(t){e.translateLanguage=t}),e.$watch("translateLanguage",function(){e.$broadcast("translateLanguageChanged")})}}}}function l(a,o){"use strict";var t=function(t,e,n,i){if(!angular.isObject(e)){var r=this||{__SCOPE_IS_NOT_AVAILABLE:"More info at https://github.com/angular/angular.js/commit/8863b9d04c722b278fa93c5d66ad1e578ad6eb1f"};e=a(e)(r)}return o.instant(t,e,n,i)};return o.statefulFilter()&&(t.$stateful=!0),t}function u(t){"use strict";return t("translations")}return t.$inject=["e"],e.$inject=["t","r","e","i"],n.$inject=["s","o"],i.$inject=["S","L","w","j","C"],r.$inject=["u","c"],a.$inject=["s","o"],l.$inject=["i","s"],u.$inject=["t"],t.$inject=["$translate"],e.$inject=["$STORAGE_KEY","$windowProvider","$translateSanitizationProvider","pascalprechtTranslateOverrider"],n.$inject=["$interpolate","$translateSanitization"],i.$inject=["$translate","$interpolate","$compile","$parse","$rootScope"],r.$inject=["$translate","$rootScope"],a.$inject=["$translate","$rootScope"],l.$inject=["$parse","$translate"],u.$inject=["$cacheFactory"],angular.module("pascalprecht.translate",["ng"]).run(t),t.displayName="runTranslate",angular.module("pascalprecht.translate").provider("$translateSanitization",function(){"use strict";var n,i,h,f=null,p=!1,g=!1;(h={sanitize:function(t,e){return"text"===e&&(t=a(t)),t},escape:function(t,e){return"text"===e&&(t=r(t)),t},sanitizeParameters:function(t,e){return"params"===e&&(t=s(t,a)),t},escapeParameters:function(t,e){return"params"===e&&(t=s(t,r)),t},sce:function(t,e,n){return"text"===e?t=o(t):"params"===e&&"filter"!==n&&(t=s(t,r)),t},sceParameters:function(t,e){return"params"===e&&(t=s(t,o)),t}}).escaped=h.escapeParameters,this.addStrategy=function(t,e){return h[t]=e,this},this.removeStrategy=function(t){return delete h[t],this},this.useStrategy=function(t){return p=!0,f=t,this},this.$get=["$injector","$log",function(u,c){var e,d={};return u.has("$sanitize")&&(n=u.get("$sanitize")),u.has("$sce")&&(i=u.get("$sce")),{useStrategy:(e=this,function(t){e.useStrategy(t)}),sanitize:function(t,e,n,i){if(f||p||g||(c.warn("pascalprecht.translate.$translateSanitization: No sanitization strategy has been configured. This can have serious security implications. See http://angular-translate.github.io/docs/#/guide/19_security for details."),g=!0),n||null===n||(n=f),!n)return t;i||(i="service");var r,a,o,s,l=angular.isArray(n)?n:[n];return r=t,a=e,o=i,s=l,angular.forEach(s,function(e){if(angular.isFunction(e))r=e(r,a,o);else if(angular.isFunction(h[e]))r=h[e](r,a,o);else{if(!angular.isString(h[e]))throw new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+e+"'");if(!d[h[e]])try{d[h[e]]=u.get(h[e])}catch(t){throw d[h[e]]=function(){},new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+e+"'")}r=d[h[e]](r,a,o)}}),r}}}];var r=function(t){var e=angular.element("<div></div>");return e.text(t),e.html()},a=function(t){if(!n)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sanitize service. Either include the ngSanitize module (https://docs.angularjs.org/api/ngSanitize) or use a sanitization strategy which does not depend on $sanitize, such as 'escape'.");return n(t)},o=function(t){if(!i)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sce service.");return i.trustAsHtml(t)},s=function(t,n,i){if(angular.isDate(t))return t;if(angular.isObject(t)){var r=angular.isArray(t)?[]:{};if(i){if(-1<i.indexOf(t))throw new Error("pascalprecht.translate.$translateSanitization: Error cannot interpolate parameter due recursive object")}else i=[];return i.push(t),angular.forEach(t,function(t,e){angular.isFunction(t)||(r[e]=s(t,n,i))}),i.splice(-1,1),r}return angular.isNumber(t)?t:!0===t||!1===t?t:angular.isUndefined(t)||null===t?t:n(t)}}),angular.module("pascalprecht.translate").constant("pascalprechtTranslateOverrider",{}).provider("$translate",e),e.displayName="displayName",angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",n),n.displayName="$translateDefaultInterpolation",angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY"),angular.module("pascalprecht.translate").directive("translate",i),i.displayName="translateDirective",angular.module("pascalprecht.translate").directive("translateAttr",r),r.displayName="translateAttrDirective",angular.module("pascalprecht.translate").directive("translateCloak",a),a.displayName="translateCloakDirective",angular.module("pascalprecht.translate").directive("translateNamespace",o),o.displayName="translateNamespaceDirective",angular.module("pascalprecht.translate").directive("translateLanguage",s),s.displayName="translateLanguageDirective",angular.module("pascalprecht.translate").filter("translate",l),l.displayName="translateFilterFactory",angular.module("pascalprecht.translate").factory("$translationCache",u),u.displayName="$translationCache","pascalprecht.translate"}),function(t,e){"function"==typeof define&&define.amd?define([],function(){return e()}):"object"==typeof module&&module.exports?module.exports=e():e()}(0,function(){function t(a,o){"use strict";return function(n){if(!n||!(angular.isArray(n.files)||angular.isString(n.prefix)&&angular.isString(n.suffix)))throw new Error("Couldn't load static files, no files and prefix or suffix specified!");n.files||(n.files=[{prefix:n.prefix,suffix:n.suffix}]);for(var t=function(t){if(!t||!angular.isString(t.prefix)||!angular.isString(t.suffix))throw new Error("Couldn't load static file, no prefix or suffix specified!");var e=[t.prefix,n.key,t.suffix].join("");return angular.isObject(n.fileMap)&&n.fileMap[e]&&(e=n.fileMap[e]),o(angular.extend({url:e,method:"GET"},n.$http)).then(function(t){return t.data},function(){return a.reject(n.key)})},e=[],i=n.files.length,r=0;r<i;r++)e.push(t({prefix:n.files[r].prefix,key:n.key,suffix:n.files[r].suffix}));return a.all(e).then(function(t){for(var e=t.length,n={},i=0;i<e;i++)for(var r in t[i])n[r]=t[i][r];return n})}}return t.$inject=["n","a"],t.$inject=["$q","$http"],angular.module("pascalprecht.translate").factory("$translateStaticFilesLoader",t),t.displayName="$translateStaticFilesLoader","pascalprecht.translate"}),function(t,e){"function"==typeof define&&define.amd?define([],function(){return e()}):"object"==typeof module&&module.exports?module.exports=e():e()}(0,function(){function t(t){"use strict";var n;if(1===angular.version.major&&4<=angular.version.minor){var i=t.get("$cookies");n={get:function(t){return i.get(t)},put:function(t,e){i.put(t,e,{samesite:"lax"})}}}else{var r=t.get("$cookieStore");n={get:function(t){return r.get(t)},put:function(t,e){r.put(t,e)}}}return{get:function(t){return n.get(t)},set:function(t,e){n.put(t,e)},put:function(t,e){n.put(t,e)}}}return t.$inject=["t"],t.$inject=["$injector"],angular.module("pascalprecht.translate").factory("$translateCookieStorage",t),t.displayName="$translateCookieStorage","pascalprecht.translate"}),function(t,e){"function"==typeof define&&define.amd?define([],function(){return e()}):"object"==typeof module&&module.exports?module.exports=e():e()}(0,function(){function t(n,t){"use strict";var i,e={get:function(t){return i||(i=n.localStorage.getItem(t)),i},set:function(t,e){i=e,n.localStorage.setItem(t,e)},put:function(t,e){i=e,n.localStorage.setItem(t,e)}},r="localStorage"in n;if(r){var a="pascalprecht.translate.storageTest";try{r=null!==n.localStorage&&(n.localStorage.setItem(a,"foo"),n.localStorage.removeItem(a),!0)}catch(t){r=!1}}return r?e:t}return t.$inject=["a","t"],t.$inject=["$window","$translateCookieStorage"],angular.module("pascalprecht.translate").factory("$translateLocalStorage",t),t.displayName="$translateLocalStorageFactory","pascalprecht.translate"}),function(t){var w="application/x-dnd",x="application/json",k="Text",C=["move","copy","link"];function S(t,e){return"all"==e?t:t.filter(function(t){return-1!=e.toLowerCase().indexOf(t)})}t.directive("dndDraggable",["$parse","$timeout",function(u,c){return function(o,s,l){s.attr("draggable","true"),l.dndDisableIf&&o.$watch(l.dndDisableIf,function(t){s.attr("draggable",!t)}),s.on("dragstart",function(e){if(e=e.originalEvent||e,"false"==s.attr("draggable"))return!0;D.isDragging=!0,D.itemType=l.dndType&&o.$eval(l.dndType).toLowerCase(),D.dropEffect="none",D.effectAllowed=l.dndEffectAllowed||C[0],e.dataTransfer.effectAllowed=D.effectAllowed;var n=o.$eval(l.dndDraggable),t=w+(D.itemType?"-"+D.itemType:"");try{e.dataTransfer.setData(t,angular.toJson(n))}catch(t){var i=angular.toJson({item:n,type:D.itemType});try{e.dataTransfer.setData(x,i)}catch(t){var r=S(C,D.effectAllowed);e.dataTransfer.effectAllowed=r[0],e.dataTransfer.setData(k,i)}}if(s.addClass("dndDragging"),c(function(){s.addClass("dndDraggingSource")},0),e._dndHandle&&e.dataTransfer.setDragImage&&e.dataTransfer.setDragImage(s[0],0,0),u(l.dndDragstart)(o,{event:e}),l.dndCallback){var a=u(l.dndCallback);D.callback=function(t){return a(o,t||{})}}e.stopPropagation()}),s.on("dragend",function(e){e=e.originalEvent||e,o.$apply(function(){var t=D.dropEffect;u(l[{copy:"dndCopied",link:"dndLinked",move:"dndMoved",none:"dndCanceled"}[t]])(o,{event:e}),u(l.dndDragend)(o,{event:e,dropEffect:t})}),D.isDragging=!1,D.callback=void 0,s.removeClass("dndDragging"),s.removeClass("dndDraggingSource"),e.stopPropagation(),c(function(){s.removeClass("dndDraggingSource")},0)}),s.on("click",function(t){l.dndSelected&&(t=t.originalEvent||t,o.$apply(function(){u(l.dndSelected)(o,{event:t})}),t.stopPropagation())}),s.on("selectstart",function(){this.dragDrop&&this.dragDrop()})}}]),t.directive("dndList",["$parse",function(o){return function(s,l,u){var n,c=(angular.forEach(l.children(),function(t){var e=angular.element(t);e.hasClass("dndPlaceholder")&&(n=e)}),n||angular.element("<li class='dndPlaceholder'></li>"));c.remove();var d=c[0],h=l[0],f={};function p(t){if(!t)return k;for(var e=0;e<t.length;e++)if(t[e]==k||t[e]==x||t[e].substr(0,w.length)==w)return t[e];return null}function g(t){return D.isDragging?D.itemType||void 0:t==k||t==x?null:t&&t.substr(w.length+1)||void 0}function m(t){return!f.disabled&&(!(!f.externalSources&&!D.isDragging)&&(!f.allowedTypes||null===t||t&&-1!=f.allowedTypes.indexOf(t)))}function v(t,e){var n=C;return e||(n=S(n,t.dataTransfer.effectAllowed)),D.isDragging&&(n=S(n,D.effectAllowed)),u.dndEffectAllowed&&(n=S(n,u.dndEffectAllowed)),n.length?t.ctrlKey&&-1!=n.indexOf("copy")?"copy":t.altKey&&-1!=n.indexOf("link")?"link":n[0]:"none"}function y(){return c.remove(),l.removeClass("dndDragover"),!0}function b(t,e,n,i,r,a){return o(t)(s,{callback:D.callback,dropEffect:n,event:e,external:!D.isDragging,index:void 0!==r?r:_(),item:a||void 0,type:i})}function _(){return Array.prototype.indexOf.call(h.children,d)}l.on("dragenter",function(t){t=t.originalEvent||t;var e=u.dndAllowedTypes&&s.$eval(u.dndAllowedTypes);f={allowedTypes:angular.isArray(e)&&e.join("|").toLowerCase().split("|"),disabled:u.dndDisableIf&&s.$eval(u.dndDisableIf),externalSources:u.dndExternalSources&&s.$eval(u.dndExternalSources),horizontal:u.dndHorizontalList&&s.$eval(u.dndHorizontalList)};var n=p(t.dataTransfer.types);if(!n||!m(g(n)))return!0;t.preventDefault()}),l.on("dragover",function(t){var e=p((t=t.originalEvent||t).dataTransfer.types),n=g(e);if(!e||!m(n))return!0;if(d.parentNode!=h&&l.append(c),t.target!=h){for(var i=t.target;i.parentNode!=h&&i.parentNode;)i=i.parentNode;if(i.parentNode==h&&i!=d){var r=i.getBoundingClientRect();if(f.horizontal)var a=t.clientX<r.left+r.width/2;else a=t.clientY<r.top+r.height/2;h.insertBefore(d,a?i:i.nextSibling)}}var o=e==k,s=v(t,o);return"none"==s?y():u.dndDragover&&!b(u.dndDragover,t,s,n)?y():(t.preventDefault(),o||(t.dataTransfer.dropEffect=s),l.addClass("dndDragover"),t.stopPropagation(),!1)}),l.on("drop",function(t){var e=p((t=t.originalEvent||t).dataTransfer.types),n=g(e);if(!e||!m(n))return!0;t.preventDefault();try{var i=JSON.parse(t.dataTransfer.getData(e))}catch(t){return y()}if((e==k||e==x)&&(n=i.type||void 0,i=i.item,!m(n)))return y();var r=e==k,a=v(t,r);if("none"==a)return y();var o=_();return u.dndDrop&&!(i=b(u.dndDrop,t,a,n,o,i))?y():(D.dropEffect=a,r||(t.dataTransfer.dropEffect=a),!0!==i&&s.$apply(function(){s.$eval(u.dndList).splice(o,0,i)}),b(u.dndInserted,t,a,n,o,i),y(),t.stopPropagation(),!1)}),l.on("dragleave",function(t){t=t.originalEvent||t;var e=document.elementFromPoint(t.clientX,t.clientY);h.contains(e)&&!t._dndPhShown?t._dndPhShown=!0:y()})}}]),t.directive("dndNodrag",function(){return function(t,e,n){e.attr("draggable","true"),e.on("dragstart",function(t){(t=t.originalEvent||t)._dndHandle||(t.dataTransfer.types&&t.dataTransfer.types.length||t.preventDefault(),t.stopPropagation())}),e.on("dragend",function(t){(t=t.originalEvent||t)._dndHandle||t.stopPropagation()})}}),t.directive("dndHandle",function(){return function(t,e,n){e.attr("draggable","true"),e.on("dragstart dragend",function(t){(t=t.originalEvent||t)._dndHandle=!0})}});var D={}}(angular.module("dndLists",[])),function(){var s,n,r,o,i=function(t,e){return function(){return t.apply(e,arguments)}},a={}.hasOwnProperty;(o=function(){function t(){this.options_index=0,this.parsed=[]}return t.prototype.add_node=function(t){return"OPTGROUP"===t.nodeName.toUpperCase()?this.add_group(t):this.add_option(t)},t.prototype.add_group=function(t){var e,n,i,r,a,o;for(e=this.parsed.length,this.parsed.push({array_index:e,group:!0,label:t.label,title:t.title?t.title:void 0,children:0,disabled:t.disabled,classes:t.className}),o=[],n=0,i=(a=t.childNodes).length;n<i;n++)r=a[n],o.push(this.add_option(r,e,t.disabled));return o},t.prototype.add_option=function(t,e,n){if("OPTION"===t.nodeName.toUpperCase())return""!==t.text?(null!=e&&(this.parsed[e].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:t.value,text:t.text,html:t.innerHTML,title:t.title?t.title:void 0,selected:t.selected,disabled:!0===n?n:t.disabled,group_array_index:e,group_label:null!=e?this.parsed[e].label:null,classes:t.className,style:t.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1},t}()).select_to_array=function(t){var e,n,i,r,a;for(r=new o,n=0,i=(a=t.childNodes).length;n<i;n++)e=a[n],r.add_node(e);return r.parsed},n=function(){function n(t,e){this.form_field=t,this.options=null!=e?e:{},this.label_click_handler=i(this.label_click_handler,this),n.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers(),this.on_ready())}return n.prototype.set_default_values=function(){return this.click_test_action=(n=this,function(t){return n.test_active_click(t)}),this.activate_action=(e=this,function(t){return e.activate_field(t)}),this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.is_rtl=this.options.rtl||/\bchosen-rtl\b/.test(this.form_field.className),this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text&&this.options.allow_single_deselect,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null==this.options.enable_split_word_search||this.options.enable_split_word_search,this.group_search=null==this.options.group_search||this.options.group_search,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null==this.options.single_backstroke_delete||this.options.single_backstroke_delete,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null==this.options.display_selected_options||this.options.display_selected_options,this.display_disabled_options=null==this.options.display_disabled_options||this.options.display_disabled_options,this.include_group_label_in_selected=this.options.include_group_label_in_selected||!1,this.max_shown_results=this.options.max_shown_results||Number.POSITIVE_INFINITY,this.case_sensitive_search=this.options.case_sensitive_search||!1,this.hide_results_on_select=null==this.options.hide_results_on_select||this.options.hide_results_on_select;var e,n},n.prototype.set_default_text=function(){return this.form_field.getAttribute("data-placeholder")?this.default_text=this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||n.default_multiple_text:this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||n.default_single_text,this.default_text=this.escape_html(this.default_text),this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||n.default_no_result_text},n.prototype.choice_label=function(t){return this.include_group_label_in_selected&&null!=t.group_label?"<b class='group-name'>"+this.escape_html(t.group_label)+"</b>"+t.html:t.html},n.prototype.mouse_enter=function(){return this.mouse_on_container=!0},n.prototype.mouse_leave=function(){return this.mouse_on_container=!1},n.prototype.input_focus=function(t){if(this.is_multiple){if(!this.active_field)return setTimeout((e=this,function(){return e.container_mousedown()}),50)}else if(!this.active_field)return this.activate_field();var e},n.prototype.input_blur=function(t){if(!this.mouse_on_container)return this.active_field=!1,setTimeout((e=this,function(){return e.blur_test()}),100);var e},n.prototype.label_click_handler=function(t){return this.is_multiple?this.container_mousedown(t):this.activate_field()},n.prototype.results_option_build=function(t){var e,n,i,r,a,o,s;for(e="",r=s=0,a=(o=this.results_data).length;r<a&&(""!==(i=(n=o[r]).group?this.result_add_group(n):this.result_add_option(n))&&(s++,e+=i),(null!=t?t.first:void 0)&&(n.selected&&this.is_multiple?this.choice_build(n):n.selected&&!this.is_multiple&&this.single_set_selected_text(this.choice_label(n))),!(s>=this.max_shown_results));r++);return e},n.prototype.result_add_option=function(t){var e,n;return t.search_match&&this.include_option_in_results(t)?(e=[],t.disabled||t.selected&&this.is_multiple||e.push("active-result"),!t.disabled||t.selected&&this.is_multiple||e.push("disabled-result"),t.selected&&e.push("result-selected"),null!=t.group_array_index&&e.push("group-option"),""!==t.classes&&e.push(t.classes),(n=document.createElement("li")).className=e.join(" "),t.style&&(n.style.cssText=t.style),n.setAttribute("data-option-array-index",t.array_index),n.innerHTML=t.highlighted_html||t.html,t.title&&(n.title=t.title),this.outerHTML(n)):""},n.prototype.result_add_group=function(t){var e,n;return(t.search_match||t.group_match)&&0<t.active_options?((e=[]).push("group-result"),t.classes&&e.push(t.classes),(n=document.createElement("li")).className=e.join(" "),n.innerHTML=t.highlighted_html||this.escape_html(t.label),t.title&&(n.title=t.title),this.outerHTML(n)):""},n.prototype.results_update_field=function(){if(this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing)return this.winnow_results()},n.prototype.reset_single_select_options=function(){var t,e,n,i,r;for(r=[],t=0,e=(n=this.results_data).length;t<e;t++)(i=n[t]).selected?r.push(i.selected=!1):r.push(void 0);return r},n.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},n.prototype.results_search=function(t){return this.results_showing?this.winnow_results():this.results_show()},n.prototype.winnow_results=function(t){var e,n,i,r,a,o,s,l,u,c,d,h,f,p,g;for(this.no_results_clear(),c=0,e=(s=this.get_search_text()).replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),u=this.get_search_regex(e),i=0,r=(l=this.results_data).length;i<r;i++)(a=l[i]).search_match=!1,h=d=null,a.highlighted_html="",this.include_option_in_results(a)&&(a.group&&(a.group_match=!1,a.active_options=0),null!=a.group_array_index&&this.results_data[a.group_array_index]&&(0===(d=this.results_data[a.group_array_index]).active_options&&d.search_match&&(c+=1),d.active_options+=1),g=a.group?a.label:a.text,a.group&&!this.group_search||(h=this.search_string_match(g,u),a.search_match=null!=h,a.search_match&&!a.group&&(c+=1),a.search_match?(s.length&&(f=h.index,o=g.slice(0,f),n=g.slice(f,f+s.length),p=g.slice(f+s.length),a.highlighted_html=this.escape_html(o)+"<em>"+this.escape_html(n)+"</em>"+this.escape_html(p)),null!=d&&(d.group_match=!0)):null!=a.group_array_index&&this.results_data[a.group_array_index].search_match&&(a.search_match=!0)));return this.result_clear_highlight(),c<1&&s.length?(this.update_results_content(""),this.no_results(s)):(this.update_results_content(this.results_option_build()),(null!=t?t.skip_highlight:void 0)?void 0:this.winnow_results_set_highlight())},n.prototype.get_search_regex=function(t){var e,n;return n=this.search_contains?t:"(^|\\s|\\b)"+t+"[^\\s]*",this.enable_split_word_search||this.search_contains||(n="^"+n),e=this.case_sensitive_search?"":"i",new RegExp(n,e)},n.prototype.search_string_match=function(t,e){var n;return n=e.exec(t),!this.search_contains&&(null!=n?n[1]:void 0)&&(n.index+=1),n},n.prototype.choices_count=function(){var t,e,n;if(null!=this.selected_option_count)return this.selected_option_count;for(t=this.selected_option_count=0,e=(n=this.form_field.options).length;t<e;t++)n[t].selected&&(this.selected_option_count+=1);return this.selected_option_count},n.prototype.choices_click=function(t){if(t.preventDefault(),this.activate_field(),!this.results_showing&&!this.is_disabled)return this.results_show()},n.prototype.keydown_checker=function(t){var e,n;switch(n=null!=(e=t.which)?e:t.keyCode,this.search_field_scale(),8!==n&&this.pending_backstroke&&this.clear_backstroke(),n){case 8:this.backstroke_length=this.get_search_field_value().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(t),this.mouse_on_container=!1;break;case 13:case 27:this.results_showing&&t.preventDefault();break;case 32:this.disable_search&&t.preventDefault();break;case 38:t.preventDefault(),this.keyup_arrow();break;case 40:t.preventDefault(),this.keydown_arrow()}},n.prototype.keyup_checker=function(t){var e,n;switch(n=null!=(e=t.which)?e:t.keyCode,this.search_field_scale(),n){case 8:this.is_multiple&&this.backstroke_length<1&&0<this.choices_count()?this.keydown_backstroke():this.pending_backstroke||(this.result_clear_highlight(),this.results_search());break;case 13:t.preventDefault(),this.results_showing&&this.result_select(t);break;case 27:this.results_showing&&this.results_hide();break;case 9:case 16:case 17:case 18:case 38:case 40:case 91:break;default:this.results_search()}},n.prototype.clipboard_event_checker=function(t){if(!this.is_disabled)return setTimeout((e=this,function(){return e.results_search()}),50);var e},n.prototype.container_width=function(){return null!=this.options.width?this.options.width:this.form_field.offsetWidth+"px"},n.prototype.include_option_in_results=function(t){return!(this.is_multiple&&!this.display_selected_options&&t.selected||!this.display_disabled_options&&t.disabled||t.empty)},n.prototype.search_results_touchstart=function(t){return this.touch_started=!0,this.search_results_mouseover(t)},n.prototype.search_results_touchmove=function(t){return this.touch_started=!1,this.search_results_mouseout(t)},n.prototype.search_results_touchend=function(t){if(this.touch_started)return this.search_results_mouseup(t)},n.prototype.outerHTML=function(t){var e;return t.outerHTML?t.outerHTML:((e=document.createElement("div")).appendChild(t),e.innerHTML)},n.prototype.get_single_html=function(){return'<a class="chosen-single chosen-default">\n  <span>'+this.default_text+'</span>\n  <div><b></b></div>\n</a>\n<div class="chosen-drop">\n  <div class="chosen-search">\n    <input class="chosen-search-input" type="text" autocomplete="off" />\n  </div>\n  <ul class="chosen-results"></ul>\n</div>'},n.prototype.get_multi_html=function(){return'<ul class="chosen-choices">\n  <li class="search-field">\n    <input class="chosen-search-input" type="text" autocomplete="off" value="'+this.default_text+'" />\n  </li>\n</ul>\n<div class="chosen-drop">\n  <ul class="chosen-results"></ul>\n</div>'},n.prototype.get_no_results_html=function(t){return'<li class="no-results">\n  '+this.results_none_found+" <span>"+this.escape_html(t)+"</span>\n</li>"},n.browser_is_supported=function(){return"Microsoft Internet Explorer"===window.navigator.appName?8<=document.documentMode:!(/iP(od|hone)/i.test(window.navigator.userAgent)||/IEMobile/i.test(window.navigator.userAgent)||/Windows Phone/i.test(window.navigator.userAgent)||/BlackBerry/i.test(window.navigator.userAgent)||/BB10/i.test(window.navigator.userAgent)||/Android.*Mobile/i.test(window.navigator.userAgent))},n.default_multiple_text="Select Some Options",n.default_single_text="Select an Option",n.default_no_result_text="No results match",n}(),(s=jQuery).fn.extend({chosen:function(i){return n.browser_is_supported()?this.each(function(t){var e,n;n=(e=s(this)).data("chosen"),"destroy"!==i?n instanceof r||e.data("chosen",new r(this,i)):n instanceof r&&n.destroy()}):this}}),r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return function(t,e){function n(){this.constructor=t}for(var i in e)a.call(e,i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,n),e.prototype.setup=function(){return this.form_field_jq=s(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex},e.prototype.set_up_html=function(){var t,e;return(t=["chosen-container"]).push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&t.push(this.form_field.className),this.is_rtl&&t.push("chosen-rtl"),e={class:t.join(" "),title:this.form_field.title},this.form_field.id.length&&(e.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=s("<div />",e),this.container.width(this.container_width()),this.is_multiple?this.container.html(this.get_multi_html()):this.container.html(this.get_single_html()),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior()},e.prototype.on_ready=function(){return this.form_field_jq.trigger("chosen:ready",{chosen:this})},e.prototype.register_observers=function(){return this.container.on("touchstart.chosen",(C=this,function(t){C.container_mousedown(t)})),this.container.on("touchend.chosen",(k=this,function(t){k.container_mouseup(t)})),this.container.on("mousedown.chosen",(x=this,function(t){x.container_mousedown(t)})),this.container.on("mouseup.chosen",(w=this,function(t){w.container_mouseup(t)})),this.container.on("mouseenter.chosen",(_=this,function(t){_.mouse_enter(t)})),this.container.on("mouseleave.chosen",(b=this,function(t){b.mouse_leave(t)})),this.search_results.on("mouseup.chosen",(y=this,function(t){y.search_results_mouseup(t)})),this.search_results.on("mouseover.chosen",(v=this,function(t){v.search_results_mouseover(t)})),this.search_results.on("mouseout.chosen",(m=this,function(t){m.search_results_mouseout(t)})),this.search_results.on("mousewheel.chosen DOMMouseScroll.chosen",(g=this,function(t){g.search_results_mousewheel(t)})),this.search_results.on("touchstart.chosen",(p=this,function(t){p.search_results_touchstart(t)})),this.search_results.on("touchmove.chosen",(f=this,function(t){f.search_results_touchmove(t)})),this.search_results.on("touchend.chosen",(h=this,function(t){h.search_results_touchend(t)})),this.form_field_jq.on("chosen:updated.chosen",(d=this,function(t){d.results_update_field(t)})),this.form_field_jq.on("chosen:activate.chosen",(c=this,function(t){c.activate_field(t)})),this.form_field_jq.on("chosen:open.chosen",(u=this,function(t){u.container_mousedown(t)})),this.form_field_jq.on("chosen:close.chosen",(l=this,function(t){l.close_field(t)})),this.search_field.on("blur.chosen",(s=this,function(t){s.input_blur(t)})),this.search_field.on("keyup.chosen",(o=this,function(t){o.keyup_checker(t)})),this.search_field.on("keydown.chosen",(a=this,function(t){a.keydown_checker(t)})),this.search_field.on("focus.chosen",(r=this,function(t){r.input_focus(t)})),this.search_field.on("cut.chosen",(i=this,function(t){i.clipboard_event_checker(t)})),this.search_field.on("paste.chosen",(n=this,function(t){n.clipboard_event_checker(t)})),this.is_multiple?this.search_choices.on("click.chosen",(e=this,function(t){e.choices_click(t)})):this.container.on("click.chosen",function(t){t.preventDefault()});var e,n,i,r,a,o,s,l,u,c,d,h,f,p,g,m,v,y,b,_,w,x,k,C},e.prototype.destroy=function(){return s(this.container[0].ownerDocument).off("click.chosen",this.click_test_action),0<this.form_field_label.length&&this.form_field_label.off("click.chosen"),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},e.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field.disabled||this.form_field_jq.parents("fieldset").is(":disabled"),this.container.toggleClass("chosen-disabled",this.is_disabled),this.search_field[0].disabled=this.is_disabled,this.is_multiple||this.selected_item.off("focus.chosen",this.activate_field),this.is_disabled?this.close_field():this.is_multiple?void 0:this.selected_item.on("focus.chosen",this.activate_field)},e.prototype.container_mousedown=function(t){var e;if(!this.is_disabled)return!t||"mousedown"!==(e=t.type)&&"touchstart"!==e||this.results_showing||t.preventDefault(),null!=t&&s(t.target).hasClass("search-choice-close")?void 0:(this.active_field?this.is_multiple||!t||s(t.target)[0]!==this.selected_item[0]&&!s(t.target).parents("a.chosen-single").length||(t.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),s(this.container[0].ownerDocument).on("click.chosen",this.click_test_action),this.results_show()),this.activate_field())},e.prototype.container_mouseup=function(t){if("ABBR"===t.target.nodeName&&!this.is_disabled)return this.results_reset(t)},e.prototype.search_results_mousewheel=function(t){var e;if(t.originalEvent&&(e=t.originalEvent.deltaY||-t.originalEvent.wheelDelta||t.originalEvent.detail),null!=e)return t.preventDefault(),"DOMMouseScroll"===t.type&&(e*=40),this.search_results.scrollTop(e+this.search_results.scrollTop())},e.prototype.blur_test=function(t){if(!this.active_field&&this.container.hasClass("chosen-container-active"))return this.close_field()},e.prototype.close_field=function(){return s(this.container[0].ownerDocument).off("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale(),this.search_field.blur()},e.prototype.activate_field=function(){if(!this.is_disabled)return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},e.prototype.test_active_click=function(t){var e;return(e=s(t.target).closest(".chosen-container")).length&&this.container[0]===e[0]?this.active_field=!0:this.close_field()},e.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=o.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},e.prototype.result_do_highlight=function(t){var e,n,i,r,a;if(t.length){if(this.result_clear_highlight(),this.result_highlight=t,this.result_highlight.addClass("highlighted"),r=(i=parseInt(this.search_results.css("maxHeight"),10))+(a=this.search_results.scrollTop()),(e=(n=this.result_highlight.position().top+this.search_results.scrollTop())+this.result_highlight.outerHeight())>=r)return this.search_results.scrollTop(0<e-i?e-i:0);if(n<a)return this.search_results.scrollTop(n)}},e.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},e.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.get_search_field_value()),this.winnow_results(),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}))},e.prototype.update_results_content=function(t){return this.search_results.html(t)},e.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},e.prototype.set_tab_index=function(t){var e;if(this.form_field.tabIndex)return e=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=e},e.prototype.set_label_behavior=function(){if(this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=s("label[for='"+this.form_field.id+"']")),0<this.form_field_label.length)return this.form_field_label.on("click.chosen",this.label_click_handler)},e.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},e.prototype.search_results_mouseup=function(t){var e;if((e=s(t.target).hasClass("active-result")?s(t.target):s(t.target).parents(".active-result").first()).length)return this.result_highlight=e,this.result_select(t),this.search_field.focus()},e.prototype.search_results_mouseover=function(t){var e;if(e=s(t.target).hasClass("active-result")?s(t.target):s(t.target).parents(".active-result").first())return this.result_do_highlight(e)},e.prototype.search_results_mouseout=function(t){if(s(t.target).hasClass("active-result")||s(t.target).parents(".active-result").first())return this.result_clear_highlight()},e.prototype.choice_build=function(t){var e,n,i;return e=s("<li />",{class:"search-choice"}).html("<span>"+this.choice_label(t)+"</span>"),t.disabled?e.addClass("search-choice-disabled"):((n=s("<a />",{class:"search-choice-close","data-option-array-index":t.array_index})).on("click.chosen",(i=this,function(t){return i.choice_destroy_link_click(t)})),e.append(n)),this.search_container.before(e)},e.prototype.choice_destroy_link_click=function(t){if(t.preventDefault(),t.stopPropagation(),!this.is_disabled)return this.choice_destroy(s(t.target))},e.prototype.choice_destroy=function(t){if(this.result_deselect(t[0].getAttribute("data-option-array-index")))return this.active_field?this.search_field.focus():this.show_search_field_default(),this.is_multiple&&0<this.choices_count()&&this.get_search_field_value().length<1&&this.results_hide(),t.parents("li").first().remove(),this.search_field_scale()},e.prototype.results_reset=function(){if(this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.trigger_form_field_change(),this.active_field)return this.results_hide()},e.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},e.prototype.result_select=function(t){var e,n;if(this.result_highlight)return e=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?e.removeClass("active-result"):this.reset_single_select_options(),e.addClass("result-selected"),(n=this.results_data[e[0].getAttribute("data-option-array-index")]).selected=!0,this.form_field.options[n.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(n):this.single_set_selected_text(this.choice_label(n)),this.is_multiple&&(!this.hide_results_on_select||t.metaKey||t.ctrlKey)?t.metaKey||t.ctrlKey?this.winnow_results({skip_highlight:!0}):(this.search_field.val(""),this.winnow_results()):(this.results_hide(),this.show_search_field_default()),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.trigger_form_field_change({selected:this.form_field.options[n.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,t.preventDefault(),this.search_field_scale())},e.prototype.single_set_selected_text=function(t){return null==t&&(t=this.default_text),t===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").html(t)},e.prototype.result_deselect=function(t){var e;return e=this.results_data[t],!this.form_field.options[e.options_index].disabled&&(e.selected=!1,this.form_field.options[e.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.trigger_form_field_change({deselected:this.form_field.options[e.options_index].value}),this.search_field_scale(),!0)},e.prototype.single_deselect_control_build=function(){if(this.allow_single_deselect)return this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")},e.prototype.get_search_field_value=function(){return this.search_field.val()},e.prototype.get_search_text=function(){return s.trim(this.get_search_field_value())},e.prototype.escape_html=function(t){return s("<div/>").text(t).html()},e.prototype.winnow_results_set_highlight=function(){var t,e;if(null!=(t=(e=this.is_multiple?[]:this.search_results.find(".result-selected.active-result")).length?e.first():this.search_results.find(".active-result").first()))return this.result_do_highlight(t)},e.prototype.no_results=function(t){var e;return e=this.get_no_results_html(t),this.search_results.append(e),this.form_field_jq.trigger("chosen:no_results",{chosen:this})},e.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},e.prototype.keydown_arrow=function(){var t;return this.results_showing&&this.result_highlight?(t=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(t):void 0:this.results_show()},e.prototype.keyup_arrow=function(){var t;return this.results_showing||this.is_multiple?this.result_highlight?(t=this.result_highlight.prevAll("li.active-result")).length?this.result_do_highlight(t.first()):(0<this.choices_count()&&this.results_hide(),this.result_clear_highlight()):void 0:this.results_show()},e.prototype.keydown_backstroke=function(){var t;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(t=this.search_container.siblings("li.search-choice").last()).length&&!t.hasClass("search-choice-disabled")?(this.pending_backstroke=t,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0},e.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},e.prototype.search_field_scale=function(){var t,e,n,i,r,a,o;if(this.is_multiple){for(r={position:"absolute",left:"-1000px",top:"-1000px",display:"none",whiteSpace:"pre"},e=0,n=(a=["fontSize","fontStyle","fontWeight","fontFamily","lineHeight","textTransform","letterSpacing"]).length;e<n;e++)r[i=a[e]]=this.search_field.css(i);return(t=s("<div />").css(r)).text(this.get_search_field_value()),s("body").append(t),o=t.width()+25,t.remove(),this.container.is(":visible")&&(o=Math.min(this.container.outerWidth()-10,o)),this.search_field.width(o)}},e.prototype.trigger_form_field_change=function(t){return this.form_field_jq.trigger("input",t),this.form_field_jq.trigger("change",t)},e}()}.call(this),function(){var t,T=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};angular.module("localytics.directives",[]),(t=angular.module("localytics.directives")).provider("chosen",function(){var e;return e={},{setOption:function(t){angular.extend(e,t)},$get:function(){return e}}}),t.directive("chosen",["chosen","$timeout","$parse",function(_,w,x){var k,C,S,D;return C=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,k=["allowSingleDeselect","disableSearch","disableSearchThreshold","enableSplitWordSearch","inheritSelectClasses","maxSelectedOptions","noResultsText","placeholderTextMultiple","placeholderTextSingle","searchContains","groupSearch","singleBackstrokeDelete","width","displayDisabledOptions","displaySelectedOptions","includeGroupLabelInSelected","maxShownResults","caseSensitiveSearch","hideResultsOnSelect","rtl"],D=function(t){return t.replace(/[A-Z]/g,function(t){return"_"+t.toLowerCase()})},S=function(t){var e;if(angular.isArray(t))return 0===t.length;if(angular.isObject(t))for(e in t)if(t.hasOwnProperty(e))return!1;return!0},{restrict:"A",require:["select","?ngModel"],priority:1,link:function(i,r,a,t){var n,e,o,s,l,u,c,d,h,f,p,g,m,v,y,b;if(i.disabledValuesHistory=i.disabledValuesHistory?i.disabledValuesHistory:[],(r=$(r)).addClass("localytics-chosen"),h=t[0],d=t[1],y=(c=a.ngOptions&&a.ngOptions.match(C))&&x(c[7]),v=c&&c[8],o=i.$eval(a.chosen)||{},f=angular.copy(_),angular.extend(f,o),angular.forEach(a,function(t,n){if(0<=T.call(k,n))return a.$observe(n,function(t){var e;return e=String(r.attr(a.$attr[n])).slice(0,2),f[D(n)]="{{"===e?t:i.$eval(t),s()})}),p=function(){return r.addClass("loading").attr("disabled",!0).trigger("chosen:updated")},e=null,l=!(g=function(){return r.removeClass("loading"),angular.isDefined(a.disabled)?r.attr("disabled",a.disabled):r.attr("disabled",!1),r.trigger("chosen:updated")}),u=function(){if(!e)return i.$evalAsync(function(){if(!e)return e=r.chosen(f).data("chosen")})},s=function(){return e&&l&&r.attr("disabled",!0),r.trigger("chosen:updated")},d?(n=d.$render,d.$render=function(){var t,e;u();try{e=h.readValue()}catch(t){}n();try{t=h.readValue()}catch(t){}if(!v&&!a.multiple?e!==t:!angular.equals(e,t))return r.trigger("chosen:updated")},r.on("chosen:hiding_dropdown",function(){return i.$applyAsync(function(){return d.$setTouched()})}),a.multiple&&(b=function(){return d.$viewValue},i.$watch(b,d.$render,!0))):u(),a.$observe("disabled",function(){return r.trigger("chosen:updated")}),a.ngOptions&&d)return m=null,i.$watchCollection(y,function(t,e){return m=w(function(){return angular.isUndefined(t)?p():(l=S(t),g(),s())})}),i.$on("$destroy",function(t){if(null!=m)return w.cancel(m)})}}}])}.call(this),angular.module("ab-base64",[]).constant("base64",function(){var u={alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",lookup:null,ie:/MSIE /.test(navigator.userAgent),ieo:/MSIE [67]/.test(navigator.userAgent),encode:function(t){var e,n,i,r,a=u.toUtf8(t),o=-1,s=a.length,l=[,,,];if(u.ie){for(e=[];++o<s;)n=a[o],i=a[++o],l[0]=n>>2,l[1]=(3&n)<<4|i>>4,isNaN(i)?l[2]=l[3]=64:(r=a[++o],l[2]=(15&i)<<2|r>>6,l[3]=isNaN(r)?64:63&r),e.push(u.alphabet.charAt(l[0]),u.alphabet.charAt(l[1]),u.alphabet.charAt(l[2]),u.alphabet.charAt(l[3]));return e.join("")}for(e="";++o<s;)n=a[o],i=a[++o],l[0]=n>>2,l[1]=(3&n)<<4|i>>4,isNaN(i)?l[2]=l[3]=64:(r=a[++o],l[2]=(15&i)<<2|r>>6,l[3]=isNaN(r)?64:63&r),e+=u.alphabet[l[0]]+u.alphabet[l[1]]+u.alphabet[l[2]]+u.alphabet[l[3]];return e},decode:function(t){if((t=t.replace(/\s/g,"")).length%4)throw new Error("InvalidLengthError: decode failed: The string to be decoded is not the correct length for a base64 encoded string.");if(/[^A-Za-z0-9+\/=\s]/g.test(t))throw new Error("InvalidCharacterError: decode failed: The string contains characters invalid in a base64 encoded string.");var e,n=u.fromUtf8(t),i=0,r=n.length;if(u.ieo){for(e=[];i<r;)e.push(n[i]<128?String.fromCharCode(n[i++]):191<n[i]&&n[i]<224?String.fromCharCode((31&n[i++])<<6|63&n[i++]):String.fromCharCode((15&n[i++])<<12|(63&n[i++])<<6|63&n[i++]));return e.join("")}for(e="";i<r;)e+=String.fromCharCode(n[i]<128?n[i++]:191<n[i]&&n[i]<224?(31&n[i++])<<6|63&n[i++]:(15&n[i++])<<12|(63&n[i++])<<6|63&n[i++]);return e},toUtf8:function(t){var e,n=-1,i=t.length,r=[];if(/^[\x00-\x7f]*$/.test(t))for(;++n<i;)r.push(t.charCodeAt(n));else for(;++n<i;)(e=t.charCodeAt(n))<128?r.push(e):e<2048?r.push(e>>6|192,63&e|128):r.push(e>>12|224,e>>6&63|128,63&e|128);return r},fromUtf8:function(t){var e,n=-1,i=[],r=[,,,];if(!u.lookup){for(e=u.alphabet.length,u.lookup={};++n<e;)u.lookup[u.alphabet.charAt(n)]=n;n=-1}for(e=t.length;++n<e&&(r[0]=u.lookup[t.charAt(n)],r[1]=u.lookup[t.charAt(++n)],i.push(r[0]<<2|r[1]>>4),r[2]=u.lookup[t.charAt(++n)],64!==r[2])&&(i.push((15&r[1])<<4|r[2]>>2),r[3]=u.lookup[t.charAt(++n)],64!==r[3]);)i.push((3&r[2])<<6|r[3]);return i}},t={decode:function(t){var e=(t=t.replace(/-/g,"+").replace(/_/g,"/")).length%4;if(e){if(1===e)throw new Error("InvalidLengthError: Input base64url string is the wrong length to determine padding");t+=new Array(5-e).join("=")}return u.decode(t)},encode:function(t){return u.encode(t).replace(/\+/g,"-").replace(/\//g,"_").split("=",1)[0]}};return{decode:u.decode,encode:u.encode,urldecode:t.decode,urlencode:t.encode}}());